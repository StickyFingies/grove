var zn=Object.defineProperty;var Pn=(r,e,n)=>e in r?zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Oe=(r,e,n)=>(Pn(r,typeof e!="symbol"?e+"":e,n),n);import{c as Dn,g as gt,w as se,P as Ge,p as Ce,V as Qe,a as Bn}from"./game.e9cd2ea9.js";import{dealDamage as qn}from"./damage.system.3c88af9b.js";import{shoot as Un}from"./shooting.6597186d.js";function ze(){return ze=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ze.apply(this,arguments)}var wt={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function cr(r){return typeof r=="number"}function Fr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Le(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Ze(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Ve(r){return r&&r.constructor.prototype.isUnit===!0||!1}function $r(r){return typeof r=="string"}var sr=Array.isArray;function Er(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function yt(r){return Array.isArray(r)||Er(r)}function $n(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Rn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Nt(r){return r&&r.constructor.prototype.isRange===!0||!1}function we(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Ln(r){return typeof r=="boolean"}function _t(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function bt(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Zn(r){return typeof r=="function"}function Vn(r){return r instanceof Date}function Yn(r){return r instanceof RegExp}function Xn(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Le(r)&&!Ze(r))}function Hn(r){return r===null}function Wn(r){return r===void 0}function Jn(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function jn(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Kn(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Gn(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qn(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function kn(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function ri(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function ei(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function ti(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function ni(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function ii(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function ai(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function oi(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function si(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Et(r){return r&&r.constructor.prototype.isChain===!0||!1}function Yr(r){var e=typeof r;return e==="object"?r===null?"null":Array.isArray(r)?"Array":r instanceof Date?"Date":r instanceof RegExp?"RegExp":Fr(r)?"BigNumber":Le(r)?"Complex":Ze(r)?"Fraction":Er(r)?"Matrix":Ve(r)?"Unit":we(r)?"Index":Nt(r)?"Range":_t(r)?"ResultSet":Mt(r)?r.type:Et(r)?"Chain":bt(r)?"Help":"Object":e==="function"?"Function":e}function wr(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return wr(n)});if(r instanceof Date)return new Date(r.valueOf());if(Fr(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return ui(r,wr)}function ui(r,e){var n={};for(var i in r)ie(r,i)&&(n[i]=e(r[i]));return n}function fi(r,e){for(var n in e)ie(e,n)&&(r[n]=e[n]);return r}function le(r,e){var n,i,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,t=r.length;i<t;i++)if(!le(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!le(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function ie(r,e){return r&&Object.hasOwnProperty.call(r,e)}function ci(r,e){for(var n={},i=0;i<e.length;i++){var t=e[i],a=r[t];a!==void 0&&(n[t]=a)}return n}var li=["Matrix","Array"],hi=["number","BigNumber","Fraction"],oe=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(wt)};ze(oe,wt,{MATRIX_OPTIONS:li,NUMBER_OPTIONS:hi});var St={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(Dn,function(){function n(){return!0}function i(){return!1}function t(){}function a(){var c=[{name:"number",test:function(S){return typeof S=="number"}},{name:"string",test:function(S){return typeof S=="string"}},{name:"boolean",test:function(S){return typeof S=="boolean"}},{name:"Function",test:function(S){return typeof S=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(S){return S instanceof Date}},{name:"RegExp",test:function(S){return S instanceof RegExp}},{name:"Object",test:function(S){return typeof S=="object"&&S!==null&&S.constructor===Object}},{name:"null",test:function(S){return S===null}},{name:"undefined",test:function(S){return S===void 0}}],h={name:"any",test:n},v=[],m=[],u={types:c,conversions:m,ignore:v};function o(S){var C=Ar(u.types,function(O){return O.name===S});if(C)return C;if(S==="any")return h;var x=Ar(u.types,function(O){return O.name.toLowerCase()===S.toLowerCase()});throw new TypeError('Unknown type "'+S+'"'+(x?'. Did you mean "'+x.name+'"?':""))}function f(S){return S===h?999:u.types.indexOf(S)}function l(S){var C=Ar(u.types,function(x){return x.test(S)});if(C)return C.name;throw new TypeError("Value has unknown type. Value: "+S)}function p(S,C){if(!S.signatures)throw new TypeError("Function is no typed-function");var x;if(typeof C=="string"){x=C.split(",");for(var O=0;O<x.length;O++)x[O]=x[O].trim()}else if(Array.isArray(C))x=C;else throw new TypeError("String array or a comma separated string expected");var U=x.join(","),X=S.signatures[U];if(X)return X;throw new TypeError("Signature not found (signature: "+(S.name||"unnamed")+"("+x.join(", ")+"))")}function s(S,C){var x=l(S);if(C===x)return S;for(var O=0;O<u.conversions.length;O++){var U=u.conversions[O];if(U.from===x&&U.to===C)return U.convert(S)}throw new Error("Cannot convert from "+x+" to "+C)}function d(S){return S.map(function(C){var x=C.types.map(E);return(C.restParam?"...":"")+x.join("|")}).join(",")}function g(S,C){var x=S.indexOf("...")===0,O=x?S.length>3?S.slice(3):"any":S,U=O.split("|").map(vr).filter(or).filter(hr),X=V(C,U),W=U.map(function($){var K=o($);return{name:$,typeIndex:f(K),test:K.test,conversion:null,conversionIndex:-1}}),L=X.map(function($){var K=o($.from);return{name:$.from,typeIndex:f(K),test:K.test,conversion:$,conversionIndex:C.indexOf($)}});return{types:W.concat(L),restParam:x}}function M(S,C,x){var O=[];return S.trim()!==""&&(O=S.split(",").map(vr).map(function(U,X,W){var L=g(U,x);if(L.restParam&&X!==W.length-1)throw new SyntaxError('Unexpected rest parameter "'+U+'": only allowed for the last parameter');return L})),O.some(fr)?null:{params:O,fn:C}}function N(S){var C=Sr(S);return C?C.restParam:!1}function _(S){return S.types.some(function(C){return C.conversion!=null})}function w(S){if(!S||S.types.length===0)return n;if(S.types.length===1)return o(S.types[0].name).test;if(S.types.length===2){var C=o(S.types[0].name).test,x=o(S.types[1].name).test;return function(X){return C(X)||x(X)}}else{var O=S.types.map(function(U){return o(U.name).test});return function(X){for(var W=0;W<O.length;W++)if(O[W](X))return!0;return!1}}}function y(S){var C,x,O;if(N(S)){C=ir(S).map(w);var U=C.length,X=w(Sr(S)),W=function(L){for(var $=U;$<L.length;$++)if(!X(L[$]))return!1;return!0};return function($){for(var K=0;K<C.length;K++)if(!C[K]($[K]))return!1;return W($)&&$.length>=U+1}}else return S.length===0?function($){return $.length===0}:S.length===1?(x=w(S[0]),function($){return x($[0])&&$.length===1}):S.length===2?(x=w(S[0]),O=w(S[1]),function($){return x($[0])&&O($[1])&&$.length===2}):(C=S.map(w),function($){for(var K=0;K<C.length;K++)if(!C[K]($[K]))return!1;return $.length===C.length})}function A(S,C){return C<S.params.length?S.params[C]:N(S.params)?Sr(S.params):null}function b(S,C,x){var O=A(S,C),U=O?x?O.types.filter(T):O.types:[];return U.map(E)}function E(S){return S.name}function T(S){return S.conversion===null||S.conversion===void 0}function F(S,C){var x=Lr(Dr(S,function(O){return b(O,C,!1)}));return x.indexOf("any")!==-1?["any"]:x}function P(S,C,x){var O,U,X=S||"unnamed",W=x,L;for(L=0;L<C.length;L++){var $=W.filter(function(Br){var Se=w(A(Br,L));return(L<Br.params.length||N(Br.params))&&Se(C[L])});if($.length===0){if(U=F(W,L),U.length>0){var K=l(C[L]);return O=new TypeError("Unexpected type of argument in function "+X+" (expected: "+U.join(" or ")+", actual: "+K+", index: "+L+")"),O.data={category:"wrongType",fn:X,index:L,actual:K,expected:U},O}}else W=$}var xr=W.map(function(Br){return N(Br.params)?1/0:Br.params.length});if(C.length<Math.min.apply(null,xr))return U=F(W,L),O=new TypeError("Too few arguments in function "+X+" (expected: "+U.join(" or ")+", index: "+C.length+")"),O.data={category:"tooFewArgs",fn:X,index:C.length,expected:U},O;var Ir=Math.max.apply(null,xr);return C.length>Ir?(O=new TypeError("Too many arguments in function "+X+" (expected: "+Ir+", actual: "+C.length+")"),O.data={category:"tooManyArgs",fn:X,index:C.length,expectedLength:Ir},O):(O=new TypeError('Arguments of type "'+C.join(", ")+'" do not match any of the defined signatures of function '+X+"."),O.data={category:"mismatch",actual:C.map(l)},O)}function B(S){for(var C=999,x=0;x<S.types.length;x++)T(S.types[x])&&(C=Math.min(C,S.types[x].typeIndex));return C}function D(S){for(var C=999,x=0;x<S.types.length;x++)T(S.types[x])||(C=Math.min(C,S.types[x].conversionIndex));return C}function q(S,C){var x;return x=S.restParam-C.restParam,x!==0||(x=_(S)-_(C),x!==0)||(x=B(S)-B(C),x!==0)?x:D(S)-D(C)}function z(S,C){var x=Math.min(S.params.length,C.params.length),O,U;if(U=S.params.some(_)-C.params.some(_),U!==0)return U;for(O=0;O<x;O++)if(U=_(S.params[O])-_(C.params[O]),U!==0)return U;for(O=0;O<x;O++)if(U=q(S.params[O],C.params[O]),U!==0)return U;return S.params.length-C.params.length}function V(S,C){var x={};return S.forEach(function(O){C.indexOf(O.from)===-1&&C.indexOf(O.to)!==-1&&!x[O.from]&&(x[O.from]=O)}),Object.keys(x).map(function(O){return x[O]})}function R(S,C){var x=C;if(S.some(_)){var O=N(S),U=S.map(Y);x=function(){for(var $=[],K=O?arguments.length-1:arguments.length,xr=0;xr<K;xr++)$[xr]=U[xr](arguments[xr]);return O&&($[K]=arguments[K].map(U[K])),C.apply(this,$)}}var X=x;if(N(S)){var W=S.length-1;X=function(){return x.apply(this,dr(arguments,0,W).concat([dr(arguments,W)]))}}return X}function Y(S){var C,x,O,U,X=[],W=[];switch(S.types.forEach(function(L){L.conversion&&(X.push(o(L.conversion.from).test),W.push(L.conversion.convert))}),W.length){case 0:return function($){return $};case 1:return C=X[0],O=W[0],function($){return C($)?O($):$};case 2:return C=X[0],x=X[1],O=W[0],U=W[1],function($){return C($)?O($):x($)?U($):$};default:return function($){for(var K=0;K<W.length;K++)if(X[K]($))return W[K]($);return $}}}function j(S){var C={};return S.forEach(function(x){x.params.some(_)||k(x.params,!0).forEach(function(O){C[d(O)]=x.fn})}),C}function k(S,C){function x(O,U,X){if(U<O.length){var W=O[U],L=C?W.types.filter(T):W.types,$;if(W.restParam){var K=L.filter(T);$=K.length<L.length?[K,L]:[L]}else $=L.map(function(Ir){return[Ir]});return Dr($,function(Ir){return x(O,U+1,X.concat([Ir]))})}else{var xr=X.map(function(Ir,Br){return{types:Ir,restParam:Br===O.length-1&&N(O)}});return[xr]}}return x(S,0,[])}function rr(S,C){for(var x=Math.max(S.params.length,C.params.length),O=0;O<x;O++){var U=b(S,O,!0),X=b(C,O,!0);if(!gr(U,X))return!1}var W=S.params.length,L=C.params.length,$=N(S.params),K=N(C.params);return $?K?W===L:L>=W:K?W>=L:W===L}function G(S,C){if(Object.keys(C).length===0)throw new SyntaxError("No signatures provided");var x=[];Object.keys(C).map(function(ar){return M(ar,C[ar],u.conversions)}).filter(Mr).forEach(function(ar){var _r=Ar(x,function(qr){return rr(qr,ar)});if(_r)throw new TypeError('Conflicting signatures "'+d(_r.params)+'" and "'+d(ar.params)+'".');x.push(ar)});var O=Dr(x,function(ar){var _r=ar?k(ar.params,!1):[];return _r.map(function(qr){return{params:qr,fn:ar.fn}})}).filter(Mr);O.sort(z);var U=O[0]&&O[0].params.length<=2&&!N(O[0].params),X=O[1]&&O[1].params.length<=2&&!N(O[1].params),W=O[2]&&O[2].params.length<=2&&!N(O[2].params),L=O[3]&&O[3].params.length<=2&&!N(O[3].params),$=O[4]&&O[4].params.length<=2&&!N(O[4].params),K=O[5]&&O[5].params.length<=2&&!N(O[5].params),xr=U&&X&&W&&L&&$&&K,Ir=O.map(function(ar){return y(ar.params)}),Br=U?w(O[0].params[0]):i,Se=X?w(O[1].params[0]):i,un=W?w(O[2].params[0]):i,fn=L?w(O[3].params[0]):i,cn=$?w(O[4].params[0]):i,ln=K?w(O[5].params[0]):i,hn=U?w(O[0].params[1]):i,vn=X?w(O[1].params[1]):i,pn=W?w(O[2].params[1]):i,dn=L?w(O[3].params[1]):i,mn=$?w(O[4].params[1]):i,gn=K?w(O[5].params[1]):i,jr=O.map(function(ar){return R(ar.params,ar.fn)}),wn=U?jr[0]:t,yn=X?jr[1]:t,Nn=W?jr[2]:t,_n=L?jr[3]:t,bn=$?jr[4]:t,Mn=K?jr[5]:t,En=U?O[0].params.length:-1,Sn=X?O[1].params.length:-1,An=W?O[2].params.length:-1,On=L?O[3].params.length:-1,Cn=$?O[4].params.length:-1,Tn=K?O[5].params.length:-1,xn=xr?6:0,Fn=O.length,In=function(){for(var _r=xn;_r<Fn;_r++)if(Ir[_r](arguments))return jr[_r].apply(this,arguments);return u.onMismatch(S,arguments,O)},Ae=function ar(_r,qr){return arguments.length===En&&Br(_r)&&hn(qr)?wn.apply(ar,arguments):arguments.length===Sn&&Se(_r)&&vn(qr)?yn.apply(ar,arguments):arguments.length===An&&un(_r)&&pn(qr)?Nn.apply(ar,arguments):arguments.length===On&&fn(_r)&&dn(qr)?_n.apply(ar,arguments):arguments.length===Cn&&cn(_r)&&mn(qr)?bn.apply(ar,arguments):arguments.length===Tn&&ln(_r)&&gn(qr)?Mn.apply(ar,arguments):In.apply(ar,arguments)};try{Object.defineProperty(Ae,"name",{value:S})}catch{}return Ae.signatures=j(O),Ae}function lr(S,C,x){throw P(S,C,x)}function hr(S){return u.ignore.indexOf(S)===-1}function vr(S){return S.trim()}function or(S){return!!S}function Mr(S){return S!==null}function fr(S){return S.types.length===0}function ir(S){return S.slice(0,S.length-1)}function Sr(S){return S[S.length-1]}function dr(S,C,x){return Array.prototype.slice.call(S,C,x)}function tr(S,C){return S.indexOf(C)!==-1}function gr(S,C){for(var x=0;x<S.length;x++)if(tr(C,S[x]))return!0;return!1}function Ar(S,C){for(var x=0;x<S.length;x++)if(C(S[x]))return S[x]}function Lr(S){for(var C={},x=0;x<S.length;x++)C[S[x]]=!0;return Object.keys(C)}function Dr(S,C){return Array.prototype.concat.apply([],S.map(C))}function Gr(S){for(var C="",x=0;x<S.length;x++){var O=S[x];if((typeof O.signatures=="object"||typeof O.signature=="string")&&O.name!==""){if(C==="")C=O.name;else if(C!==O.name){var U=new Error("Function names do not match (expected: "+C+", actual: "+O.name+")");throw U.data={actual:O.name,expected:C},U}}}return C}function Jr(S){var C,x={};function O(L,$){if(x.hasOwnProperty(L)&&$!==x[L])throw C=new Error('Signature "'+L+'" is defined twice'),C.data={signature:L},C}for(var U=0;U<S.length;U++){var X=S[U];if(typeof X.signatures=="object")for(var W in X.signatures)X.signatures.hasOwnProperty(W)&&(O(W,X.signatures[W]),x[W]=X.signatures[W]);else if(typeof X.signature=="string")O(X.signature,X),x[X.signature]=X;else throw C=new TypeError("Function is no typed-function (index: "+U+")"),C.data={index:U},C}return x}return u=G("typed",{"string, Object":G,Object:function(S){var C=[];for(var x in S)S.hasOwnProperty(x)&&C.push(S[x]);var O=Gr(C);return G(O,S)},"...Function":function(S){return G(Gr(S),Jr(S))},"string, ...Function":function(S,C){return G(S,Jr(C))}}),u.create=a,u.types=c,u.conversions=m,u.ignore=v,u.onMismatch=lr,u.throwMismatchError=lr,u.createError=P,u.convert=s,u.find=p,u.addType=function(S,C){if(!S||typeof S.name!="string"||typeof S.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(C!==!1){for(var x=0;x<u.types.length;x++)if(u.types[x].name==="Object"){u.types.splice(x,0,S);return}}u.types.push(S)},u.addConversion=function(S){if(!S||typeof S.from!="string"||typeof S.to!="string"||typeof S.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(S)},u}return a()})})(St);var ke=St.exports;function yr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Te(r,e,n){var i={2:"0b",8:"0o",16:"0x"},t=i[e],a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!yr(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!yr(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),a="i".concat(n)}var c="";return r<0&&(r=-r,c="-"),"".concat(c).concat(t).concat(r.toString(e)).concat(a)}function Pe(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var n="auto",i,t;if(e&&(e.notation&&(n=e.notation),cr(e)?i=e:cr(e.precision)&&(i=e.precision),e.wordSize&&(t=e.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return pi(r,i);case"exponential":return At(r,i);case"engineering":return vi(r,i);case"bin":return Te(r,2,t);case"oct":return Te(r,8,t);case"hex":return Te(r,16,t);case"auto":return di(r,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],c=arguments[4];return a!=="."?a+c:c});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ye(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],i=e[2],t=parseFloat(e[4]||"0"),a=i.indexOf(".");t+=a!==-1?a-1:i.length-1;var c=i.replace(".","").replace(/^0*/,function(h){return t-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return c.length===0&&(c.push(0),t++),{sign:n,coefficients:c,exponent:t}}function vi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=ye(r),i=Ne(n,e),t=i.exponent,a=i.coefficients,c=t%3===0?t:t<0?t-3-t%3:t-t%3;if(cr(e))for(;e>a.length||t-c+1>a.length;)a.push(0);else for(var h=Math.abs(t-c)-(a.length-1),v=0;v<h;v++)a.push(0);for(var m=Math.abs(t-c),u=1;m>0;)u++,m--;var o=a.slice(u).join(""),f=cr(e)&&o.length||o.match(/[1-9]/)?"."+o:"",l=a.slice(0,u).join("")+f+"e"+(t>=0?"+":"")+c.toString();return i.sign+l}function pi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=ye(r),i=typeof e=="number"?Ne(n,n.exponent+1+e):n,t=i.coefficients,a=i.exponent+1,c=a+(e||0);return t.length<c&&(t=t.concat(re(c-t.length))),a<0&&(t=re(-a+1).concat(t),a=1),a<t.length&&t.splice(a,0,a===0?"0.":"."),i.sign+t.join("")}function At(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=ye(r),i=e?Ne(n,e):n,t=i.coefficients,a=i.exponent;t.length<e&&(t=t.concat(re(e-t.length)));var c=t.shift();return i.sign+c+(t.length>0?"."+t.join(""):"")+"e"+(a>=0?"+":"")+a}function di(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var i=n&&n.lowerExp!==void 0?n.lowerExp:-3,t=n&&n.upperExp!==void 0?n.upperExp:5,a=ye(r),c=e?Ne(a,e):a;if(c.exponent<i||c.exponent>=t)return At(r,e);var h=c.coefficients,v=c.exponent;h.length<e&&(h=h.concat(re(e-h.length))),h=h.concat(re(v-h.length+1+(h.length<e?e-h.length:0))),h=re(-v).concat(h);var m=v>0?v:0;return m<h.length-1&&h.splice(m+1,0,"."),c.sign+h.join("")}function Ne(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=n.coefficients;e<=0;)i.unshift(0),n.exponent++,e++;if(i.length>e){var t=i.splice(e,i.length-e);if(t[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),n.exponent++,a++),a--,i[a]++}}return n}function re(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function mi(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var gi=Number.EPSILON||2220446049250313e-31;function he(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var i=Math.abs(r-e);return i<gi?!0:i<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function xe(r,e,n){var i=r.constructor,t=new i(2),a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!yr(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),a="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function wi(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var n="auto",i,t;if(e!==void 0&&(e.notation&&(n=e.notation),typeof e=="number"?i=e:e.precision&&(i=e.precision),e.wordSize&&(t=e.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Ni(r,i);case"exponential":return rt(r,i);case"engineering":return yi(r,i);case"bin":return xe(r,2,t);case"oct":return xe(r,8,t);case"hex":return xe(r,16,t);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,c=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var h,v=r.toSignificantDigits(i),m=v.e;return m>=a&&m<c?h=v.toFixed():h=rt(r,i),h.replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function yi(r,e){var n=r.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-i)),a=t.toPrecision(e);return a.indexOf("e")!==-1&&(a=t.toString()),a+"e"+(n>=0?"+":"")+i.toString()}function rt(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Ni(r,e){return r.toFixed(e)}function Cr(r,e){var n=_i(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function _i(r,e){if(typeof r=="number")return Pe(r,e);if(Fr(r))return wi(r,e);if(bi(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Ot(r,e);if($r(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(i=>'"'+i+'": '+Cr(r[i],e));return"{"+n.join(", ")+"}"}return String(r)}function Ot(r,e){if(Array.isArray(r)){for(var n="[",i=r.length,t=0;t<i;t++)t!==0&&(n+=", "),n+=Ot(r[t],e);return n+="]",n}else return Cr(r,e)}function bi(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function er(r,e,n){if(!(this instanceof er))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}er.prototype=new RangeError;er.prototype.constructor=RangeError;er.prototype.name="DimensionError";er.prototype.isDimensionError=!0;function ne(r,e,n){if(!(this instanceof ne))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ne.prototype=new RangeError;ne.prototype.constructor=RangeError;ne.prototype.name="IndexError";ne.prototype.isIndexError=!0;function Kr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ct(r,e,n){var i,t=r.length;if(t!==e[n])throw new er(t,e[n]);if(n<e.length-1){var a=n+1;for(i=0;i<t;i++){var c=r[i];if(!Array.isArray(c))throw new er(e.length-1,e.length,"<");Ct(r[i],e,a)}}else for(i=0;i<t;i++)if(Array.isArray(r[i]))throw new er(e.length+1,e.length,">")}function et(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new er(r.length,0)}else Ct(r,e,0)}function ur(r,e){if(!cr(r)||!yr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new ne(r,e)}function tt(r,e,n){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!cr(t)||!yr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Cr(e)+")")});var i=n!==void 0?n:0;return De(r,e,0,i),r}function De(r,e,n,i){var t,a,c=r.length,h=e[n],v=Math.min(c,h);if(r.length=h,n<e.length-1){var m=n+1;for(t=0;t<v;t++)a=r[t],Array.isArray(a)||(a=[a],r[t]=a),De(a,e,m,i);for(t=v;t<h;t++)a=[],r[t]=a,De(a,e,m,i)}else{for(t=0;t<v;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=v;t<h;t++)r[t]=i}}function Mi(r,e){var n=Si(r),i=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new er(0,i,"!=");e=Ye(e,i);var t=Tt(e);if(i!==t)throw new er(t,i,"!=");try{return Ei(n,e)}catch(a){throw a instanceof er?new er(t,i,"!="):a}}function Ye(r,e){var n=Tt(r),i=r.slice(),t=-1,a=r.indexOf(t),c=r.indexOf(t,a+1)>=0;if(c)throw new Error("More than one wildcard in sizes");var h=a>=0,v=e%n===0;if(h)if(v)i[a]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return i}function Tt(r){return r.reduce((e,n)=>e*n,1)}function Ei(r,e){for(var n=r,i,t=e.length-1;t>0;t--){var a=e[t];i=[];for(var c=n.length/a,h=0;h<c;h++)i.push(n.slice(h*a,(h+1)*a));n=i}return n}function xt(r,e,n,i){var t=i||Kr(r);if(n)for(var a=0;a<n;a++)r=[r],t.unshift(1);for(r=Ft(r,e,0);t.length<e;)t.push(1);return r}function Ft(r,e,n){var i,t;if(Array.isArray(r)){var a=n+1;for(i=0,t=r.length;i<t;i++)r[i]=Ft(r[i],e,a)}else for(var c=n;c<e;c++)r=[r];return r}function Si(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(i){Array.isArray(i)?i.forEach(n):e.push(i)}),e}function ve(r,e){for(var n,i=0,t=0;t<r.length;t++){var a=r[t],c=Array.isArray(a);if(t===0&&c&&(i=a.length),c&&a.length!==i)return;var h=c?ve(a,e):e(a);if(n===void 0)n=h;else if(n!==h)return"mixed"}return n}function Q(r,e,n,i){function t(a){var c=ci(a,e.map(Ci));return Ai(r,e,a),n(c)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),i&&(t.meta=i),t}function Ai(r,e,n){var i=e.filter(a=>!Oi(a)).every(a=>n[a]!==void 0);if(!i){var t=e.filter(a=>n[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Oi(r){return r&&r[0]==="?"}function Ci(r){return r&&r[0]==="?"?r.slice(1):r}function Ti(r,e){if(zt(r)&&It(r,e))return r[e];throw typeof r[e]=="function"&&Ii(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function xi(r,e,n){if(zt(r)&&It(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function Fi(r,e){return e in r}function It(r,e){return!r||typeof r!="object"?!1:ie(zi,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ii(r,e){return r==null||typeof r[e]!="function"||ie(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ie(Pi,e)?!0:!(e in Object.prototype||e in Function.prototype)}function zt(r){return typeof r=="object"&&r&&r.constructor===Object}var zi={length:!0,name:!0},Pi={toString:!0,valueOf:!0,toLocaleString:!0};class Di{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Ti(this.wrappedObject,e)}set(e,n){return xi(this.wrappedObject,e,n),this}has(e){return Fi(this.wrappedObject,e)}}function Bi(r){return r?r instanceof Map||r instanceof Di||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Pt=function(){return Pt=ke.create,ke},qi=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ui=Q("typed",qi,function(e){var{BigNumber:n,Complex:i,DenseMatrix:t,Fraction:a}=e,c=Pt();return c.types=[{name:"number",test:cr},{name:"Complex",test:Le},{name:"BigNumber",test:Fr},{name:"Fraction",test:Ze},{name:"Unit",test:Ve},{name:"string",test:$r},{name:"Chain",test:Et},{name:"Array",test:sr},{name:"Matrix",test:Er},{name:"DenseMatrix",test:$n},{name:"SparseMatrix",test:Rn},{name:"Range",test:Nt},{name:"Index",test:we},{name:"boolean",test:Ln},{name:"ResultSet",test:_t},{name:"Help",test:bt},{name:"function",test:Zn},{name:"Date",test:Vn},{name:"RegExp",test:Yn},{name:"null",test:Hn},{name:"undefined",test:Wn},{name:"AccessorNode",test:Jn},{name:"ArrayNode",test:jn},{name:"AssignmentNode",test:Kn},{name:"BlockNode",test:Gn},{name:"ConditionalNode",test:Qn},{name:"ConstantNode",test:kn},{name:"FunctionNode",test:ei},{name:"FunctionAssignmentNode",test:ri},{name:"IndexNode",test:ti},{name:"Node",test:Mt},{name:"ObjectNode",test:ni},{name:"OperatorNode",test:ii},{name:"ParenthesisNode",test:ai},{name:"RangeNode",test:oi},{name:"SymbolNode",test:si},{name:"Map",test:Bi},{name:"Object",test:Xn}],c.conversions=[{from:"number",to:"BigNumber",convert:function(v){if(n||Fe(v),mi(v)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+v+"). Use function bignumber(x) to convert to BigNumber.");return new n(v)}},{from:"number",to:"Complex",convert:function(v){return i||ue(v),new i(v,0)}},{from:"number",to:"string",convert:function(v){return v+""}},{from:"BigNumber",to:"Complex",convert:function(v){return i||ue(v),new i(v.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(v){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(v){return i||ue(v),new i(v.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(v){a||Ie(v);var m=new a(v);if(m.valueOf()!==v)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+v+"). Use function fraction(x) to convert to Fraction.");return m}},{from:"string",to:"number",convert:function(v){var m=Number(v);if(isNaN(m))throw new Error('Cannot convert "'+v+'" to a number');return m}},{from:"string",to:"BigNumber",convert:function(v){n||Fe(v);try{return new n(v)}catch{throw new Error('Cannot convert "'+v+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(v){a||Ie(v);try{return new a(v)}catch{throw new Error('Cannot convert "'+v+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(v){i||ue(v);try{return new i(v)}catch{throw new Error('Cannot convert "'+v+'" to Complex')}}},{from:"boolean",to:"number",convert:function(v){return+v}},{from:"boolean",to:"BigNumber",convert:function(v){return n||Fe(v),new n(+v)}},{from:"boolean",to:"Fraction",convert:function(v){return a||Ie(v),new a(+v)}},{from:"boolean",to:"string",convert:function(v){return String(v)}},{from:"Array",to:"Matrix",convert:function(v){return t||$i(),new t(v)}},{from:"Matrix",to:"Array",convert:function(v){return v.valueOf()}}],c});function Fe(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function ue(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function $i(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ie(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.2
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var kr=9e15,Hr=1e9,Be="0123456789abcdef",pe="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",de="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",qe={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-kr,maxE:kr,crypto:!1},Dt,Rr,J=!0,_e="[DecimalError] ",Xr=_e+"Invalid argument: ",Bt=_e+"Precision limit exceeded",qt=_e+"crypto unavailable",Ut="[object Decimal]",br=Math.floor,pr=Math.pow,Ri=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Li=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Zi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,$t=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr=1e7,H=7,Vi=9007199254740991,Yi=pe.length-1,Ue=de.length-1,I={toStringTag:Ut};I.absoluteValue=I.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Z(r)};I.ceil=function(){return Z(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(r,e){var n,i=this,t=i.constructor;if(r=new t(r),e=new t(e),!r.s||!e.s)return new t(NaN);if(r.gt(e))throw Error(Xr+e);return n=i.cmp(r),n<0?r:i.cmp(e)>0?e:new t(i)};I.comparedTo=I.cmp=function(r){var e,n,i,t,a=this,c=a.d,h=(r=new a.constructor(r)).d,v=a.s,m=r.s;if(!c||!h)return!v||!m?NaN:v!==m?v:c===h?0:!c^v<0?1:-1;if(!c[0]||!h[0])return c[0]?v:h[0]?-m:0;if(v!==m)return v;if(a.e!==r.e)return a.e>r.e^v<0?1:-1;for(i=c.length,t=h.length,e=0,n=i<t?i:t;e<n;++e)if(c[e]!==h[e])return c[e]>h[e]^v<0?1:-1;return i===t?0:i>t^v<0?1:-1};I.cosine=I.cos=function(){var r,e,n=this,i=n.constructor;return n.d?n.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(n.e,n.sd())+H,i.rounding=1,n=Xi(i,Yt(i,n)),i.precision=r,i.rounding=e,Z(Rr==2||Rr==3?n.neg():n,r,e,!0)):new i(1):new i(NaN)};I.cubeRoot=I.cbrt=function(){var r,e,n,i,t,a,c,h,v,m,u=this,o=u.constructor;if(!u.isFinite()||u.isZero())return new o(u);for(J=!1,a=u.s*pr(u.s*u,1/3),!a||Math.abs(a)==1/0?(n=Nr(u.d),r=u.e,(a=(r-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=pr(n,1/3),r=br((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?n="5e"+r:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),i=new o(n),i.s=u.s):i=new o(a.toString()),c=(r=o.precision)+3;;)if(h=i,v=h.times(h).times(h),m=v.plus(u),i=nr(m.plus(u).times(h),m.plus(v),c+2,1),Nr(h.d).slice(0,c)===(n=Nr(i.d)).slice(0,c))if(n=n.slice(c-3,c+1),n=="9999"||!t&&n=="4999"){if(!t&&(Z(h,r+1,0),h.times(h).times(h).eq(u))){i=h;break}c+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Z(i,r+1,1),e=!i.times(i).times(i).eq(u));break}return J=!0,Z(i,r,o.rounding,e)};I.decimalPlaces=I.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-br(this.e/H))*H,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};I.dividedBy=I.div=function(r){return nr(this,new this.constructor(r))};I.dividedToIntegerBy=I.divToInt=function(r){var e=this,n=e.constructor;return Z(nr(e,new n(r),0,1,1),n.precision,n.rounding)};I.equals=I.eq=function(r){return this.cmp(r)===0};I.floor=function(){return Z(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(r){return this.cmp(r)>0};I.greaterThanOrEqualTo=I.gte=function(r){var e=this.cmp(r);return e==1||e===0};I.hyperbolicCosine=I.cosh=function(){var r,e,n,i,t,a=this,c=a.constructor,h=new c(1);if(!a.isFinite())return new c(a.s?1/0:NaN);if(a.isZero())return h;n=c.precision,i=c.rounding,c.precision=n+Math.max(a.e,a.sd())+4,c.rounding=1,t=a.d.length,t<32?(r=Math.ceil(t/3),e=(1/Me(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=ee(c,1,a.times(e),new c(1),!0);for(var v,m=r,u=new c(8);m--;)v=a.times(a),a=h.minus(v.times(u.minus(v.times(u))));return Z(a,c.precision=n,c.rounding=i,!0)};I.hyperbolicSine=I.sinh=function(){var r,e,n,i,t=this,a=t.constructor;if(!t.isFinite()||t.isZero())return new a(t);if(e=a.precision,n=a.rounding,a.precision=e+Math.max(t.e,t.sd())+4,a.rounding=1,i=t.d.length,i<3)t=ee(a,2,t,t,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/Me(5,r)),t=ee(a,2,t,t,!0);for(var c,h=new a(5),v=new a(16),m=new a(20);r--;)c=t.times(t),t=t.times(h.plus(c.times(v.times(c).plus(m))))}return a.precision=e,a.rounding=n,Z(t,e,n,!0)};I.hyperbolicTangent=I.tanh=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,nr(n.sinh(),n.cosh(),i.precision=r,i.rounding=e)):new i(n.s)};I.inverseCosine=I.acos=function(){var r,e=this,n=e.constructor,i=e.abs().cmp(1),t=n.precision,a=n.rounding;return i!==-1?i===0?e.isNeg()?zr(n,t,a):new n(0):new n(NaN):e.isZero()?zr(n,t+4,a).times(.5):(n.precision=t+6,n.rounding=1,e=e.asin(),r=zr(n,t+4,a).times(.5),n.precision=t,n.rounding=a,r.minus(e))};I.inverseHyperbolicCosine=I.acosh=function(){var r,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,J=!1,n=n.times(n).minus(1).sqrt().plus(n),J=!0,i.precision=r,i.rounding=e,n.ln()):new i(n)};I.inverseHyperbolicSine=I.asinh=function(){var r,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,J=!1,n=n.times(n).plus(1).sqrt().plus(n),J=!0,i.precision=r,i.rounding=e,n.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var r,e,n,i,t=this,a=t.constructor;return t.isFinite()?t.e>=0?new a(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(r=a.precision,e=a.rounding,i=t.sd(),Math.max(i,r)<2*-t.e-1?Z(new a(t),r,e,!0):(a.precision=n=i-t.e,t=nr(t.plus(1),new a(1).minus(t),n+r,1),a.precision=r+4,a.rounding=1,t=t.ln(),a.precision=r,a.rounding=e,t.times(.5))):new a(NaN)};I.inverseSine=I.asin=function(){var r,e,n,i,t=this,a=t.constructor;return t.isZero()?new a(t):(e=t.abs().cmp(1),n=a.precision,i=a.rounding,e!==-1?e===0?(r=zr(a,n+4,i).times(.5),r.s=t.s,r):new a(NaN):(a.precision=n+6,a.rounding=1,t=t.div(new a(1).minus(t.times(t)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=i,t.times(2)))};I.inverseTangent=I.atan=function(){var r,e,n,i,t,a,c,h,v,m=this,u=m.constructor,o=u.precision,f=u.rounding;if(m.isFinite()){if(m.isZero())return new u(m);if(m.abs().eq(1)&&o+4<=Ue)return c=zr(u,o+4,f).times(.25),c.s=m.s,c}else{if(!m.s)return new u(NaN);if(o+4<=Ue)return c=zr(u,o+4,f).times(.5),c.s=m.s,c}for(u.precision=h=o+10,u.rounding=1,n=Math.min(28,h/H+2|0),r=n;r;--r)m=m.div(m.times(m).plus(1).sqrt().plus(1));for(J=!1,e=Math.ceil(h/H),i=1,v=m.times(m),c=new u(m),t=m;r!==-1;)if(t=t.times(v),a=c.minus(t.div(i+=2)),t=t.times(v),c=a.plus(t.div(i+=2)),c.d[e]!==void 0)for(r=e;c.d[r]===a.d[r]&&r--;);return n&&(c=c.times(2<<n-1)),J=!0,Z(c,u.precision=o,u.rounding=f,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&br(this.e/H)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(r){return this.cmp(r)<0};I.lessThanOrEqualTo=I.lte=function(r){return this.cmp(r)<1};I.logarithm=I.log=function(r){var e,n,i,t,a,c,h,v,m=this,u=m.constructor,o=u.precision,f=u.rounding,l=5;if(r==null)r=new u(10),e=!0;else{if(r=new u(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new u(NaN);e=r.eq(10)}if(n=m.d,m.s<0||!n||!n[0]||m.eq(1))return new u(n&&!n[0]?-1/0:m.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)a=!0;else{for(t=n[0];t%10===0;)t/=10;a=t!==1}if(J=!1,h=o+l,c=Vr(m,h),i=e?me(u,h+10):Vr(r,h),v=nr(c,i,h,1),ae(v.d,t=o,f))do if(h+=10,c=Vr(m,h),i=e?me(u,h+10):Vr(r,h),v=nr(c,i,h,1),!a){+Nr(v.d).slice(t+1,t+15)+1==1e14&&(v=Z(v,o+1,0));break}while(ae(v.d,t+=10,f));return J=!0,Z(v,o,f)};I.minus=I.sub=function(r){var e,n,i,t,a,c,h,v,m,u,o,f,l=this,p=l.constructor;if(r=new p(r),!l.d||!r.d)return!l.s||!r.s?r=new p(NaN):l.d?r.s=-r.s:r=new p(r.d||l.s!==r.s?l:NaN),r;if(l.s!=r.s)return r.s=-r.s,l.plus(r);if(m=l.d,f=r.d,h=p.precision,v=p.rounding,!m[0]||!f[0]){if(f[0])r.s=-r.s;else if(m[0])r=new p(l);else return new p(v===3?-0:0);return J?Z(r,h,v):r}if(n=br(r.e/H),u=br(l.e/H),m=m.slice(),a=u-n,a){for(o=a<0,o?(e=m,a=-a,c=f.length):(e=f,n=u,c=m.length),i=Math.max(Math.ceil(h/H),c)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=m.length,c=f.length,o=i<c,o&&(c=i),i=0;i<c;i++)if(m[i]!=f[i]){o=m[i]<f[i];break}a=0}for(o&&(e=m,m=f,f=e,r.s=-r.s),c=m.length,i=f.length-c;i>0;--i)m[c++]=0;for(i=f.length;i>a;){if(m[--i]<f[i]){for(t=i;t&&m[--t]===0;)m[t]=Pr-1;--m[t],m[i]+=Pr}m[i]-=f[i]}for(;m[--c]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(r.d=m,r.e=be(m,n),J?Z(r,h,v):r):new p(v===3?-0:0)};I.modulo=I.mod=function(r){var e,n=this,i=n.constructor;return r=new i(r),!n.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||n.d&&!n.d[0]?Z(new i(n),i.precision,i.rounding):(J=!1,i.modulo==9?(e=nr(n,r.abs(),0,3,1),e.s*=r.s):e=nr(n,r,0,i.modulo,1),e=e.times(r),J=!0,n.minus(e))};I.naturalExponential=I.exp=function(){return $e(this)};I.naturalLogarithm=I.ln=function(){return Vr(this)};I.negated=I.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Z(r)};I.plus=I.add=function(r){var e,n,i,t,a,c,h,v,m,u,o=this,f=o.constructor;if(r=new f(r),!o.d||!r.d)return!o.s||!r.s?r=new f(NaN):o.d||(r=new f(r.d||o.s===r.s?o:NaN)),r;if(o.s!=r.s)return r.s=-r.s,o.minus(r);if(m=o.d,u=r.d,h=f.precision,v=f.rounding,!m[0]||!u[0])return u[0]||(r=new f(o)),J?Z(r,h,v):r;if(a=br(o.e/H),i=br(r.e/H),m=m.slice(),t=a-i,t){for(t<0?(n=m,t=-t,c=u.length):(n=u,i=a,c=m.length),a=Math.ceil(h/H),c=a>c?a+1:c+1,t>c&&(t=c,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(c=m.length,t=u.length,c-t<0&&(t=c,n=u,u=m,m=n),e=0;t;)e=(m[--t]=m[t]+u[t]+e)/Pr|0,m[t]%=Pr;for(e&&(m.unshift(e),++i),c=m.length;m[--c]==0;)m.pop();return r.d=m,r.e=be(m,i),J?Z(r,h,v):r};I.precision=I.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Xr+r);return n.d?(e=Rt(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};I.round=function(){var r=this,e=r.constructor;return Z(new e(r),r.e+1,e.rounding)};I.sine=I.sin=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+Math.max(n.e,n.sd())+H,i.rounding=1,n=Wi(i,Yt(i,n)),i.precision=r,i.rounding=e,Z(Rr>2?n.neg():n,r,e,!0)):new i(NaN)};I.squareRoot=I.sqrt=function(){var r,e,n,i,t,a,c=this,h=c.d,v=c.e,m=c.s,u=c.constructor;if(m!==1||!h||!h[0])return new u(!m||m<0&&(!h||h[0])?NaN:h?c:1/0);for(J=!1,m=Math.sqrt(+c),m==0||m==1/0?(e=Nr(h),(e.length+v)%2==0&&(e+="0"),m=Math.sqrt(e),v=br((v+1)/2)-(v<0||v%2),m==1/0?e="5e"+v:(e=m.toExponential(),e=e.slice(0,e.indexOf("e")+1)+v),i=new u(e)):i=new u(m.toString()),n=(v=u.precision)+3;;)if(a=i,i=a.plus(nr(c,a,n+2,1)).times(.5),Nr(a.d).slice(0,n)===(e=Nr(i.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!t&&e=="4999"){if(!t&&(Z(a,v+1,0),a.times(a).eq(c))){i=a;break}n+=4,t=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Z(i,v+1,1),r=!i.times(i).eq(c));break}return J=!0,Z(i,v,u.rounding,r)};I.tangent=I.tan=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,n=n.sin(),n.s=1,n=nr(n,new i(1).minus(n.times(n)).sqrt(),r+10,0),i.precision=r,i.rounding=e,Z(Rr==2||Rr==4?n.neg():n,r,e,!0)):new i(NaN)};I.times=I.mul=function(r){var e,n,i,t,a,c,h,v,m,u=this,o=u.constructor,f=u.d,l=(r=new o(r)).d;if(r.s*=u.s,!f||!f[0]||!l||!l[0])return new o(!r.s||f&&!f[0]&&!l||l&&!l[0]&&!f?NaN:!f||!l?r.s/0:r.s*0);for(n=br(u.e/H)+br(r.e/H),v=f.length,m=l.length,v<m&&(a=f,f=l,l=a,c=v,v=m,m=c),a=[],c=v+m,i=c;i--;)a.push(0);for(i=m;--i>=0;){for(e=0,t=v+i;t>i;)h=a[t]+l[i]*f[t-i-1]+e,a[t--]=h%Pr|0,e=h/Pr|0;a[t]=(a[t]+e)%Pr|0}for(;!a[--c];)a.pop();return e?++n:a.shift(),r.d=a,r.e=be(a,n),J?Z(r,o.precision,o.rounding):r};I.toBinary=function(r,e){return Xe(this,2,r,e)};I.toDecimalPlaces=I.toDP=function(r,e){var n=this,i=n.constructor;return n=new i(n),r===void 0?n:(Tr(r,0,Hr),e===void 0?e=i.rounding:Tr(e,0,8),Z(n,r+n.e+1,e))};I.toExponential=function(r,e){var n,i=this,t=i.constructor;return r===void 0?n=Ur(i,!0):(Tr(r,0,Hr),e===void 0?e=t.rounding:Tr(e,0,8),i=Z(new t(i),r+1,e),n=Ur(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+n:n};I.toFixed=function(r,e){var n,i,t=this,a=t.constructor;return r===void 0?n=Ur(t):(Tr(r,0,Hr),e===void 0?e=a.rounding:Tr(e,0,8),i=Z(new a(t),r+t.e+1,e),n=Ur(i,!1,r+i.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};I.toFraction=function(r){var e,n,i,t,a,c,h,v,m,u,o,f,l=this,p=l.d,s=l.constructor;if(!p)return new s(l);if(m=n=new s(1),i=v=new s(0),e=new s(i),a=e.e=Rt(p)-l.e-1,c=a%H,e.d[0]=pr(10,c<0?H+c:c),r==null)r=a>0?e:m;else{if(h=new s(r),!h.isInt()||h.lt(m))throw Error(Xr+h);r=h.gt(e)?a>0?e:m:h}for(J=!1,h=new s(Nr(p)),u=s.precision,s.precision=a=p.length*H*2;o=nr(h,e,0,1,1),t=n.plus(o.times(i)),t.cmp(r)!=1;)n=i,i=t,t=m,m=v.plus(o.times(t)),v=t,t=e,e=h.minus(o.times(t)),h=t;return t=nr(r.minus(n),i,0,1,1),v=v.plus(t.times(m)),n=n.plus(t.times(i)),v.s=m.s=l.s,f=nr(m,i,a,1).minus(l).abs().cmp(nr(v,n,a,1).minus(l).abs())<1?[m,i]:[v,n],s.precision=u,J=!0,f};I.toHexadecimal=I.toHex=function(r,e){return Xe(this,16,r,e)};I.toNearest=function(r,e){var n=this,i=n.constructor;if(n=new i(n),r==null){if(!n.d)return n;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Tr(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(J=!1,n=nr(n,r,0,e,1).times(r),J=!0,Z(n)):(r.s=n.s,n=r),n};I.toNumber=function(){return+this};I.toOctal=function(r,e){return Xe(this,8,r,e)};I.toPower=I.pow=function(r){var e,n,i,t,a,c,h=this,v=h.constructor,m=+(r=new v(r));if(!h.d||!r.d||!h.d[0]||!r.d[0])return new v(pr(+h,m));if(h=new v(h),h.eq(1))return h;if(i=v.precision,a=v.rounding,r.eq(1))return Z(h,i,a);if(e=br(r.e/H),e>=r.d.length-1&&(n=m<0?-m:m)<=Vi)return t=Lt(v,h,n,i),r.s<0?new v(1).div(t):Z(t,i,a);if(c=h.s,c<0){if(e<r.d.length-1)return new v(NaN);if((r.d[e]&1)==0&&(c=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=c,h}return n=pr(+h,m),e=n==0||!isFinite(n)?br(m*(Math.log("0."+Nr(h.d))/Math.LN10+h.e+1)):new v(n+"").e,e>v.maxE+1||e<v.minE-1?new v(e>0?c/0:0):(J=!1,v.rounding=h.s=1,n=Math.min(12,(e+"").length),t=$e(r.times(Vr(h,i+n)),i),t.d&&(t=Z(t,i+5,1),ae(t.d,i,a)&&(e=i+10,t=Z($e(r.times(Vr(h,e+n)),e),e+5,1),+Nr(t.d).slice(i+1,i+15)+1==1e14&&(t=Z(t,i+1,0)))),t.s=c,J=!0,v.rounding=a,Z(t,i,a))};I.toPrecision=function(r,e){var n,i=this,t=i.constructor;return r===void 0?n=Ur(i,i.e<=t.toExpNeg||i.e>=t.toExpPos):(Tr(r,1,Hr),e===void 0?e=t.rounding:Tr(e,0,8),i=Z(new t(i),r,e),n=Ur(i,r<=i.e||i.e<=t.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+n:n};I.toSignificantDigits=I.toSD=function(r,e){var n=this,i=n.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Tr(r,1,Hr),e===void 0?e=i.rounding:Tr(e,0,8)),Z(new i(n),r,e)};I.toString=function(){var r=this,e=r.constructor,n=Ur(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};I.truncated=I.trunc=function(){return Z(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var r=this,e=r.constructor,n=Ur(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function Nr(r){var e,n,i,t=r.length-1,a="",c=r[0];if(t>0){for(a+=c,e=1;e<t;e++)i=r[e]+"",n=H-i.length,n&&(a+=Zr(n)),a+=i;c=r[e],i=c+"",n=H-i.length,n&&(a+=Zr(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}function Tr(r,e,n){if(r!==~~r||r<e||r>n)throw Error(Xr+r)}function ae(r,e,n,i){var t,a,c,h;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=H,t=0):(t=Math.ceil((e+1)/H),e%=H),a=pr(10,H-e),h=r[t]%a|0,i==null?e<3?(e==0?h=h/100|0:e==1&&(h=h/10|0),c=n<4&&h==99999||n>3&&h==49999||h==5e4||h==0):c=(n<4&&h+1==a||n>3&&h+1==a/2)&&(r[t+1]/a/100|0)==pr(10,e-2)-1||(h==a/2||h==0)&&(r[t+1]/a/100|0)==0:e<4?(e==0?h=h/1e3|0:e==1?h=h/100|0:e==2&&(h=h/10|0),c=(i||n<4)&&h==9999||!i&&n>3&&h==4999):c=((i||n<4)&&h+1==a||!i&&n>3&&h+1==a/2)&&(r[t+1]/a/1e3|0)==pr(10,e-3)-1,c}function ce(r,e,n){for(var i,t=[0],a,c=0,h=r.length;c<h;){for(a=t.length;a--;)t[a]*=e;for(t[0]+=Be.indexOf(r.charAt(c++)),i=0;i<t.length;i++)t[i]>n-1&&(t[i+1]===void 0&&(t[i+1]=0),t[i+1]+=t[i]/n|0,t[i]%=n)}return t.reverse()}function Xi(r,e){var n,i,t;if(e.isZero())return e;i=e.d.length,i<32?(n=Math.ceil(i/3),t=(1/Me(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),r.precision+=n,e=ee(r,1,e.times(t),new r(1));for(var a=n;a--;){var c=e.times(e);e=c.times(c).minus(c).times(8).plus(1)}return r.precision-=n,e}var nr=function(){function r(i,t,a){var c,h=0,v=i.length;for(i=i.slice();v--;)c=i[v]*t+h,i[v]=c%a|0,h=c/a|0;return h&&i.unshift(h),i}function e(i,t,a,c){var h,v;if(a!=c)v=a>c?1:-1;else for(h=v=0;h<a;h++)if(i[h]!=t[h]){v=i[h]>t[h]?1:-1;break}return v}function n(i,t,a,c){for(var h=0;a--;)i[a]-=h,h=i[a]<t[a]?1:0,i[a]=h*c+i[a]-t[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,t,a,c,h,v){var m,u,o,f,l,p,s,d,g,M,N,_,w,y,A,b,E,T,F,P,B=i.constructor,D=i.s==t.s?1:-1,q=i.d,z=t.d;if(!q||!q[0]||!z||!z[0])return new B(!i.s||!t.s||(q?z&&q[0]==z[0]:!z)?NaN:q&&q[0]==0||!z?D*0:D/0);for(v?(l=1,u=i.e-t.e):(v=Pr,l=H,u=br(i.e/l)-br(t.e/l)),F=z.length,E=q.length,g=new B(D),M=g.d=[],o=0;z[o]==(q[o]||0);o++);if(z[o]>(q[o]||0)&&u--,a==null?(y=a=B.precision,c=B.rounding):h?y=a+(i.e-t.e)+1:y=a,y<0)M.push(1),p=!0;else{if(y=y/l+2|0,o=0,F==1){for(f=0,z=z[0],y++;(o<E||f)&&y--;o++)A=f*v+(q[o]||0),M[o]=A/z|0,f=A%z|0;p=f||o<E}else{for(f=v/(z[0]+1)|0,f>1&&(z=r(z,f,v),q=r(q,f,v),F=z.length,E=q.length),b=F,N=q.slice(0,F),_=N.length;_<F;)N[_++]=0;P=z.slice(),P.unshift(0),T=z[0],z[1]>=v/2&&++T;do f=0,m=e(z,N,F,_),m<0?(w=N[0],F!=_&&(w=w*v+(N[1]||0)),f=w/T|0,f>1?(f>=v&&(f=v-1),s=r(z,f,v),d=s.length,_=N.length,m=e(s,N,d,_),m==1&&(f--,n(s,F<d?P:z,d,v))):(f==0&&(m=f=1),s=z.slice()),d=s.length,d<_&&s.unshift(0),n(N,s,_,v),m==-1&&(_=N.length,m=e(z,N,F,_),m<1&&(f++,n(N,F<_?P:z,_,v))),_=N.length):m===0&&(f++,N=[0]),M[o++]=f,m&&N[0]?N[_++]=q[b]||0:(N=[q[b]],_=1);while((b++<E||N[0]!==void 0)&&y--);p=N[0]!==void 0}M[0]||M.shift()}if(l==1)g.e=u,Dt=p;else{for(o=1,f=M[0];f>=10;f/=10)o++;g.e=o+u*l-1,Z(g,h?a+g.e+1:a,c,p)}return g}}();function Z(r,e,n,i){var t,a,c,h,v,m,u,o,f,l=r.constructor;r:if(e!=null){if(o=r.d,!o)return r;for(t=1,h=o[0];h>=10;h/=10)t++;if(a=e-t,a<0)a+=H,c=e,u=o[f=0],v=u/pr(10,t-c-1)%10|0;else if(f=Math.ceil((a+1)/H),h=o.length,f>=h)if(i){for(;h++<=f;)o.push(0);u=v=0,t=1,a%=H,c=a-H+1}else break r;else{for(u=h=o[f],t=1;h>=10;h/=10)t++;a%=H,c=a-H+t,v=c<0?0:u/pr(10,t-c-1)%10|0}if(i=i||e<0||o[f+1]!==void 0||(c<0?u:u%pr(10,t-c-1)),m=n<4?(v||i)&&(n==0||n==(r.s<0?3:2)):v>5||v==5&&(n==4||i||n==6&&(a>0?c>0?u/pr(10,t-c):0:o[f-1])%10&1||n==(r.s<0?8:7)),e<1||!o[0])return o.length=0,m?(e-=r.e+1,o[0]=pr(10,(H-e%H)%H),r.e=-e||0):o[0]=r.e=0,r;if(a==0?(o.length=f,h=1,f--):(o.length=f+1,h=pr(10,H-a),o[f]=c>0?(u/pr(10,t-c)%pr(10,c)|0)*h:0),m)for(;;)if(f==0){for(a=1,c=o[0];c>=10;c/=10)a++;for(c=o[0]+=h,h=1;c>=10;c/=10)h++;a!=h&&(r.e++,o[0]==Pr&&(o[0]=1));break}else{if(o[f]+=h,o[f]!=Pr)break;o[f--]=0,h=1}for(a=o.length;o[--a]===0;)o.pop()}return J&&(r.e>l.maxE?(r.d=null,r.e=NaN):r.e<l.minE&&(r.e=0,r.d=[0])),r}function Ur(r,e,n){if(!r.isFinite())return Vt(r);var i,t=r.e,a=Nr(r.d),c=a.length;return e?(n&&(i=n-c)>0?a=a.charAt(0)+"."+a.slice(1)+Zr(i):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):t<0?(a="0."+Zr(-t-1)+a,n&&(i=n-c)>0&&(a+=Zr(i))):t>=c?(a+=Zr(t+1-c),n&&(i=n-t-1)>0&&(a=a+"."+Zr(i))):((i=t+1)<c&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-c)>0&&(t+1===c&&(a+="."),a+=Zr(i))),a}function be(r,e){var n=r[0];for(e*=H;n>=10;n/=10)e++;return e}function me(r,e,n){if(e>Yi)throw J=!0,n&&(r.precision=n),Error(Bt);return Z(new r(pe),e,1,!0)}function zr(r,e,n){if(e>Ue)throw Error(Bt);return Z(new r(de),e,n,!0)}function Rt(r){var e=r.length-1,n=e*H+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function Zr(r){for(var e="";r--;)e+="0";return e}function Lt(r,e,n,i){var t,a=new r(1),c=Math.ceil(i/H+4);for(J=!1;;){if(n%2&&(a=a.times(e),it(a.d,c)&&(t=!0)),n=br(n/2),n===0){n=a.d.length-1,t&&a.d[n]===0&&++a.d[n];break}e=e.times(e),it(e.d,c)}return J=!0,a}function nt(r){return r.d[r.d.length-1]&1}function Zt(r,e,n){for(var i,t=new r(e[0]),a=0;++a<e.length;)if(i=new r(e[a]),i.s)t[n](i)&&(t=i);else{t=i;break}return t}function $e(r,e){var n,i,t,a,c,h,v,m=0,u=0,o=0,f=r.constructor,l=f.rounding,p=f.precision;if(!r.d||!r.d[0]||r.e>17)return new f(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(J=!1,v=p):v=e,h=new f(.03125);r.e>-2;)r=r.times(h),o+=5;for(i=Math.log(pr(2,o))/Math.LN10*2+5|0,v+=i,n=a=c=new f(1),f.precision=v;;){if(a=Z(a.times(r),v,1),n=n.times(++u),h=c.plus(nr(a,n,v,1)),Nr(h.d).slice(0,v)===Nr(c.d).slice(0,v)){for(t=o;t--;)c=Z(c.times(c),v,1);if(e==null)if(m<3&&ae(c.d,v-i,l,m))f.precision=v+=10,n=a=h=new f(1),u=0,m++;else return Z(c,f.precision=p,l,J=!0);else return f.precision=p,c}c=h}}function Vr(r,e){var n,i,t,a,c,h,v,m,u,o,f,l=1,p=10,s=r,d=s.d,g=s.constructor,M=g.rounding,N=g.precision;if(s.s<0||!d||!d[0]||!s.e&&d[0]==1&&d.length==1)return new g(d&&!d[0]?-1/0:s.s!=1?NaN:d?0:s);if(e==null?(J=!1,u=N):u=e,g.precision=u+=p,n=Nr(d),i=n.charAt(0),Math.abs(a=s.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)s=s.times(r),n=Nr(s.d),i=n.charAt(0),l++;a=s.e,i>1?(s=new g("0."+n),a++):s=new g(i+"."+n.slice(1))}else return m=me(g,u+2,N).times(a+""),s=Vr(new g(i+"."+n.slice(1)),u-p).plus(m),g.precision=N,e==null?Z(s,N,M,J=!0):s;for(o=s,v=c=s=nr(s.minus(1),s.plus(1),u,1),f=Z(s.times(s),u,1),t=3;;){if(c=Z(c.times(f),u,1),m=v.plus(nr(c,new g(t),u,1)),Nr(m.d).slice(0,u)===Nr(v.d).slice(0,u))if(v=v.times(2),a!==0&&(v=v.plus(me(g,u+2,N).times(a+""))),v=nr(v,new g(l),u,1),e==null)if(ae(v.d,u-p,M,h))g.precision=u+=p,m=c=s=nr(o.minus(1),o.plus(1),u,1),f=Z(s.times(s),u,1),t=h=1;else return Z(v,g.precision=N,M,J=!0);else return g.precision=N,v;v=m,t+=2}}function Vt(r){return String(r.s*r.s/0)}function Re(r,e){var n,i,t;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;i++);for(t=e.length;e.charCodeAt(t-1)===48;--t);if(e=e.slice(i,t),e){if(t-=i,r.e=n=n-i-1,r.d=[],i=(n+1)%H,n<0&&(i+=H),i<t){for(i&&r.d.push(+e.slice(0,i)),t-=H;i<t;)r.d.push(+e.slice(i,i+=H));e=e.slice(i),i=H-e.length}else i-=t;for(;i--;)e+="0";r.d.push(+e),J&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Hi(r,e){var n,i,t,a,c,h,v,m,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),$t.test(e))return Re(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Li.test(e))n=16,e=e.toLowerCase();else if(Ri.test(e))n=2;else if(Zi.test(e))n=8;else throw Error(Xr+e);for(a=e.search(/p/i),a>0?(v=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),c=a>=0,i=r.constructor,c&&(e=e.replace(".",""),h=e.length,a=h-a,t=Lt(i,new i(n),a,a*2)),m=ce(e,n,Pr),u=m.length-1,a=u;m[a]===0;--a)m.pop();return a<0?new i(r.s*0):(r.e=be(m,u),r.d=m,J=!1,c&&(r=nr(r,t,h*4)),v&&(r=r.times(Math.abs(v)<54?pr(2,v):te.pow(2,v))),J=!0,r)}function Wi(r,e){var n,i=e.d.length;if(i<3)return e.isZero()?e:ee(r,2,e,e);n=1.4*Math.sqrt(i),n=n>16?16:n|0,e=e.times(1/Me(5,n)),e=ee(r,2,e,e);for(var t,a=new r(5),c=new r(16),h=new r(20);n--;)t=e.times(e),e=e.times(a.plus(t.times(c.times(t).minus(h))));return e}function ee(r,e,n,i,t){var a,c,h,v,m=r.precision,u=Math.ceil(m/H);for(J=!1,v=n.times(n),h=new r(i);;){if(c=nr(h.times(v),new r(e++*e++),m,1),h=t?i.plus(c):i.minus(c),i=nr(c.times(v),new r(e++*e++),m,1),c=h.plus(i),c.d[u]!==void 0){for(a=u;c.d[a]===h.d[a]&&a--;);if(a==-1)break}a=h,h=i,i=c,c=a}return J=!0,c.d.length=u+1,c}function Me(r,e){for(var n=r;--e;)n*=r;return n}function Yt(r,e){var n,i=e.s<0,t=zr(r,r.precision,1),a=t.times(.5);if(e=e.abs(),e.lte(a))return Rr=i?4:1,e;if(n=e.divToInt(t),n.isZero())Rr=i?3:2;else{if(e=e.minus(n.times(t)),e.lte(a))return Rr=nt(n)?i?2:3:i?4:1,e;Rr=nt(n)?i?1:4:i?3:2}return e.minus(t).abs()}function Xe(r,e,n,i){var t,a,c,h,v,m,u,o,f,l=r.constructor,p=n!==void 0;if(p?(Tr(n,1,Hr),i===void 0?i=l.rounding:Tr(i,0,8)):(n=l.precision,i=l.rounding),!r.isFinite())u=Vt(r);else{for(u=Ur(r),c=u.indexOf("."),p?(t=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):t=e,c>=0&&(u=u.replace(".",""),f=new l(1),f.e=u.length-c,f.d=ce(Ur(f),10,t),f.e=f.d.length),o=ce(u,10,t),a=v=o.length;o[--v]==0;)o.pop();if(!o[0])u=p?"0p+0":"0";else{if(c<0?a--:(r=new l(r),r.d=o,r.e=a,r=nr(r,f,n,i,0,t),o=r.d,a=r.e,m=Dt),c=o[n],h=t/2,m=m||o[n+1]!==void 0,m=i<4?(c!==void 0||m)&&(i===0||i===(r.s<0?3:2)):c>h||c===h&&(i===4||m||i===6&&o[n-1]&1||i===(r.s<0?8:7)),o.length=n,m)for(;++o[--n]>t-1;)o[n]=0,n||(++a,o.unshift(1));for(v=o.length;!o[v-1];--v);for(c=0,u="";c<v;c++)u+=Be.charAt(o[c]);if(p){if(v>1)if(e==16||e==8){for(c=e==16?4:3,--v;v%c;v++)u+="0";for(o=ce(u,t,e),v=o.length;!o[v-1];--v);for(c=1,u="1.";c<v;c++)u+=Be.charAt(o[c])}else u=u.charAt(0)+"."+u.slice(1);u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>v)for(a-=v;a--;)u+="0";else a<v&&(u=u.slice(0,a)+"."+u.slice(a))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return r.s<0?"-"+u:u}function it(r,e){if(r.length>e)return r.length=e,!0}function Ji(r){return new this(r).abs()}function ji(r){return new this(r).acos()}function Ki(r){return new this(r).acosh()}function Gi(r,e){return new this(r).plus(e)}function Qi(r){return new this(r).asin()}function ki(r){return new this(r).asinh()}function ra(r){return new this(r).atan()}function ea(r){return new this(r).atanh()}function ta(r,e){r=new this(r),e=new this(e);var n,i=this.precision,t=this.rounding,a=i+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=zr(this,a,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?zr(this,i,t):new this(0),n.s=r.s):!r.d||e.isZero()?(n=zr(this,a,1).times(.5),n.s=r.s):e.s<0?(this.precision=a,this.rounding=1,n=this.atan(nr(r,e,a,1)),e=zr(this,a,1),this.precision=i,this.rounding=t,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(nr(r,e,a,1)),n}function na(r){return new this(r).cbrt()}function ia(r){return Z(r=new this(r),r.e+1,2)}function aa(r,e,n){return new this(r).clamp(e,n)}function oa(r){if(!r||typeof r!="object")throw Error(_e+"Object expected");var e,n,i,t=r.defaults===!0,a=["precision",1,Hr,"rounding",0,8,"toExpNeg",-kr,0,"toExpPos",0,kr,"maxE",0,kr,"minE",-kr,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(n=a[e],t&&(this[n]=qe[n]),(i=r[n])!==void 0)if(br(i)===i&&i>=a[e+1]&&i<=a[e+2])this[n]=i;else throw Error(Xr+n+": "+i);if(n="crypto",t&&(this[n]=qe[n]),(i=r[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(qt);else this[n]=!1;else throw Error(Xr+n+": "+i);return this}function sa(r){return new this(r).cos()}function ua(r){return new this(r).cosh()}function Xt(r){var e,n,i;function t(a){var c,h,v,m=this;if(!(m instanceof t))return new t(a);if(m.constructor=t,at(a)){m.s=a.s,J?!a.d||a.e>t.maxE?(m.e=NaN,m.d=null):a.e<t.minE?(m.e=0,m.d=[0]):(m.e=a.e,m.d=a.d.slice()):(m.e=a.e,m.d=a.d?a.d.slice():a.d);return}if(v=typeof a,v==="number"){if(a===0){m.s=1/a<0?-1:1,m.e=0,m.d=[0];return}if(a<0?(a=-a,m.s=-1):m.s=1,a===~~a&&a<1e7){for(c=0,h=a;h>=10;h/=10)c++;J?c>t.maxE?(m.e=NaN,m.d=null):c<t.minE?(m.e=0,m.d=[0]):(m.e=c,m.d=[a]):(m.e=c,m.d=[a]);return}else if(a*0!==0){a||(m.s=NaN),m.e=NaN,m.d=null;return}return Re(m,a.toString())}else if(v!=="string")throw Error(Xr+a);return(h=a.charCodeAt(0))===45?(a=a.slice(1),m.s=-1):(h===43&&(a=a.slice(1)),m.s=1),$t.test(a)?Re(m,a):Hi(m,a)}if(t.prototype=I,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=oa,t.clone=Xt,t.isDecimal=at,t.abs=Ji,t.acos=ji,t.acosh=Ki,t.add=Gi,t.asin=Qi,t.asinh=ki,t.atan=ra,t.atanh=ea,t.atan2=ta,t.cbrt=na,t.ceil=ia,t.clamp=aa,t.cos=sa,t.cosh=ua,t.div=fa,t.exp=ca,t.floor=la,t.hypot=ha,t.ln=va,t.log=pa,t.log10=ma,t.log2=da,t.max=ga,t.min=wa,t.mod=ya,t.mul=Na,t.pow=_a,t.random=ba,t.round=Ma,t.sign=Ea,t.sin=Sa,t.sinh=Aa,t.sqrt=Oa,t.sub=Ca,t.sum=Ta,t.tan=xa,t.tanh=Fa,t.trunc=Ia,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(n=i[e++])||(r[n]=this[n]);return t.config(r),t}function fa(r,e){return new this(r).div(e)}function ca(r){return new this(r).exp()}function la(r){return Z(r=new this(r),r.e+1,3)}function ha(){var r,e,n=new this(0);for(J=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return J=!0,new this(1/0);n=e}return J=!0,n.sqrt()}function at(r){return r instanceof te||r&&r.toStringTag===Ut||!1}function va(r){return new this(r).ln()}function pa(r,e){return new this(r).log(e)}function da(r){return new this(r).log(2)}function ma(r){return new this(r).log(10)}function ga(){return Zt(this,arguments,"lt")}function wa(){return Zt(this,arguments,"gt")}function ya(r,e){return new this(r).mod(e)}function Na(r,e){return new this(r).mul(e)}function _a(r,e){return new this(r).pow(e)}function ba(r){var e,n,i,t,a=0,c=new this(1),h=[];if(r===void 0?r=this.precision:Tr(r,1,Hr),i=Math.ceil(r/H),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)t=e[a],t>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:h[a++]=t%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)t=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(e,a):(h.push(t%1e7),a+=4);a=i/4}else throw Error(qt);else for(;a<i;)h[a++]=Math.random()*1e7|0;for(i=h[--a],r%=H,i&&r&&(t=pr(10,H-r),h[a]=(i/t|0)*t);h[a]===0;a--)h.pop();if(a<0)n=0,h=[0];else{for(n=-1;h[0]===0;n-=H)h.shift();for(i=1,t=h[0];t>=10;t/=10)i++;i<H&&(n-=H-i)}return c.e=n,c.d=h,c}function Ma(r){return Z(r=new this(r),r.e+1,this.rounding)}function Ea(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Sa(r){return new this(r).sin()}function Aa(r){return new this(r).sinh()}function Oa(r){return new this(r).sqrt()}function Ca(r,e){return new this(r).sub(e)}function Ta(){var r=0,e=arguments,n=new this(e[r]);for(J=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return J=!0,Z(n,this.precision,this.rounding)}function xa(r){return new this(r).tan()}function Fa(r){return new this(r).tanh()}function Ia(r){return Z(r=new this(r),r.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var te=I.constructor=Xt(qe);pe=new te(pe);de=new te(de);var za="BigNumber",Pa=["?on","config"],Da=Q(za,Pa,r=>{var{on:e,config:n}=r,i=te.clone({precision:n.precision,modulo:te.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},e&&e("config",function(t,a){t.precision!==a.precision&&i.config({precision:t.precision})}),i},{isClass:!0}),Ht={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var i=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},a=function(o){var f=Math.PI/4;if(-f>o||o>f)return Math.cos(o)-1;var l=o*o;return l*(l*(l*(l*(l*(l*(l*(l/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},c=function(o,f){var l=Math.abs(o),p=Math.abs(f);return l<3e3&&p<3e3?Math.sqrt(l*l+p*p):(l<p?(l=p,p=o/f):p=f/o,l*Math.sqrt(1+p*p))},h=function(){throw SyntaxError("Invalid Param")};function v(o,f){var l=Math.abs(o),p=Math.abs(f);return o===0?Math.log(p):f===0?Math.log(l):l<3e3&&p<3e3?Math.log(o*o+f*f)*.5:(o=o/2,f=f/2,.5*Math.log(o*o+f*f)+Math.LN2)}var m=function(o,f){var l={re:0,im:0};if(o==null)l.re=l.im=0;else if(f!==void 0)l.re=o,l.im=f;else switch(typeof o){case"object":if("im"in o&&"re"in o)l.re=o.re,l.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return u.INFINITY;l.re=o.abs*Math.cos(o.arg),l.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return u.INFINITY;l.re=o.r*Math.cos(o.phi),l.im=o.r*Math.sin(o.phi)}else o.length===2?(l.re=o[0],l.im=o[1]):h();break;case"string":l.im=l.re=0;var p=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,d=0;p===null&&h();for(var g=0;g<p.length;g++){var M=p[g];M===" "||M==="	"||M===`
`||(M==="+"?s++:M==="-"?d++:M==="i"||M==="I"?(s+d===0&&h(),p[g+1]!==" "&&!isNaN(p[g+1])?(l.im+=parseFloat((d%2?"-":"")+p[g+1]),g++):l.im+=parseFloat((d%2?"-":"")+"1"),s=d=0):((s+d===0||isNaN(M))&&h(),p[g+1]==="i"||p[g+1]==="I"?(l.im+=parseFloat((d%2?"-":"")+M),g++):l.re+=parseFloat((d%2?"-":"")+M),s=d=0))}s+d>0&&h();break;case"number":l.im=0,l.re=o;break;default:h()}return isNaN(l.re)||isNaN(l.im),l};function u(o,f){if(!(this instanceof u))return new u(o,f);var l=m(o,f);this.re=l.re,this.im=l.im}u.prototype={re:0,im:0,sign:function(){var o=this.abs();return new u(this.re/o,this.im/o)},add:function(o,f){var l=new u(o,f);return this.isInfinite()&&l.isInfinite()?u.NAN:this.isInfinite()||l.isInfinite()?u.INFINITY:new u(this.re+l.re,this.im+l.im)},sub:function(o,f){var l=new u(o,f);return this.isInfinite()&&l.isInfinite()?u.NAN:this.isInfinite()||l.isInfinite()?u.INFINITY:new u(this.re-l.re,this.im-l.im)},mul:function(o,f){var l=new u(o,f);return this.isInfinite()&&l.isZero()||this.isZero()&&l.isInfinite()?u.NAN:this.isInfinite()||l.isInfinite()?u.INFINITY:l.im===0&&this.im===0?new u(this.re*l.re,0):new u(this.re*l.re-this.im*l.im,this.re*l.im+this.im*l.re)},div:function(o,f){var l=new u(o,f);if(this.isZero()&&l.isZero()||this.isInfinite()&&l.isInfinite())return u.NAN;if(this.isInfinite()||l.isZero())return u.INFINITY;if(this.isZero()||l.isInfinite())return u.ZERO;o=this.re,f=this.im;var p=l.re,s=l.im,d,g;return s===0?new u(o/p,f/p):Math.abs(p)<Math.abs(s)?(g=p/s,d=p*g+s,new u((o*g+f)/d,(f*g-o)/d)):(g=s/p,d=s*g+p,new u((o+f*g)/d,(f-o*g)/d))},pow:function(o,f){var l=new u(o,f);if(o=this.re,f=this.im,l.isZero())return u.ONE;if(l.im===0){if(f===0&&o>0)return new u(Math.pow(o,l.re),0);if(o===0)switch((l.re%4+4)%4){case 0:return new u(Math.pow(f,l.re),0);case 1:return new u(0,Math.pow(f,l.re));case 2:return new u(-Math.pow(f,l.re),0);case 3:return new u(0,-Math.pow(f,l.re))}}if(o===0&&f===0&&l.re>0&&l.im>=0)return u.ZERO;var p=Math.atan2(f,o),s=v(o,f);return o=Math.exp(l.re*s-l.im*p),f=l.im*s+l.re*p,new u(o*Math.cos(f),o*Math.sin(f))},sqrt:function(){var o=this.re,f=this.im,l=this.abs(),p,s;if(o>=0){if(f===0)return new u(Math.sqrt(o),0);p=.5*Math.sqrt(2*(l+o))}else p=Math.abs(f)/Math.sqrt(2*(l-o));return o<=0?s=.5*Math.sqrt(2*(l-o)):s=Math.abs(f)/Math.sqrt(2*(l+o)),new u(p,f<0?-s:s)},exp:function(){var o=Math.exp(this.re);return this.im,new u(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,f=this.im;return new u(Math.expm1(o)*Math.cos(f)+a(f),Math.exp(o)*Math.sin(f))},log:function(){var o=this.re,f=this.im;return new u(v(o,f),Math.atan2(f,o))},abs:function(){return c(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,f=this.im;return new u(Math.sin(o)*i(f),Math.cos(o)*t(f))},cos:function(){var o=this.re,f=this.im;return new u(Math.cos(o)*i(f),-Math.sin(o)*t(f))},tan:function(){var o=2*this.re,f=2*this.im,l=Math.cos(o)+i(f);return new u(Math.sin(o)/l,t(f)/l)},cot:function(){var o=2*this.re,f=2*this.im,l=Math.cos(o)-i(f);return new u(-Math.sin(o)/l,t(f)/l)},sec:function(){var o=this.re,f=this.im,l=.5*i(2*f)+.5*Math.cos(2*o);return new u(Math.cos(o)*i(f)/l,Math.sin(o)*t(f)/l)},csc:function(){var o=this.re,f=this.im,l=.5*i(2*f)-.5*Math.cos(2*o);return new u(Math.sin(o)*i(f)/l,-Math.cos(o)*t(f)/l)},asin:function(){var o=this.re,f=this.im,l=new u(f*f-o*o+1,-2*o*f).sqrt(),p=new u(l.re-f,l.im+o).log();return new u(p.im,-p.re)},acos:function(){var o=this.re,f=this.im,l=new u(f*f-o*o+1,-2*o*f).sqrt(),p=new u(l.re-f,l.im+o).log();return new u(Math.PI/2-p.im,p.re)},atan:function(){var o=this.re,f=this.im;if(o===0){if(f===1)return new u(0,1/0);if(f===-1)return new u(0,-1/0)}var l=o*o+(1-f)*(1-f),p=new u((1-f*f-o*o)/l,-2*o/l).log();return new u(-.5*p.im,.5*p.re)},acot:function(){var o=this.re,f=this.im;if(f===0)return new u(Math.atan2(1,o),0);var l=o*o+f*f;return l!==0?new u(o/l,-f/l).atan():new u(o!==0?o/0:0,f!==0?-f/0:0).atan()},asec:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new u(0,1/0);var l=o*o+f*f;return l!==0?new u(o/l,-f/l).acos():new u(o!==0?o/0:0,f!==0?-f/0:0).acos()},acsc:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new u(Math.PI/2,1/0);var l=o*o+f*f;return l!==0?new u(o/l,-f/l).asin():new u(o!==0?o/0:0,f!==0?-f/0:0).asin()},sinh:function(){var o=this.re,f=this.im;return new u(t(o)*Math.cos(f),i(o)*Math.sin(f))},cosh:function(){var o=this.re,f=this.im;return new u(i(o)*Math.cos(f),t(o)*Math.sin(f))},tanh:function(){var o=2*this.re,f=2*this.im,l=i(o)+Math.cos(f);return new u(t(o)/l,Math.sin(f)/l)},coth:function(){var o=2*this.re,f=2*this.im,l=i(o)-Math.cos(f);return new u(t(o)/l,-Math.sin(f)/l)},csch:function(){var o=this.re,f=this.im,l=Math.cos(2*f)-i(2*o);return new u(-2*t(o)*Math.cos(f)/l,2*i(o)*Math.sin(f)/l)},sech:function(){var o=this.re,f=this.im,l=Math.cos(2*f)+i(2*o);return new u(2*i(o)*Math.cos(f)/l,-2*t(o)*Math.sin(f)/l)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var f=this.asin();return this.re=-this.im,this.im=o,o=f.re,f.re=-f.im,f.im=o,f},acosh:function(){var o=this.acos();if(o.im<=0){var f=o.re;o.re=-o.im,o.im=f}else{var f=o.im;o.im=-o.re,o.re=f}return o},atanh:function(){var o=this.re,f=this.im,l=o>1&&f===0,p=1-o,s=1+o,d=p*p+f*f,g=d!==0?new u((s*p-f*f)/d,(f*p+s*f)/d):new u(o!==-1?o/0:0,f!==0?f/0:0),M=g.re;return g.re=v(g.re,g.im)/2,g.im=Math.atan2(g.im,M)/2,l&&(g.im=-g.im),g},acoth:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new u(0,Math.PI/2);var l=o*o+f*f;return l!==0?new u(o/l,-f/l).atanh():new u(o!==0?o/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var o=this.re,f=this.im;if(f===0)return new u(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var l=o*o+f*f;return l!==0?new u(o/l,-f/l).asinh():new u(o!==0?o/0:0,f!==0?-f/0:0).asinh()},asech:function(){var o=this.re,f=this.im;if(this.isZero())return u.INFINITY;var l=o*o+f*f;return l!==0?new u(o/l,-f/l).acosh():new u(o!==0?o/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var o=this.re,f=this.im,l=o*o+f*f;return new u(o/l,-f/l)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new u(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new u(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new u(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,f){var l=new u(o,f);return Math.abs(l.re-this.re)<=u.EPSILON&&Math.abs(l.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var o=this.re,f=this.im,l="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<u.EPSILON&&(o=0),Math.abs(f)<u.EPSILON&&(f=0),f===0?l+o:(o!==0?(l+=o,l+=" ",f<0?(f=-f,l+="-"):l+="+",l+=" "):f<0&&(f=-f,l+="-"),f!==1&&(l+=f),l+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,r.exports=u})()})(Ht);var Or=gt(Ht.exports),Ba="Complex",qa=[],Ua=Q(Ba,qa,()=>(Or.prototype.type="Complex",Or.prototype.isComplex=!0,Or.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Or.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Or.prototype.format=function(r){var e="",n=this.im,i=this.re,t=Pe(this.re,r),a=Pe(this.im,r),c=cr(r)?r:r?r.precision:null;if(c!==null){var h=Math.pow(10,-c);Math.abs(i/n)<h&&(i=0),Math.abs(n/i)<h&&(n=0)}return n===0?e=t:i===0?n===1?e="i":n===-1?e="-i":e=a+"i":n<0?n===-1?e=t+" - i":e=t+" - "+a.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+a+"i",e},Or.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Or(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(cr(n)){if(Ve(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),cr(i))return new Or({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Or.prototype.valueOf=Or.prototype.toString,Or.fromJSON=function(r){return new Or(r)},Or.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Or),{isClass:!0}),Wt={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var i=2e3,t={s:1,n:0,d:1};function a(p,s){if(isNaN(p=parseInt(p,10)))throw l.InvalidParameter;return p*s}function c(p,s){if(s===0)throw l.DivisionByZero;var d=Object.create(l.prototype);d.s=p<0?-1:1,p=p<0?-p:p;var g=f(p,s);return d.n=p/g,d.d=s/g,d}function h(p){for(var s={},d=p,g=2,M=4;M<=d;){for(;d%g===0;)d/=g,s[g]=(s[g]||0)+1;M+=1+2*g++}return d!==p?d>1&&(s[d]=(s[d]||0)+1):s[p]=(s[p]||0)+1,s}var v=function(p,s){var d=0,g=1,M=1,N=0,_=0,w=0,y=1,A=1,b=0,E=1,T=1,F=1,P=1e7,B;if(p!=null)if(s!==void 0){if(d=p,g=s,M=d*g,d%1!==0||g%1!==0)throw l.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)d=p.n,g=p.d,"s"in p&&(d*=p.s);else if(0 in p)d=p[0],1 in p&&(g=p[1]);else throw l.InvalidParameter;M=d*g;break}case"number":{if(p<0&&(M=p,p=-p),p%1===0)d=p;else if(p>0){for(p>=1&&(A=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=A);E<=P&&F<=P;)if(B=(b+T)/(E+F),p===B){E+F<=P?(d=b+T,g=E+F):F>E?(d=T,g=F):(d=b,g=E);break}else p>B?(b+=T,E+=F):(T+=b,F+=E),E>P?(d=T,g=F):(d=b,g=E);d*=A}else(isNaN(p)||isNaN(s))&&(g=d=NaN);break}case"string":{if(E=p.match(/\d+|./g),E===null)throw l.InvalidParameter;if(E[b]==="-"?(M=-1,b++):E[b]==="+"&&b++,E.length===b+1?_=a(E[b++],M):E[b+1]==="."||E[b]==="."?(E[b]!=="."&&(N=a(E[b++],M)),b++,(b+1===E.length||E[b+1]==="("&&E[b+3]===")"||E[b+1]==="'"&&E[b+3]==="'")&&(_=a(E[b],M),y=Math.pow(10,E[b].length),b++),(E[b]==="("&&E[b+2]===")"||E[b]==="'"&&E[b+2]==="'")&&(w=a(E[b+1],M),A=Math.pow(10,E[b+1].length)-1,b+=3)):E[b+1]==="/"||E[b+1]===":"?(_=a(E[b],M),y=a(E[b+2],1),b+=3):E[b+3]==="/"&&E[b+1]===" "&&(N=a(E[b],M),_=a(E[b+2],M),y=a(E[b+4],1),b+=5),E.length<=b){g=y*A,M=d=w+g*N+A*_;break}}default:throw l.InvalidParameter}if(g===0)throw l.DivisionByZero;t.s=M<0?-1:1,t.n=Math.abs(d),t.d=Math.abs(g)};function m(p,s,d){for(var g=1;s>0;p=p*p%d,s>>=1)s&1&&(g=g*p%d);return g}function u(p,s){for(;s%2===0;s/=2);for(;s%5===0;s/=5);if(s===1)return 0;for(var d=10%s,g=1;d!==1;g++)if(d=d*10%s,g>i)return 0;return g}function o(p,s,d){for(var g=1,M=m(10,d,s),N=0;N<300;N++){if(g===M)return N;g=g*10%s,M=M*10%s}return 0}function f(p,s){if(!p)return s;if(!s)return p;for(;;){if(p%=s,!p)return s;if(s%=p,!s)return p}}function l(p,s){if(v(p,s),this instanceof l)p=f(t.d,t.n),this.s=t.s,this.n=t.n/p,this.d=t.d/p;else return c(t.s*t.n,t.d)}l.DivisionByZero=new Error("Division by Zero"),l.InvalidParameter=new Error("Invalid argument"),l.NonIntegerParameter=new Error("Parameters must be integer"),l.prototype={s:1,n:0,d:1,abs:function(){return c(this.n,this.d)},neg:function(){return c(-this.s*this.n,this.d)},add:function(p,s){return v(p,s),c(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(p,s){return v(p,s),c(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(p,s){return v(p,s),c(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(p,s){return v(p,s),c(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return c(this.s*this.n,this.d)},mod:function(p,s){if(isNaN(this.n)||isNaN(this.d))return new l(NaN);if(p===void 0)return c(this.s*this.n%this.d,1);if(v(p,s),t.n===0&&this.d===0)throw l.DivisionByZero;return c(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(p,s){return v(p,s),c(f(t.n,this.n)*f(t.d,this.d),t.d*this.d)},lcm:function(p,s){return v(p,s),t.n===0&&this.n===0?c(0,1):c(t.n*this.n,f(t.n,this.n)*f(t.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):c(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):c(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):c(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return c(this.s*this.d,this.n)},pow:function(p,s){if(v(p,s),t.d===1)return t.s<0?c(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):c(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var d=h(this.n),g=h(this.d),M=1,N=1;for(var _ in d)if(_!=="1"){if(_==="0"){M=0;break}if(d[_]*=t.n,d[_]%t.d===0)d[_]/=t.d;else return null;M*=Math.pow(_,d[_])}for(var _ in g)if(_!=="1"){if(g[_]*=t.n,g[_]%t.d===0)g[_]/=t.d;else return null;N*=Math.pow(_,g[_])}return t.s<0?c(N,M):c(M,N)},equals:function(p,s){return v(p,s),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(p,s){v(p,s);var d=this.s*this.n*t.d-t.s*t.n*this.d;return(0<d)-(d<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var s=this.abs(),d=s.toContinued(),g=1;g<d.length;g++){for(var M=c(d[g-1],1),N=g-2;N>=0;N--)M=M.inverse().add(d[N]);if(M.sub(s).abs().valueOf()<p)return M.mul(this.s)}return this},divisible:function(p,s){return v(p,s),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var s,d="",g=this.n,M=this.d;return this.s<0&&(d+="-"),M===1?d+=g:(p&&(s=Math.floor(g/M))>0&&(d+=s,d+=" ",g%=M),d+=g,d+="/",d+=M),d},toLatex:function(p){var s,d="",g=this.n,M=this.d;return this.s<0&&(d+="-"),M===1?d+=g:(p&&(s=Math.floor(g/M))>0&&(d+=s,g%=M),d+="\\frac{",d+=g,d+="}{",d+=M,d+="}"),d},toContinued:function(){var p,s=this.n,d=this.d,g=[];if(isNaN(s)||isNaN(d))return g;do g.push(Math.floor(s/d)),p=s%d,s=d,d=p;while(s!==1);return g},toString:function(p){var s=this.n,d=this.d;if(isNaN(s)||isNaN(d))return"NaN";p=p||15;var g=u(s,d),M=o(s,d,g),N=this.s<0?"-":"";if(N+=s/d|0,s%=d,s*=10,s&&(N+="."),g){for(var _=M;_--;)N+=s/d|0,s%=d,s*=10;N+="(";for(var _=g;_--;)N+=s/d|0,s%=d,s*=10;N+=")"}else for(var _=p;s&&_--;)N+=s/d|0,s%=d,s*=10;return N}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,r.exports=l})()})(Wt);var Qr=gt(Wt.exports),$a="Fraction",Ra=[],La=Q($a,Ra,()=>(Qr.prototype.type="Fraction",Qr.prototype.isFraction=!0,Qr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qr.fromJSON=function(r){return new Qr(r)},Qr),{isClass:!0}),Za="Matrix",Va=[],Ya=Q(Za,Va,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0}),Xa="DenseMatrix",Ha=["Matrix"],Wa=Q(Xa,Ha,r=>{var{Matrix:e}=r;function n(u,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!$r(o))throw new Error("Invalid datatype: "+o);if(Er(u))u.type==="DenseMatrix"?(this._data=wr(u._data),this._size=wr(u._size),this._datatype=o||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=o||u._datatype);else if(u&&sr(u.data)&&sr(u.size))this._data=u.data,this._size=u.size,et(this._data,this._size),this._datatype=o||u.datatype;else if(sr(u))this._data=m(u),this._size=Kr(this._data),et(this._data,this._size),this._datatype=o;else{if(u)throw new TypeError("Unsupported type of data ("+Yr(u)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new e,n.prototype.createDenseMatrix=function(u,o){return new n(u,o)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return ve(this._data,Yr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(u,o){return new n(u,o)},n.prototype.subset=function(u,o,f){switch(arguments.length){case 1:return i(this,u);case 2:case 3:return a(this,u,o,f);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(u){if(!sr(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new er(u.length,this._size.length);for(var o=0;o<u.length;o++)ur(u[o],this._size[o]);for(var f=this._data,l=0,p=u.length;l<p;l++){var s=u[l];ur(s,f.length),f=f[s]}return f},n.prototype.set=function(u,o,f){if(!sr(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new er(u.length,this._size.length,"<");var l,p,s,d=u.map(function(M){return M+1});v(this,d,f);var g=this._data;for(l=0,p=u.length-1;l<p;l++)s=u[l],ur(s,g.length),g=g[s];return s=u[u.length-1],ur(s,g.length),g[s]=o,this};function i(u,o){if(!we(o))throw new TypeError("Invalid index");var f=o.isScalar();if(f)return u.get(o.min());var l=o.size();if(l.length!==u._size.length)throw new er(l.length,u._size.length);for(var p=o.min(),s=o.max(),d=0,g=u._size.length;d<g;d++)ur(p[d],u._size[d]),ur(s[d],u._size[d]);return new n(t(u._data,o,l.length,0),u._datatype)}function t(u,o,f,l){var p=l===f-1,s=o.dimension(l);return p?s.map(function(d){return ur(d,u.length),u[d]}).valueOf():s.map(function(d){ur(d,u.length);var g=u[d];return t(g,o,f,l+1)}).valueOf()}function a(u,o,f,l){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var p=o.size(),s=o.isScalar(),d;if(Er(f)?(d=f.size(),f=f.valueOf()):d=Kr(f),s){if(d.length!==0)throw new TypeError("Scalar expected");u.set(o.min(),f,l)}else{if(p.length<u._size.length)throw new er(p.length,u._size.length,"<");if(d.length<p.length){for(var g=0,M=0;p[g]===1&&d[g]===1;)g++;for(;p[g]===1;)M++,g++;f=xt(f,p.length,M,d)}if(!le(p,d))throw new er(p,d,">");var N=o.max().map(function(y){return y+1});v(u,N,l);var _=p.length,w=0;c(u._data,o,f,_,w)}return u}function c(u,o,f,l,p){var s=p===l-1,d=o.dimension(p);s?d.forEach(function(g,M){ur(g),u[g]=f[M[0]]}):d.forEach(function(g,M){ur(g),c(u[g],o,f[M[0]],l,p+1)})}n.prototype.resize=function(u,o,f){if(!yt(u))throw new TypeError("Array or Matrix expected");var l=u.valueOf().map(s=>Array.isArray(s)&&s.length===1?s[0]:s),p=f?this.clone():this;return h(p,l,o)};function h(u,o,f){if(o.length===0){for(var l=u._data;sr(l);)l=l[0];return l}return u._size=o.slice(0),u._data=tt(u._data,u._size,f),u}n.prototype.reshape=function(u,o){var f=o?this.clone():this;f._data=Mi(f._data,u);var l=f._size.reduce((p,s)=>p*s);return f._size=Ye(u,l),f};function v(u,o,f){for(var l=u._size.slice(0),p=!1;l.length<o.length;)l.push(0),p=!0;for(var s=0,d=o.length;s<d;s++)o[s]>l[s]&&(l[s]=o[s],p=!0);p&&h(u,l,f)}n.prototype.clone=function(){var u=new n({data:wr(this._data),size:wr(this._size),datatype:this._datatype});return u},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(u){var o=this,f=function s(d,g){return sr(d)?d.map(function(M,N){return s(M,g.concat(N))}):u(d,g,o)},l=f(this._data,[]),p=this._datatype!==void 0?ve(l,Yr):void 0;return new n(l,p)},n.prototype.forEach=function(u){var o=this,f=function l(p,s){sr(p)?p.forEach(function(d,g){l(d,s.concat(g))}):u(p,s,o)};f(this._data,[])},n.prototype[Symbol.iterator]=function*(){var u=function*o(f,l){if(sr(f))for(var p=0;p<f.length;p++)yield*o(f[p],l.concat(p));else yield{value:f,index:l}};yield*u(this._data,[])},n.prototype.rows=function(){var u=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var l of f)u.push(new n([l],this._datatype));return u},n.prototype.columns=function(){var u=this,o=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var l=this._data,p=function(g){var M=l.map(N=>[N[g]]);o.push(new n(M,u._datatype))},s=0;s<f[1];s++)p(s);return o},n.prototype.toArray=function(){return wr(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(u){return Cr(this._data,u)},n.prototype.toString=function(){return Cr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(u){if(u){if(Fr(u)&&(u=u.toNumber()),!cr(u)||!yr(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var o=u>0?u:0,f=u<0?-u:0,l=this._size[0],p=this._size[1],s=Math.min(l-f,p-o),d=[],g=0;g<s;g++)d[g]=this._data[g+f][g+o];return new n({data:d,size:[s],datatype:this._datatype})},n.diagonal=function(u,o,f,l){if(!sr(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(A){if(Fr(A)&&(A=A.toNumber()),!cr(A)||!yr(A)||A<1)throw new Error("Size values must be positive integers");return A}),f){if(Fr(f)&&(f=f.toNumber()),!cr(f)||!yr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var p=f>0?f:0,s=f<0?-f:0,d=u[0],g=u[1],M=Math.min(d-s,g-p),N;if(sr(o)){if(o.length!==M)throw new Error("Invalid value array length");N=function(b){return o[b]}}else if(Er(o)){var _=o.size();if(_.length!==1||_[0]!==M)throw new Error("Invalid matrix length");N=function(b){return o.get([b])}}else N=function(){return o};l||(l=Fr(N(0))?N(0).mul(0):0);var w=[];if(u.length>0){w=tt(w,u,l);for(var y=0;y<M;y++)w[y+s][y+p]=N(y)}return new n({data:w,size:[d,g]})},n.fromJSON=function(u){return new n(u)},n.prototype.swapRows=function(u,o){if(!cr(u)||!yr(u)||!cr(o)||!yr(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ur(u,this._size[0]),ur(o,this._size[0]),n._swapRows(u,o,this._data),this},n._swapRows=function(u,o,f){var l=f[u];f[u]=f[o],f[o]=l};function m(u){for(var o=0,f=u.length;o<f;o++){var l=u[o];sr(l)?u[o]=m(l):l&&l.isMatrix===!0&&(u[o]=m(l.valueOf()))}return u}return n},{isClass:!0});function Wr(r,e,n){return r&&typeof r.map=="function"?r.map(function(i){return Wr(i,e)}):e(r)}var Jt="number",jt="number, number";function Kt(r){return Math.abs(r)}Kt.signature=Jt;function Gt(r,e){return r+e}Gt.signature=jt;function Qt(r,e){return r*e}Qt.signature=jt;function kt(r){return-r}kt.signature=Jt;function Ja(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var i=r.minus(e).abs();if(i.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return i.lte(t.times(n))}return!1}function ja(r,e,n){return he(r.re,e.re,n)&&he(r.im,e.im,n)}var ge="equalScalar",Ka=["typed","config"],Ga=Q(ge,Ka,r=>{var{typed:e,config:n}=r;return e(ge,{"boolean, boolean":function(t,a){return t===a},"number, number":function(t,a){return he(t,a,n.epsilon)},"BigNumber, BigNumber":function(t,a){return t.eq(a)||Ja(t,a,n.epsilon)},"Fraction, Fraction":function(t,a){return t.equals(a)},"Complex, Complex":function(t,a){return ja(t,a,n.epsilon)},"Unit, Unit":function(t,a){if(!t.equalBase(a))throw new Error("Cannot compare units with different base");return this(t.value,a.value)}})});Q(ge,["typed","config"],r=>{var{typed:e,config:n}=r;return e(ge,{"number, number":function(t,a){return he(t,a,n.epsilon)}})});var Qa="SparseMatrix",ka=["typed","equalScalar","Matrix"],ro=Q(Qa,ka,r=>{var{typed:e,equalScalar:n,Matrix:i}=r;function t(s,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!$r(d))throw new Error("Invalid datatype: "+d);if(Er(s))a(this,s,d);else if(s&&sr(s.index)&&sr(s.ptr)&&sr(s.size))this._values=s.values,this._index=s.index,this._ptr=s.ptr,this._size=s.size,this._datatype=d||s.datatype;else if(sr(s))c(this,s,d);else{if(s)throw new TypeError("Unsupported type of data ("+Yr(s)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function a(s,d,g){d.type==="SparseMatrix"?(s._values=d._values?wr(d._values):void 0,s._index=wr(d._index),s._ptr=wr(d._ptr),s._size=wr(d._size),s._datatype=g||d._datatype):c(s,d.valueOf(),g||d._datatype)}function c(s,d,g){s._values=[],s._index=[],s._ptr=[],s._datatype=g;var M=d.length,N=0,_=n,w=0;if($r(g)&&(_=e.find(n,[g,g])||n,w=e.convert(0,g)),M>0){var y=0;do{s._ptr.push(s._index.length);for(var A=0;A<M;A++){var b=d[A];if(sr(b)){if(y===0&&N<b.length&&(N=b.length),y<b.length){var E=b[y];_(E,w)||(s._values.push(E),s._index.push(A))}}else y===0&&N<1&&(N=1),_(b,w)||(s._values.push(b),s._index.push(A))}y++}while(y<N)}s._ptr.push(s._index.length),s._size=[M,N]}t.prototype=new i,t.prototype.createSparseMatrix=function(s,d){return new t(s,d)},t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return ve(this._values,Yr)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(s,d){return new t(s,d)},t.prototype.density=function(){var s=this._size[0],d=this._size[1];return s!==0&&d!==0?this._index.length/(s*d):0},t.prototype.subset=function(s,d,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,s);case 2:case 3:return v(this,s,d,g);default:throw new SyntaxError("Wrong number of arguments")}};function h(s,d){if(!we(d))throw new TypeError("Invalid index");var g=d.isScalar();if(g)return s.get(d.min());var M=d.size();if(M.length!==s._size.length)throw new er(M.length,s._size.length);var N,_,w,y,A=d.min(),b=d.max();for(N=0,_=s._size.length;N<_;N++)ur(A[N],s._size[N]),ur(b[N],s._size[N]);var E=s._values,T=s._index,F=s._ptr,P=d.dimension(0),B=d.dimension(1),D=[],q=[];P.forEach(function(Y,j){q[Y]=j[0],D[Y]=!0});var z=E?[]:void 0,V=[],R=[];return B.forEach(function(Y){for(R.push(V.length),w=F[Y],y=F[Y+1];w<y;w++)N=T[w],D[N]===!0&&(V.push(q[N]),z&&z.push(E[w]))}),R.push(V.length),new t({values:z,index:V,ptr:R,size:M,datatype:s._datatype})}function v(s,d,g,M){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var N=d.size(),_=d.isScalar(),w;if(Er(g)?(w=g.size(),g=g.toArray()):w=Kr(g),_){if(w.length!==0)throw new TypeError("Scalar expected");s.set(d.min(),g,M)}else{if(N.length!==1&&N.length!==2)throw new er(N.length,s._size.length,"<");if(w.length<N.length){for(var y=0,A=0;N[y]===1&&w[y]===1;)y++;for(;N[y]===1;)A++,y++;g=xt(g,N.length,A,w)}if(!le(N,w))throw new er(N,w,">");if(N.length===1){var b=d.dimension(0);b.forEach(function(F,P){ur(F),s.set([F,0],g[P[0]],M)})}else{var E=d.dimension(0),T=d.dimension(1);E.forEach(function(F,P){ur(F),T.forEach(function(B,D){ur(B),s.set([F,B],g[P[0]][D[0]],M)})})}}return s}t.prototype.get=function(s){if(!sr(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new er(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=s[0],g=s[1];ur(d,this._size[0]),ur(g,this._size[1]);var M=m(d,this._ptr[g],this._ptr[g+1],this._index);return M<this._ptr[g+1]&&this._index[M]===d?this._values[M]:0},t.prototype.set=function(s,d,g){if(!sr(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new er(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var M=s[0],N=s[1],_=this._size[0],w=this._size[1],y=n,A=0;$r(this._datatype)&&(y=e.find(n,[this._datatype,this._datatype])||n,A=e.convert(0,this._datatype)),(M>_-1||N>w-1)&&(f(this,Math.max(M+1,_),Math.max(N+1,w),g),_=this._size[0],w=this._size[1]),ur(M,_),ur(N,w);var b=m(M,this._ptr[N],this._ptr[N+1],this._index);return b<this._ptr[N+1]&&this._index[b]===M?y(d,A)?u(b,N,this._values,this._index,this._ptr):this._values[b]=d:o(b,M,N,d,this._values,this._index,this._ptr),this};function m(s,d,g,M){if(g-d===0)return g;for(var N=d;N<g;N++)if(M[N]===s)return N;return d}function u(s,d,g,M,N){g.splice(s,1),M.splice(s,1);for(var _=d+1;_<N.length;_++)N[_]--}function o(s,d,g,M,N,_,w){N.splice(s,0,M),_.splice(s,0,d);for(var y=g+1;y<w.length;y++)w[y]++}t.prototype.resize=function(s,d,g){if(!yt(s))throw new TypeError("Array or Matrix expected");var M=s.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(M.length!==2)throw new Error("Only two dimensions matrix are supported");M.forEach(function(_){if(!cr(_)||!yr(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Cr(M)+")")});var N=g?this.clone():this;return f(N,M[0],M[1],d)};function f(s,d,g,M){var N=M||0,_=n,w=0;$r(s._datatype)&&(_=e.find(n,[s._datatype,s._datatype])||n,w=e.convert(0,s._datatype),N=e.convert(N,s._datatype));var y=!_(N,w),A=s._size[0],b=s._size[1],E,T,F;if(g>b){for(T=b;T<g;T++)if(s._ptr[T]=s._values.length,y)for(E=0;E<A;E++)s._values.push(N),s._index.push(E);s._ptr[g]=s._values.length}else g<b&&(s._ptr.splice(g+1,b-g),s._values.splice(s._ptr[g],s._values.length),s._index.splice(s._ptr[g],s._index.length));if(b=g,d>A){if(y){var P=0;for(T=0;T<b;T++){s._ptr[T]=s._ptr[T]+P,F=s._ptr[T+1]+P;var B=0;for(E=A;E<d;E++,B++)s._values.splice(F+B,0,N),s._index.splice(F+B,0,E),P++}s._ptr[b]=s._values.length}}else if(d<A){var D=0;for(T=0;T<b;T++){s._ptr[T]=s._ptr[T]-D;var q=s._ptr[T],z=s._ptr[T+1]-D;for(F=q;F<z;F++)E=s._index[F],E>d-1&&(s._values.splice(F,1),s._index.splice(F,1),D++)}s._ptr[T]=s._values.length}return s._size[0]=d,s._size[1]=g,s}t.prototype.reshape=function(s,d){if(!sr(s))throw new TypeError("Array expected");if(s.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");s.forEach(function(Y){if(!cr(Y)||!yr(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Cr(s)+")")});var g=this._size[0]*this._size[1];s=Ye(s,g);var M=s[0]*s[1];if(g!==M)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var N=d?this.clone():this;if(this._size[0]===s[0]&&this._size[1]===s[1])return N;for(var _=[],w=0;w<N._ptr.length;w++)for(var y=0;y<N._ptr[w+1]-N._ptr[w];y++)_.push(w);for(var A=N._values.slice(),b=N._index.slice(),E=0;E<N._index.length;E++){var T=b[E],F=_[E],P=T*N._size[1]+F;_[E]=P%s[1],b[E]=Math.floor(P/s[1])}N._values.length=0,N._index.length=0,N._ptr.length=s[1]+1,N._size=s.slice();for(var B=0;B<N._ptr.length;B++)N._ptr[B]=0;for(var D=0;D<A.length;D++){var q=b[D],z=_[D],V=A[D],R=m(q,N._ptr[z],N._ptr[z+1],N._index);o(R,q,z,V,N._values,N._index,N._ptr)}return N},t.prototype.clone=function(){var s=new t({values:this._values?wr(this._values):void 0,index:wr(this._index),ptr:wr(this._ptr),size:wr(this._size),datatype:this._datatype});return s},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(s,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,M=this._size[0],N=this._size[1],_=function(y,A,b){return s(y,[A,b],g)};return l(this,0,M-1,0,N-1,_,d)};function l(s,d,g,M,N,_,w){var y=[],A=[],b=[],E=n,T=0;$r(s._datatype)&&(E=e.find(n,[s._datatype,s._datatype])||n,T=e.convert(0,s._datatype));for(var F=function(G,lr,hr){G=_(G,lr,hr),E(G,T)||(y.push(G),A.push(lr))},P=M;P<=N;P++){b.push(y.length);var B=s._ptr[P],D=s._ptr[P+1];if(w)for(var q=B;q<D;q++){var z=s._index[q];z>=d&&z<=g&&F(s._values[q],z-d,P-M)}else{for(var V={},R=B;R<D;R++){var Y=s._index[R];V[Y]=s._values[R]}for(var j=d;j<=g;j++){var k=j in V?V[j]:0;F(k,j-d,P-M)}}}return b.push(y.length),new t({values:y,index:A,ptr:b,size:[g-d+1,N-M+1]})}t.prototype.forEach=function(s,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,M=this._size[0],N=this._size[1],_=0;_<N;_++){var w=this._ptr[_],y=this._ptr[_+1];if(d)for(var A=w;A<y;A++){var b=this._index[A];s(this._values[A],[b,_],g)}else{for(var E={},T=w;T<y;T++){var F=this._index[T];E[F]=this._values[T]}for(var P=0;P<M;P++){var B=P in E?E[P]:0;s(B,[P,_],g)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var s=this._size[1],d=0;d<s;d++)for(var g=this._ptr[d],M=this._ptr[d+1],N=g;N<M;N++){var _=this._index[N];yield{value:this._values[N],index:[_,d]}}},t.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(s,d,g,M,N){var _=M[0],w=M[1],y=[],A,b;for(A=0;A<_;A++)for(y[A]=[],b=0;b<w;b++)y[A][b]=0;for(b=0;b<w;b++)for(var E=g[b],T=g[b+1],F=E;F<T;F++)A=d[F],y[A][b]=s?N?wr(s[F]):s[F]:1;return y}return t.prototype.format=function(s){for(var d=this._size[0],g=this._size[1],M=this.density(),N="Sparse Matrix ["+Cr(d,s)+" x "+Cr(g,s)+"] density: "+Cr(M,s)+`
`,_=0;_<g;_++)for(var w=this._ptr[_],y=this._ptr[_+1],A=w;A<y;A++){var b=this._index[A];N+=`
    (`+Cr(b,s)+", "+Cr(_,s)+") ==> "+(this._values?Cr(this._values[A],s):"X")}return N},t.prototype.toString=function(){return Cr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(s){if(s){if(Fr(s)&&(s=s.toNumber()),!cr(s)||!yr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var d=s>0?s:0,g=s<0?-s:0,M=this._size[0],N=this._size[1],_=Math.min(M-g,N-d),w=[],y=[],A=[];A[0]=0;for(var b=d;b<N&&w.length<_;b++)for(var E=this._ptr[b],T=this._ptr[b+1],F=E;F<T;F++){var P=this._index[F];if(P===b-d+g){w.push(this._values[F]),y[w.length-1]=P-g;break}}return A.push(w.length),new t({values:w,index:y,ptr:A,size:[_,1]})},t.fromJSON=function(s){return new t(s)},t.diagonal=function(s,d,g,M,N){if(!sr(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(Y){if(Fr(Y)&&(Y=Y.toNumber()),!cr(Y)||!yr(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),g){if(Fr(g)&&(g=g.toNumber()),!cr(g)||!yr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=n,w=0;$r(N)&&(_=e.find(n,[N,N])||n,w=e.convert(0,N));var y=g>0?g:0,A=g<0?-g:0,b=s[0],E=s[1],T=Math.min(b-A,E-y),F;if(sr(d)){if(d.length!==T)throw new Error("Invalid value array length");F=function(j){return d[j]}}else if(Er(d)){var P=d.size();if(P.length!==1||P[0]!==T)throw new Error("Invalid matrix length");F=function(j){return d.get([j])}}else F=function(){return d};for(var B=[],D=[],q=[],z=0;z<E;z++){q.push(B.length);var V=z-y;if(V>=0&&V<T){var R=F(V);_(R,w)||(D.push(V+A),B.push(R))}}return q.push(B.length),new t({values:B,index:D,ptr:q,size:[b,E]})},t.prototype.swapRows=function(s,d){if(!cr(s)||!yr(s)||!cr(d)||!yr(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ur(s,this._size[0]),ur(d,this._size[0]),t._swapRows(s,d,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(s,d,g,M,N){for(var _=M[s],w=M[s+1],y=_;y<w;y++)N(g[y],d[y])},t._swapRows=function(s,d,g,M,N,_){for(var w=0;w<g;w++){var y=_[w],A=_[w+1],b=m(s,y,A,N),E=m(d,y,A,N);if(b<A&&E<A&&N[b]===s&&N[E]===d){if(M){var T=M[b];M[b]=M[E],M[E]=T}continue}if(b<A&&N[b]===s&&(E>=A||N[E]!==d)){var F=M?M[b]:void 0;N.splice(E,0,d),M&&M.splice(E,0,F),N.splice(E<=b?b+1:b,1),M&&M.splice(E<=b?b+1:b,1);continue}if(E<A&&N[E]===d&&(b>=A||N[b]!==s)){var P=M?M[E]:void 0;N.splice(b,0,s),M&&M.splice(b,0,P),N.splice(b<=E?E+1:E,1),M&&M.splice(b<=E?E+1:E,1)}}},t},{isClass:!0}),eo="number",to=["typed"];function no(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],t=e[3];return{input:r,radix:n,integerPart:i,fractionalPart:t}}else return null}function io(r){for(var e=parseInt(r.integerPart,r.radix),n=0,i=0;i<r.fractionalPart.length;i++){var t=parseInt(r.fractionalPart[i],r.radix);n+=t/Math.pow(r.radix,i+1)}var a=e+n;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is no valid number');return a}var ao=Q(eo,to,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var a=no(t);if(a)return io(a);var c=0,h=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(c=Number(h[2]),t=h[1]);var v=Number(t);if(isNaN(v))throw new SyntaxError('String "'+t+'" is no valid number');if(h){if(v>2**c-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));v>=2**(c-1)&&(v=v-2**c)}return v},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,a){return t.toNumber(a)},"Array | Matrix":function(t){return Wr(t,this)}});return n.fromJSON=function(i){return parseFloat(i.value)},n}),oo="bignumber",so=["typed","BigNumber"],uo=Q(oo,so,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var a=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var c=a[2],h=n(a[1]),v=new n(2).pow(Number(c));if(h.gt(v.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var m=new n(2).pow(Number(c)-1);return h.gte(m)?h.sub(v):h}return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return Wr(t,this)}})}),fo="fraction",co=["typed","Fraction"],lo=Q(fo,co,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,a){return new n(t,a)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return Wr(t,this)}})}),ot="matrix",ho=["typed","Matrix","DenseMatrix","SparseMatrix"],vo=Q(ot,ho,r=>{var{typed:e,Matrix:n,DenseMatrix:i,SparseMatrix:t}=r;return e(ot,{"":function(){return a([])},string:function(h){return a([],h)},"string, string":function(h,v){return a([],h,v)},Array:function(h){return a(h)},Matrix:function(h){return a(h,h.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(c,h,v){if(h==="dense"||h==="default"||h===void 0)return new i(c,v);if(h==="sparse")return new t(c,v);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),st="unaryMinus",po=["typed"],mo=Q(st,po,r=>{var{typed:e}=r;return e(st,{number:kt,Complex:function(i){return i.neg()},BigNumber:function(i){return i.neg()},Fraction:function(i){return i.neg()},Unit:function(i){var t=i.clone();return t.value=this(i.value),t},"Array | Matrix":function(i){return Wr(i,this)}})}),ut="abs",go=["typed"],wo=Q(ut,go,r=>{var{typed:e}=r;return e(ut,{number:Kt,Complex:function(i){return i.abs()},BigNumber:function(i){return i.abs()},Fraction:function(i){return i.abs()},"Array | Matrix":function(i){return Wr(i,this)},Unit:function(i){return i.abs()}})}),ft="addScalar",yo=["typed"],No=Q(ft,yo,r=>{var{typed:e}=r;return e(ft,{"number, number":Gt,"Complex, Complex":function(i,t){return i.add(t)},"BigNumber, BigNumber":function(i,t){return i.plus(t)},"Fraction, Fraction":function(i,t){return i.add(t)},"Unit, Unit":function(i,t){if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(t))throw new Error("Units do not match");var a=i.clone();return a.value=this(a.value,t.value),a.fixPrefix=!1,a}})}),_o="algorithm11",bo=["typed","equalScalar"],Mo=Q(_o,bo,r=>{var{typed:e,equalScalar:n}=r;return function(t,a,c,h){var v=t._values,m=t._index,u=t._ptr,o=t._size,f=t._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=o[0],p=o[1],s,d=n,g=0,M=c;typeof f=="string"&&(s=f,d=e.find(n,[s,s]),g=e.convert(0,s),a=e.convert(a,s),M=e.find(c,[s,s]));for(var N=[],_=[],w=[],y=0;y<p;y++){w[y]=_.length;for(var A=u[y],b=u[y+1],E=A;E<b;E++){var T=m[E],F=h?M(a,v[E]):M(v[E],a);d(F,g)||(_.push(T),N.push(F))}}return w[p]=_.length,t.createSparseMatrix({values:N,index:_,ptr:w,size:[l,p],datatype:s})}}),Eo="algorithm14",So=["typed"],rn=Q(Eo,So,r=>{var{typed:e}=r;return function(t,a,c,h){var v=t._data,m=t._size,u=t._datatype,o,f=c;typeof u=="string"&&(o=u,a=e.convert(a,o),f=e.find(c,[o,o]));var l=m.length>0?n(f,0,m,m[0],v,a,h):[];return t.createDenseMatrix({data:l,size:wr(m),datatype:o})};function n(i,t,a,c,h,v,m){var u=[];if(t===a.length-1)for(var o=0;o<c;o++)u[o]=m?i(v,h[o]):i(h[o],v);else for(var f=0;f<c;f++)u[f]=n(i,t+1,a,a[t+1],h[f],v,m);return u}}),Ao="algorithm01",Oo=["typed"],Co=Q(Ao,Oo,r=>{var{typed:e}=r;return function(i,t,a,c){var h=i._data,v=i._size,m=i._datatype,u=t._values,o=t._index,f=t._ptr,l=t._size,p=t._datatype;if(v.length!==l.length)throw new er(v.length,l.length);if(v[0]!==l[0]||v[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=v[0],d=v[1],g=typeof m=="string"&&m===p?m:void 0,M=g?e.find(a,[g,g]):a,N,_,w=[];for(N=0;N<s;N++)w[N]=[];var y=[],A=[];for(_=0;_<d;_++){for(var b=_+1,E=f[_],T=f[_+1],F=E;F<T;F++)N=o[F],y[N]=c?M(u[F],h[N][_]):M(h[N][_],u[F]),A[N]=b;for(N=0;N<s;N++)A[N]===b?w[N][_]=y[N]:w[N][_]=h[N][_]}return i.createDenseMatrix({data:w,size:[s,d],datatype:g})}}),To="algorithm10",xo=["typed","DenseMatrix"],Fo=Q(To,xo,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,a,c,h){var v=t._values,m=t._index,u=t._ptr,o=t._size,f=t._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=o[0],p=o[1],s,d=c;typeof f=="string"&&(s=f,a=e.convert(a,s),d=e.find(c,[s,s]));for(var g=[],M=[],N=[],_=0;_<p;_++){for(var w=_+1,y=u[_],A=u[_+1],b=y;b<A;b++){var E=m[b];M[E]=v[b],N[E]=w}for(var T=0;T<l;T++)_===0&&(g[T]=[]),N[T]===w?g[T][_]=h?d(a,M[T]):d(M[T],a):g[T][_]=a}return new n({data:g,size:[l,p],datatype:s})}}),Io="algorithm13",zo=["typed"],Po=Q(Io,zo,r=>{var{typed:e}=r;return function(t,a,c){var h=t._data,v=t._size,m=t._datatype,u=a._data,o=a._size,f=a._datatype,l=[];if(v.length!==o.length)throw new er(v.length,o.length);for(var p=0;p<v.length;p++){if(v[p]!==o[p])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+o+")");l[p]=v[p]}var s,d=c;typeof m=="string"&&m===f&&(s=m,d=e.find(c,[s,s]));var g=l.length>0?n(d,0,l,l[0],h,u):[];return t.createDenseMatrix({data:g,size:l,datatype:s})};function n(i,t,a,c,h,v){var m=[];if(t===a.length-1)for(var u=0;u<c;u++)m[u]=i(h[u],v[u]);else for(var o=0;o<c;o++)m[o]=n(i,t+1,a,a[t+1],h[o],v[o]);return m}}),Do="algorithm03",Bo=["typed"],qo=Q(Do,Bo,r=>{var{typed:e}=r;return function(i,t,a,c){var h=i._data,v=i._size,m=i._datatype,u=t._values,o=t._index,f=t._ptr,l=t._size,p=t._datatype;if(v.length!==l.length)throw new er(v.length,l.length);if(v[0]!==l[0]||v[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=v[0],d=v[1],g,M=0,N=a;typeof m=="string"&&m===p&&(g=m,M=e.convert(0,g),N=e.find(a,[g,g]));for(var _=[],w=0;w<s;w++)_[w]=[];for(var y=[],A=[],b=0;b<d;b++){for(var E=b+1,T=f[b],F=f[b+1],P=T;P<F;P++){var B=o[P];y[B]=c?N(u[P],h[B][b]):N(h[B][b],u[P]),A[B]=E}for(var D=0;D<s;D++)A[D]===E?_[D][b]=y[D]:_[D][b]=c?N(M,h[D][b]):N(h[D][b],M)}return i.createDenseMatrix({data:_,size:[s,d],datatype:g})}}),Uo="algorithm05",$o=["typed","equalScalar"],Ro=Q(Uo,$o,r=>{var{typed:e,equalScalar:n}=r;return function(t,a,c){var h=t._values,v=t._index,m=t._ptr,u=t._size,o=t._datatype,f=a._values,l=a._index,p=a._ptr,s=a._size,d=a._datatype;if(u.length!==s.length)throw new er(u.length,s.length);if(u[0]!==s[0]||u[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+s+")");var g=u[0],M=u[1],N,_=n,w=0,y=c;typeof o=="string"&&o===d&&(N=o,_=e.find(n,[N,N]),w=e.convert(0,N),y=e.find(c,[N,N]));var A=h&&f?[]:void 0,b=[],E=[],T=A?[]:void 0,F=A?[]:void 0,P=[],B=[],D,q,z,V;for(q=0;q<M;q++){E[q]=b.length;var R=q+1;for(z=m[q],V=m[q+1];z<V;z++)D=v[z],b.push(D),P[D]=R,T&&(T[D]=h[z]);for(z=p[q],V=p[q+1];z<V;z++)D=l[z],P[D]!==R&&b.push(D),B[D]=R,F&&(F[D]=f[z]);if(A)for(z=E[q];z<b.length;){D=b[z];var Y=P[D],j=B[D];if(Y===R||j===R){var k=Y===R?T[D]:w,rr=j===R?F[D]:w,G=y(k,rr);_(G,w)?b.splice(z,1):(A.push(G),z++)}}}return E[M]=b.length,t.createSparseMatrix({values:A,index:b,ptr:E,size:[g,M],datatype:N})}}),Lo="multiplyScalar",Zo=["typed"],Vo=Q(Lo,Zo,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Qt,"Complex, Complex":function(i,t){return i.mul(t)},"BigNumber, BigNumber":function(i,t){return i.times(t)},"Fraction, Fraction":function(i,t){return i.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(i,t){var a=t.clone();return a.value=a.value===null?a._normalize(i):this(a.value,i),a},"Unit, number | Fraction | BigNumber | Complex":function(i,t){var a=i.clone();return a.value=a.value===null?a._normalize(t):this(a.value,t),a},"Unit, Unit":function(i,t){return i.multiply(t)}})}),ct="multiply",Yo=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Xo=Q(ct,Yo,r=>{var{typed:e,matrix:n,addScalar:i,multiplyScalar:t,equalScalar:a,dot:c}=r,h=Mo({typed:e,equalScalar:a}),v=rn({typed:e});function m(w,y){switch(w.length){case 1:switch(y.length){case 1:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+y[0]+")");break;case 2:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function u(w,y,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return c(w,y)}function o(w,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(w,y)}function f(w,y){var A=w._data,b=w._size,E=w._datatype,T=y._data,F=y._size,P=y._datatype,B=b[0],D=F[1],q,z=i,V=t;E&&P&&E===P&&typeof E=="string"&&(q=E,z=e.find(i,[q,q]),V=e.find(t,[q,q]));for(var R=[],Y=0;Y<D;Y++){for(var j=V(A[0],T[0][Y]),k=1;k<B;k++)j=z(j,V(A[k],T[k][Y]));R[Y]=j}return w.createDenseMatrix({data:R,size:[D],datatype:q})}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":s,"SparseMatrix, any":M}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":d,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":N,"SparseMatrix, SparseMatrix":_});function s(w,y){var A=w._data,b=w._size,E=w._datatype,T=y._data,F=y._datatype,P=b[0],B=b[1],D,q=i,z=t;E&&F&&E===F&&typeof E=="string"&&(D=E,q=e.find(i,[D,D]),z=e.find(t,[D,D]));for(var V=[],R=0;R<P;R++){for(var Y=A[R],j=z(Y[0],T[0]),k=1;k<B;k++)j=q(j,z(Y[k],T[k]));V[R]=j}return w.createDenseMatrix({data:V,size:[P],datatype:D})}function d(w,y){var A=w._data,b=w._size,E=w._datatype,T=y._data,F=y._size,P=y._datatype,B=b[0],D=b[1],q=F[1],z,V=i,R=t;E&&P&&E===P&&typeof E=="string"&&(z=E,V=e.find(i,[z,z]),R=e.find(t,[z,z]));for(var Y=[],j=0;j<B;j++){var k=A[j];Y[j]=[];for(var rr=0;rr<q;rr++){for(var G=R(k[0],T[0][rr]),lr=1;lr<D;lr++)G=V(G,R(k[lr],T[lr][rr]));Y[j][rr]=G}}return w.createDenseMatrix({data:Y,size:[B,q],datatype:z})}function g(w,y){var A=w._data,b=w._size,E=w._datatype,T=y._values,F=y._index,P=y._ptr,B=y._size,D=y._datatype;if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var q=b[0],z=B[1],V,R=i,Y=t,j=a,k=0;E&&D&&E===D&&typeof E=="string"&&(V=E,R=e.find(i,[V,V]),Y=e.find(t,[V,V]),j=e.find(a,[V,V]),k=e.convert(0,V));for(var rr=[],G=[],lr=[],hr=y.createSparseMatrix({values:rr,index:G,ptr:lr,size:[q,z],datatype:V}),vr=0;vr<z;vr++){lr[vr]=G.length;var or=P[vr],Mr=P[vr+1];if(Mr>or)for(var fr=0,ir=0;ir<q;ir++){for(var Sr=ir+1,dr=void 0,tr=or;tr<Mr;tr++){var gr=F[tr];fr!==Sr?(dr=Y(A[ir][gr],T[tr]),fr=Sr):dr=R(dr,Y(A[ir][gr],T[tr]))}fr===Sr&&!j(dr,k)&&(G.push(ir),rr.push(dr))}}return lr[z]=G.length,hr}function M(w,y){var A=w._values,b=w._index,E=w._ptr,T=w._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var F=y._data,P=y._datatype,B=w._size[0],D=y._size[0],q=[],z=[],V=[],R,Y=i,j=t,k=a,rr=0;T&&P&&T===P&&typeof T=="string"&&(R=T,Y=e.find(i,[R,R]),j=e.find(t,[R,R]),k=e.find(a,[R,R]),rr=e.convert(0,R));var G=[],lr=[];V[0]=0;for(var hr=0;hr<D;hr++){var vr=F[hr];if(!k(vr,rr))for(var or=E[hr],Mr=E[hr+1],fr=or;fr<Mr;fr++){var ir=b[fr];lr[ir]?G[ir]=Y(G[ir],j(vr,A[fr])):(lr[ir]=!0,z.push(ir),G[ir]=j(vr,A[fr]))}}for(var Sr=z.length,dr=0;dr<Sr;dr++){var tr=z[dr];q[dr]=G[tr]}return V[1]=z.length,w.createSparseMatrix({values:q,index:z,ptr:V,size:[B,1],datatype:R})}function N(w,y){var A=w._values,b=w._index,E=w._ptr,T=w._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var F=y._data,P=y._datatype,B=w._size[0],D=y._size[0],q=y._size[1],z,V=i,R=t,Y=a,j=0;T&&P&&T===P&&typeof T=="string"&&(z=T,V=e.find(i,[z,z]),R=e.find(t,[z,z]),Y=e.find(a,[z,z]),j=e.convert(0,z));for(var k=[],rr=[],G=[],lr=w.createSparseMatrix({values:k,index:rr,ptr:G,size:[B,q],datatype:z}),hr=[],vr=[],or=0;or<q;or++){G[or]=rr.length;for(var Mr=or+1,fr=0;fr<D;fr++){var ir=F[fr][or];if(!Y(ir,j))for(var Sr=E[fr],dr=E[fr+1],tr=Sr;tr<dr;tr++){var gr=b[tr];vr[gr]!==Mr?(vr[gr]=Mr,rr.push(gr),hr[gr]=R(ir,A[tr])):hr[gr]=V(hr[gr],R(ir,A[tr]))}}for(var Ar=G[or],Lr=rr.length,Dr=Ar;Dr<Lr;Dr++){var Gr=rr[Dr];k[Dr]=hr[Gr]}}return G[q]=rr.length,lr}function _(w,y){var A=w._values,b=w._index,E=w._ptr,T=w._datatype,F=y._values,P=y._index,B=y._ptr,D=y._datatype,q=w._size[0],z=y._size[1],V=A&&F,R,Y=i,j=t;T&&D&&T===D&&typeof T=="string"&&(R=T,Y=e.find(i,[R,R]),j=e.find(t,[R,R]));for(var k=V?[]:void 0,rr=[],G=[],lr=w.createSparseMatrix({values:k,index:rr,ptr:G,size:[q,z],datatype:R}),hr=V?[]:void 0,vr=[],or,Mr,fr,ir,Sr,dr,tr,gr,Ar=0;Ar<z;Ar++){G[Ar]=rr.length;var Lr=Ar+1;for(Sr=B[Ar],dr=B[Ar+1],ir=Sr;ir<dr;ir++)if(gr=P[ir],V)for(Mr=E[gr],fr=E[gr+1],or=Mr;or<fr;or++)tr=b[or],vr[tr]!==Lr?(vr[tr]=Lr,rr.push(tr),hr[tr]=j(F[ir],A[or])):hr[tr]=Y(hr[tr],j(F[ir],A[or]));else for(Mr=E[gr],fr=E[gr+1],or=Mr;or<fr;or++)tr=b[or],vr[tr]!==Lr&&(vr[tr]=Lr,rr.push(tr));if(V)for(var Dr=G[Ar],Gr=rr.length,Jr=Dr;Jr<Gr;Jr++){var S=rr[Jr];k[Jr]=hr[S]}}return G[z]=rr.length,lr}return e(ct,fi({"Array, Array":function(y,A){m(Kr(y),Kr(A));var b=this(n(y),n(A));return Er(b)?b.valueOf():b},"Matrix, Matrix":function(y,A){var b=y.size(),E=A.size();return m(b,E),b.length===1?E.length===1?u(y,A,b[0]):o(y,A):E.length===1?l(y,A):p(y,A)},"Matrix, Array":function(y,A){return this(y,n(A))},"Array, Matrix":function(y,A){return this(n(y,A.storage()),A)},"SparseMatrix, any":function(y,A){return h(y,A,t,!1)},"DenseMatrix, any":function(y,A){return v(y,A,t,!1)},"any, SparseMatrix":function(y,A){return h(A,y,t,!0)},"any, DenseMatrix":function(y,A){return v(A,y,t,!0)},"Array, any":function(y,A){return v(n(y),A,t,!1).valueOf()},"any, Array":function(y,A){return v(n(A),y,t,!0).valueOf()},"any, any":t,"any, any, ...any":function(y,A,b){for(var E=this(y,A),T=0;T<b.length;T++)E=this(E,b[T]);return E}},t.signatures))}),Ho="sqrt",Wo=["config","typed","Complex"],Jo=Q(Ho,Wo,r=>{var{config:e,typed:n,Complex:i}=r;return n("sqrt",{number:t,Complex:function(c){return c.sqrt()},BigNumber:function(c){return!c.isNegative()||e.predictable?c.sqrt():t(c.toNumber())},"Array | Matrix":function(c){return Wr(c,this)},Unit:function(c){return c.pow(.5)}});function t(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new i(a,0).sqrt()}}),lt="subtract",jo=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Ko=Q(lt,jo,r=>{var{typed:e,matrix:n,equalScalar:i,addScalar:t,unaryMinus:a,DenseMatrix:c}=r,h=Co({typed:e}),v=qo({typed:e}),m=Ro({typed:e,equalScalar:i}),u=Fo({typed:e,DenseMatrix:c}),o=Po({typed:e}),f=rn({typed:e});return e(lt,{"number, number":function(p,s){return p-s},"Complex, Complex":function(p,s){return p.sub(s)},"BigNumber, BigNumber":function(p,s){return p.minus(s)},"Fraction, Fraction":function(p,s){return p.sub(s)},"Unit, Unit":function(p,s){if(p.value===null)throw new Error("Parameter x contains a unit with undefined value");if(s.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!p.equalBase(s))throw new Error("Units do not match");var d=p.clone();return d.value=this(d.value,s.value),d.fixPrefix=!1,d},"SparseMatrix, SparseMatrix":function(p,s){return fe(p,s),m(p,s,this)},"SparseMatrix, DenseMatrix":function(p,s){return fe(p,s),v(s,p,this,!0)},"DenseMatrix, SparseMatrix":function(p,s){return fe(p,s),h(p,s,this,!1)},"DenseMatrix, DenseMatrix":function(p,s){return fe(p,s),o(p,s,this)},"Array, Array":function(p,s){return this(n(p),n(s)).valueOf()},"Array, Matrix":function(p,s){return this(n(p),s)},"Matrix, Array":function(p,s){return this(p,n(s))},"SparseMatrix, any":function(p,s){return u(p,a(s),t)},"DenseMatrix, any":function(p,s){return f(p,s,this)},"any, SparseMatrix":function(p,s){return u(s,p,this,!0)},"any, DenseMatrix":function(p,s){return f(s,p,this,!0)},"Array, any":function(p,s){return f(n(p),s,this,!1).valueOf()},"any, Array":function(p,s){return f(n(s),p,this,!0).valueOf()}})});function fe(r,e){var n=r.size(),i=e.size();if(n.length!==i.length)throw new er(n.length,i.length)}var ht="conj",Go=["typed"],Qo=Q(ht,Go,r=>{var{typed:e}=r;return e(ht,{number:function(i){return i},BigNumber:function(i){return i},Complex:function(i){return i.conjugate()},"Array | Matrix":function(i){return Wr(i,this)}})});function ko(){throw new Error('No "bignumber" implementation available')}function rs(){throw new Error('No "fraction" implementation available')}function es(){throw new Error('No "matrix" implementation available')}var vt="size",ts=["typed","config","?matrix"],ns=Q(vt,ts,r=>{var{typed:e,config:n,matrix:i}=r;return e(vt,{Matrix:function(a){return a.create(a.size())},Array:Kr,string:function(a){return n.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return n.matrix==="Array"?[]:i?i([]):es()}})}),is="numeric",as=["number","?bignumber","?fraction"],os=Q(is,as,r=>{var{number:e,bignumber:n,fraction:i}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:c=>e(c),BigNumber:n?c=>n(c):ko,Fraction:i?c=>i(c):rs};return function(h,v){var m=Yr(h);if(!(m in t))throw new TypeError("Cannot convert "+h+' of type "'+m+'"; valid input types are '+Object.keys(t).join(", "));if(!(v in a))throw new TypeError("Cannot convert "+h+' to type "'+v+'"; valid output types are '+Object.keys(a).join(", "));return v===m?h:a[v](h)}}),pt="divideScalar",ss=["typed","numeric"],us=Q(pt,ss,r=>{var{typed:e,numeric:n}=r;return e(pt,{"number, number":function(t,a){return t/a},"Complex, Complex":function(t,a){return t.div(a)},"BigNumber, BigNumber":function(t,a){return t.div(a)},"Fraction, Fraction":function(t,a){return t.div(a)},"Unit, number | Fraction | BigNumber":function(t,a){var c=t.clone(),h=n(1,Yr(a));return c.value=this(c.value===null?c._normalize(h):c.value,a),c},"number | Fraction | BigNumber, Unit":function(t,a){var c=a.clone();c=c.pow(-1);var h=n(1,Yr(t));return c.value=this(t,a.value===null?a._normalize(h):a.value),c},"Unit, Unit":function(t,a){return t.divide(a)}})}),dt="dot",fs=["typed","addScalar","multiplyScalar","conj","size"],cs=Q(dt,fs,r=>{var{typed:e,addScalar:n,multiplyScalar:i,conj:t,size:a}=r;return e(dt,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":v});function c(u,o){var f=m(u),l=m(o),p,s;if(f.length===1)p=f[0];else if(f.length===2&&f[1]===1)p=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(l.length===1)s=l[0];else if(l.length===2&&l[1]===1)s=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(p!==s)throw new RangeError("Vectors must have equal length ("+p+" != "+s+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function h(u,o){var f=c(u,o),l=Er(u)?u._data:u,p=Er(u)?u._datatype:void 0,s=Er(o)?o._data:o,d=Er(o)?o._datatype:void 0,g=m(u).length===2,M=m(o).length===2,N=n,_=i;if(p&&d&&p===d&&typeof p=="string"){var w=p;N=e.find(n,[w,w]),_=e.find(i,[w,w])}if(!g&&!M){for(var y=_(t(l[0]),s[0]),A=1;A<f;A++)y=N(y,_(t(l[A]),s[A]));return y}if(!g&&M){for(var b=_(t(l[0]),s[0][0]),E=1;E<f;E++)b=N(b,_(t(l[E]),s[E][0]));return b}if(g&&!M){for(var T=_(t(l[0][0]),s[0]),F=1;F<f;F++)T=N(T,_(t(l[F][0]),s[F]));return T}if(g&&M){for(var P=_(t(l[0][0]),s[0][0]),B=1;B<f;B++)P=N(P,_(t(l[B][0]),s[B][0]));return P}}function v(u,o){c(u,o);for(var f=u._index,l=u._values,p=o._index,s=o._values,d=0,g=n,M=i,N=0,_=0;N<f.length&&_<p.length;){var w=f[N],y=p[_];if(w<y){N++;continue}if(w>y){_++;continue}w===y&&(d=g(d,M(l[N],s[_])),N++,_++)}return d}function m(u){return Er(u)?u.size():a(u)}}),mt="distance",ls=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],hs=Q(mt,ls,r=>{var{typed:e,addScalar:n,subtract:i,multiplyScalar:t,divideScalar:a,unaryMinus:c,sqrt:h,abs:v}=r;return e(mt,{"Array, Array, Array":function(w,y,A){if(w.length===2&&y.length===2&&A.length===2){if(!u(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var b=a(i(A[1],A[0]),i(y[1],y[0])),E=t(t(b,b),y[0]),T=c(t(b,y[0])),F=w[1];return d(w[0],w[1],E,T,F)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(w,y,A){if(Object.keys(w).length===2&&Object.keys(y).length===2&&Object.keys(A).length===2){if(!u(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(y))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(A))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"lineOnePtX"in y&&"lineOnePtY"in y&&"lineTwoPtX"in A&&"lineTwoPtY"in A){var b=a(i(A.lineTwoPtY,A.lineTwoPtX),i(y.lineOnePtY,y.lineOnePtX)),E=t(t(b,b),y.lineOnePtX),T=c(t(b,y.lineOnePtX)),F=w.pointX;return d(w.pointX,w.pointY,E,T,F)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(w,y){if(w.length===2&&y.length===3){if(!u(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!o(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return d(w[0],w[1],y[0],y[1],y[2])}else if(w.length===3&&y.length===6){if(!o(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!l(y))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(w[0],w[1],w[2],y[0],y[1],y[2],y[3],y[4],y[5])}else if(w.length===y.length&&w.length>0){if(!f(w))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(y))throw new TypeError("All values of an array should be numbers or BigNumbers");return M(w,y)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(w,y){if(Object.keys(w).length===2&&Object.keys(y).length===3){if(!u(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!o(y))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"xCoeffLine"in y&&"yCoeffLine"in y&&"constant"in y)return d(w.pointX,w.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===3&&Object.keys(y).length===6){if(!o(w))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!l(y))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"x0"in y&&"y0"in y&&"z0"in y&&"a"in y&&"b"in y&&"c"in y)return g(w.pointX,w.pointY,w.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===2&&Object.keys(y).length===2){if(!u(w))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(y))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointTwoX"in y&&"pointTwoY"in y)return M([w.pointOneX,w.pointOneY],[y.pointTwoX,y.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===3&&Object.keys(y).length===3){if(!o(w))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!o(y))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointOneZ"in w&&"pointTwoX"in y&&"pointTwoY"in y&&"pointTwoZ"in y)return M([w.pointOneX,w.pointOneY,w.pointOneZ],[y.pointTwoX,y.pointTwoY,y.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(w){if(!s(w))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return N(w)}});function m(_){return typeof _=="number"||Fr(_)}function u(_){return _.constructor!==Array&&(_=p(_)),m(_[0])&&m(_[1])}function o(_){return _.constructor!==Array&&(_=p(_)),m(_[0])&&m(_[1])&&m(_[2])}function f(_){return Array.isArray(_)||(_=p(_)),_.every(m)}function l(_){return _.constructor!==Array&&(_=p(_)),m(_[0])&&m(_[1])&&m(_[2])&&m(_[3])&&m(_[4])&&m(_[5])}function p(_){for(var w=Object.keys(_),y=[],A=0;A<w.length;A++)y.push(_[w[A]]);return y}function s(_){if(_[0].length===2&&m(_[0][0])&&m(_[0][1])){if(_.some(w=>w.length!==2||!m(w[0])||!m(w[1])))return!1}else if(_[0].length===3&&m(_[0][0])&&m(_[0][1])&&m(_[0][2])){if(_.some(w=>w.length!==3||!m(w[0])||!m(w[1])||!m(w[2])))return!1}else return!1;return!0}function d(_,w,y,A,b){var E=v(n(n(t(y,_),t(A,w)),b)),T=h(n(t(y,y),t(A,A)));return a(E,T)}function g(_,w,y,A,b,E,T,F,P){var B=[i(t(i(b,w),P),t(i(E,y),F)),i(t(i(E,y),T),t(i(A,_),P)),i(t(i(A,_),F),t(i(b,w),T))];B=h(n(n(t(B[0],B[0]),t(B[1],B[1])),t(B[2],B[2])));var D=h(n(n(t(T,T),t(F,F)),t(P,P)));return a(B,D)}function M(_,w){for(var y=_.length,A=0,b=0,E=0;E<y;E++)b=i(_[E],w[E]),A=n(t(b,b),A);return h(A)}function N(_){for(var w=[],y=[],A=[],b=0;b<_.length-1;b++)for(var E=b+1;E<_.length;E++)_[0].length===2?(y=[_[b][0],_[b][1]],A=[_[E][0],_[E][1]]):_[0].length===3&&(y=[_[b][0],_[b][1],_[b][2]],A=[_[E][0],_[E][1],_[E][2]]),w.push(M(y,A));return w}}),en=Da({config:oe}),tn=Ua({}),nn=La({}),He=Ya({}),We=Wa({Matrix:He}),mr=Ui({BigNumber:en,Complex:tn,DenseMatrix:We,Fraction:nn}),vs=wo({typed:mr}),Ee=No({typed:mr}),ps=uo({BigNumber:en,typed:mr}),ds=Qo({typed:mr}),Je=Ga({config:oe,typed:mr}),je=Vo({typed:mr}),ms=ao({typed:mr}),gs=ro({Matrix:He,equalScalar:Je,typed:mr}),ws=Jo({Complex:tn,config:oe,typed:mr}),an=mo({typed:mr}),ys=lo({Fraction:nn,typed:mr}),Ke=vo({DenseMatrix:We,Matrix:He,SparseMatrix:gs,typed:mr}),Ns=os({bignumber:ps,fraction:ys,number:ms}),_s=ns({matrix:Ke,config:oe,typed:mr}),on=Ko({DenseMatrix:We,addScalar:Ee,equalScalar:Je,matrix:Ke,typed:mr,unaryMinus:an}),bs=us({numeric:Ns,typed:mr}),Ms=cs({addScalar:Ee,conj:ds,multiplyScalar:je,size:_s,typed:mr}),Ts=Xo({addScalar:Ee,dot:Ms,equalScalar:Je,matrix:Ke,multiplyScalar:je,typed:mr}),xs=hs({abs:vs,addScalar:Ee,divideScalar:bs,multiplyScalar:je,sqrt:ws,subtract:on,typed:mr,unaryMinus:an});const Es="audio/hit.mp3";class sn{constructor(e){Oe(this,"timer");Oe(this,"sound",new Audio(Es));this.target=e}}se.useEffect({type:sn,add(r,e){e.timer=setInterval(()=>{const[n]=se.get(r,[Ge]),[i]=se.get(e.target,[Ge]),t=Ce.getBodyPosition(i),a=Ce.getBodyPosition(n),[c,h,v]=on(t,a),m=()=>qn(se)(5);Un(Ce,Bn,new Qe().fromArray(a),new Qe(c,h,v),m)},1e3)},remove(r,e){clearInterval(e.timer)}});var Fs=Object.freeze(Object.defineProperty({__proto__:null,Attacker:sn},Symbol.toStringTag,{value:"Module"}));export{sn as A,Fs as a,xs as d,Ts as m,on as s};
