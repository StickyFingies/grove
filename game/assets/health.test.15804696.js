var ra=Object.defineProperty;var oa=(e,t,n)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>(oa(e,typeof t!="symbol"?t+"":t,n),n);import{c as Zn,_ as sa,t as ia}from"./game.6fe68dfe.js";function We(e,t,n){const i=typeof e;if(!n.includes(i))throw new TypeError(`${t} value must be ${n.join(" or ")}, received "${i}"`)}function fs(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function hs(){}function aa(e,t,n=void 0){const i=t.replace(/\[(\d+)\]/g,".$1").split(".");let r=e;for(const s of i)if(r=Object(r)[s],r===void 0)return n;return r}var tt={},ps={exports:{}};(function(e){const n=(s=0)=>o=>`\x1B[${38+s};5;${o}m`,i=(s=0)=>(o,a,c)=>`\x1B[${38+s};2;${o};${a};${c}m`;function r(){const s=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(const[a,c]of Object.entries(o)){for(const[u,l]of Object.entries(c))o[u]={open:`\x1B[${l[0]}m`,close:`\x1B[${l[1]}m`},c[u]=o[u],s.set(l[0],l[1]);Object.defineProperty(o,a,{value:c,enumerable:!1})}return Object.defineProperty(o,"codes",{value:s,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=n(),o.color.ansi16m=i(),o.bgColor.ansi256=n(10),o.bgColor.ansi16m=i(10),Object.defineProperties(o,{rgbToAnsi256:{value:(a,c,u)=>a===c&&c===u?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(c/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:a=>{const c=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(a.toString(16));if(!c)return[0,0,0];let{colorString:u}=c.groups;u.length===3&&(u=u.split("").map(f=>f+f).join(""));const l=Number.parseInt(u,16);return[l>>16&255,l>>8&255,l&255]},enumerable:!1},hexToAnsi256:{value:a=>o.rgbToAnsi256(...o.hexToRgb(a)),enumerable:!1}}),o}Object.defineProperty(e,"exports",{enumerable:!0,get:r})})(ps);var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.printIteratorEntries=ua;Ue.printIteratorValues=la;Ue.printListItems=fa;Ue.printObjectProperties=ha;const ca=(e,t)=>{const n=Object.keys(e),i=t!==null?n.sort(t):n;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r=>{Object.getOwnPropertyDescriptor(e,r).enumerable&&i.push(r)}),i};function ua(e,t,n,i,r,s,o=": "){let a="",c=0,u=e.next();if(!u.done){a+=t.spacingOuter;const l=n+t.indent;for(;!u.done;){if(a+=l,c++===t.maxWidth){a+="\u2026";break}const f=s(u.value[0],t,l,i,r),y=s(u.value[1],t,l,i,r);a+=f+o+y,u=e.next(),u.done?t.min||(a+=","):a+=`,${t.spacingInner}`}a+=t.spacingOuter+n}return a}function la(e,t,n,i,r,s){let o="",a=0,c=e.next();if(!c.done){o+=t.spacingOuter;const u=n+t.indent;for(;!c.done;){if(o+=u,a++===t.maxWidth){o+="\u2026";break}o+=s(c.value,t,u,i,r),c=e.next(),c.done?t.min||(o+=","):o+=`,${t.spacingInner}`}o+=t.spacingOuter+n}return o}function fa(e,t,n,i,r,s){let o="";if(e.length){o+=t.spacingOuter;const a=n+t.indent;for(let c=0;c<e.length;c++){if(o+=a,c===t.maxWidth){o+="\u2026";break}c in e&&(o+=s(e[c],t,a,i,r)),c<e.length-1?o+=`,${t.spacingInner}`:t.min||(o+=",")}o+=t.spacingOuter+n}return o}function ha(e,t,n,i,r,s){let o="";const a=ca(e,t.compareKeys);if(a.length){o+=t.spacingOuter;const c=n+t.indent;for(let u=0;u<a.length;u++){const l=a[u],f=s(l,t,c,i,r),y=s(e[l],t,c,i,r);o+=`${c+f}: ${y}`,u<a.length-1?o+=`,${t.spacingInner}`:t.min||(o+=",")}o+=t.spacingOuter+n}return o}var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.test=Je.serialize=Je.default=void 0;var Cr=Ue,Bn=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol;const pa=typeof Bn=="function"&&Bn.for?Bn.for("jest.asymmetricMatcher"):1267621,Qt=" ",ds=(e,t,n,i,r,s)=>{const o=e.toString();if(o==="ArrayContaining"||o==="ArrayNotContaining")return++i>t.maxDepth?`[${o}]`:`${o+Qt}[${(0,Cr.printListItems)(e.sample,t,n,i,r,s)}]`;if(o==="ObjectContaining"||o==="ObjectNotContaining")return++i>t.maxDepth?`[${o}]`:`${o+Qt}{${(0,Cr.printObjectProperties)(e.sample,t,n,i,r,s)}}`;if(o==="StringMatching"||o==="StringNotMatching"||o==="StringContaining"||o==="StringNotContaining")return o+Qt+s(e.sample,t,n,i,r);if(typeof e.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()};Je.serialize=ds;const ms=e=>e&&e.$$typeof===pa;Je.test=ms;const da={serialize:ds,test:ms};var ma=da;Je.default=ma;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.test=Ye.serialize=Ye.default=void 0;var _r=Ue;const ya=" ",ys=["DOMStringMap","NamedNodeMap"],ga=/^(HTML\w*Collection|NodeList)$/,ba=e=>ys.indexOf(e)!==-1||ga.test(e),gs=e=>e&&e.constructor&&!!e.constructor.name&&ba(e.constructor.name);Ye.test=gs;const wa=e=>e.constructor.name==="NamedNodeMap",bs=(e,t,n,i,r,s)=>{const o=e.constructor.name;return++i>t.maxDepth?`[${o}]`:(t.min?"":o+ya)+(ys.indexOf(o)!==-1?`{${(0,_r.printObjectProperties)(wa(e)?Array.from(e).reduce((a,c)=>(a[c.name]=c.value,a),{}):{...e},t,n,i,r,s)}}`:`[${(0,_r.printListItems)(Array.from(e),t,n,i,r,s)}]`)};Ye.serialize=bs;const va={serialize:bs,test:gs};var Sa=va;Ye.default=Sa;var He={},Te={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.default=Ea;function Ea(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}Object.defineProperty(Te,"__esModule",{value:!0});Te.printText=Te.printProps=Te.printElementAsLeaf=Te.printElement=Te.printComment=Te.printChildren=void 0;var ws=xa(dr);function xa(e){return e&&e.__esModule?e:{default:e}}const Ta=(e,t,n,i,r,s,o)=>{const a=i+n.indent,c=n.colors;return e.map(u=>{const l=t[u];let f=o(l,n,a,r,s);return typeof l!="string"&&(f.indexOf(`
`)!==-1&&(f=n.spacingOuter+a+f+n.spacingOuter+i),f=`{${f}}`),`${n.spacingInner+i+c.prop.open+u+c.prop.close}=${c.value.open}${f}${c.value.close}`}).join("")};Te.printProps=Ta;const Oa=(e,t,n,i,r,s)=>e.map(o=>t.spacingOuter+n+(typeof o=="string"?vs(o,t):s(o,t,n,i,r))).join("");Te.printChildren=Oa;const vs=(e,t)=>{const n=t.colors.content;return n.open+(0,ws.default)(e)+n.close};Te.printText=vs;const $a=(e,t)=>{const n=t.colors.comment;return`${n.open}<!--${(0,ws.default)(e)}-->${n.close}`};Te.printComment=$a;const Aa=(e,t,n,i,r)=>{const s=i.colors.tag;return`${s.open}<${e}${t&&s.close+t+i.spacingOuter+r+s.open}${n?`>${s.close}${n}${i.spacingOuter}${r}${s.open}</${e}`:`${t&&!i.min?"":" "}/`}>${s.close}`};Te.printElement=Aa;const Ma=(e,t)=>{const n=t.colors.tag;return`${n.open}<${e}${n.close} \u2026${n.open} />${n.close}`};Te.printElementAsLeaf=Ma;Object.defineProperty(He,"__esModule",{value:!0});He.test=He.serialize=He.default=void 0;var ht=Te;const Pa=1,Ss=3,Es=8,xs=11,Na=/^((HTML|SVG)\w*)?Element$/,Ia=e=>{try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}},ka=e=>{const t=e.constructor.name,{nodeType:n,tagName:i}=e,r=typeof i=="string"&&i.includes("-")||Ia(e);return n===Pa&&(Na.test(t)||r)||n===Ss&&t==="Text"||n===Es&&t==="Comment"||n===xs&&t==="DocumentFragment"},Ts=e=>{var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)&&ka(e)};He.test=Ts;function ja(e){return e.nodeType===Ss}function Ca(e){return e.nodeType===Es}function Ln(e){return e.nodeType===xs}const Os=(e,t,n,i,r,s)=>{if(ja(e))return(0,ht.printText)(e.data,t);if(Ca(e))return(0,ht.printComment)(e.data,t);const o=Ln(e)?"DocumentFragment":e.tagName.toLowerCase();return++i>t.maxDepth?(0,ht.printElementAsLeaf)(o,t):(0,ht.printElement)(o,(0,ht.printProps)(Ln(e)?[]:Array.from(e.attributes).map(a=>a.name).sort(),Ln(e)?{}:Array.from(e.attributes).reduce((a,c)=>(a[c.name]=c.value,a),{}),t,n+t.indent,i,r,s),(0,ht.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,i,r,s),t,n)};He.serialize=Os;const _a={serialize:Os,test:Ts};var Da=_a;He.default=Da;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.test=Xe.serialize=Xe.default=void 0;var qt=Ue;const Fa="@@__IMMUTABLE_ITERABLE__@@",Ra="@@__IMMUTABLE_LIST__@@",Ba="@@__IMMUTABLE_KEYED__@@",La="@@__IMMUTABLE_MAP__@@",Dr="@@__IMMUTABLE_ORDERED__@@",qa="@@__IMMUTABLE_RECORD__@@",za="@@__IMMUTABLE_SEQ__@@",Wa="@@__IMMUTABLE_SET__@@",Va="@@__IMMUTABLE_STACK__@@",St=e=>`Immutable.${e}`,gn=e=>`[${e}]`,zt=" ",Fr="\u2026",Ua=(e,t,n,i,r,s,o)=>++i>t.maxDepth?gn(St(o)):`${St(o)+zt}{${(0,qt.printIteratorEntries)(e.entries(),t,n,i,r,s)}}`;function Ka(e){let t=0;return{next(){if(t<e._keys.length){const n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}const Ga=(e,t,n,i,r,s)=>{const o=St(e._name||"Record");return++i>t.maxDepth?gn(o):`${o+zt}{${(0,qt.printIteratorEntries)(Ka(e),t,n,i,r,s)}}`},Ja=(e,t,n,i,r,s)=>{const o=St("Seq");return++i>t.maxDepth?gn(o):e[Ba]?`${o+zt}{${e._iter||e._object?(0,qt.printIteratorEntries)(e.entries(),t,n,i,r,s):Fr}}`:`${o+zt}[${e._iter||e._array||e._collection||e._iterable?(0,qt.printIteratorValues)(e.values(),t,n,i,r,s):Fr}]`},qn=(e,t,n,i,r,s,o)=>++i>t.maxDepth?gn(St(o)):`${St(o)+zt}[${(0,qt.printIteratorValues)(e.values(),t,n,i,r,s)}]`,$s=(e,t,n,i,r,s)=>e[La]?Ua(e,t,n,i,r,s,e[Dr]?"OrderedMap":"Map"):e[Ra]?qn(e,t,n,i,r,s,"List"):e[Wa]?qn(e,t,n,i,r,s,e[Dr]?"OrderedSet":"Set"):e[Va]?qn(e,t,n,i,r,s,"Stack"):e[za]?Ja(e,t,n,i,r,s):Ga(e,t,n,i,r,s);Xe.serialize=$s;const As=e=>e&&(e[Fa]===!0||e[qa]===!0);Xe.test=As;const Ya={serialize:$s,test:As};var Ha=Ya;Xe.default=Ha;var Qe={},Ms={exports:{}},ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=Symbol.for("react.element"),yr=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),wn=Symbol.for("react.strict_mode"),vn=Symbol.for("react.profiler"),Sn=Symbol.for("react.provider"),En=Symbol.for("react.context"),Xa=Symbol.for("react.server_context"),xn=Symbol.for("react.forward_ref"),Tn=Symbol.for("react.suspense"),On=Symbol.for("react.suspense_list"),$n=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Qa=Symbol.for("react.offscreen"),Ps;Ps=Symbol.for("react.module.reference");function ke(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mr:switch(e=e.type,e){case bn:case vn:case wn:case Tn:case On:return e;default:switch(e=e&&e.$$typeof,e){case Xa:case En:case xn:case An:case $n:case Sn:return e;default:return t}}case yr:return t}}}ie.ContextConsumer=En;ie.ContextProvider=Sn;ie.Element=mr;ie.ForwardRef=xn;ie.Fragment=bn;ie.Lazy=An;ie.Memo=$n;ie.Portal=yr;ie.Profiler=vn;ie.StrictMode=wn;ie.Suspense=Tn;ie.SuspenseList=On;ie.isAsyncMode=function(){return!1};ie.isConcurrentMode=function(){return!1};ie.isContextConsumer=function(e){return ke(e)===En};ie.isContextProvider=function(e){return ke(e)===Sn};ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mr};ie.isForwardRef=function(e){return ke(e)===xn};ie.isFragment=function(e){return ke(e)===bn};ie.isLazy=function(e){return ke(e)===An};ie.isMemo=function(e){return ke(e)===$n};ie.isPortal=function(e){return ke(e)===yr};ie.isProfiler=function(e){return ke(e)===vn};ie.isStrictMode=function(e){return ke(e)===wn};ie.isSuspense=function(e){return ke(e)===Tn};ie.isSuspenseList=function(e){return ke(e)===On};ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bn||e===vn||e===wn||e===Tn||e===On||e===Qa||typeof e=="object"&&e!==null&&(e.$$typeof===An||e.$$typeof===$n||e.$$typeof===Sn||e.$$typeof===En||e.$$typeof===xn||e.$$typeof===Ps||e.getModuleId!==void 0)};ie.typeOf=ke;Ms.exports=ie;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.test=Qe.serialize=Qe.default=void 0;var st=Za(Ms.exports),Zt=Te;function Ns(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Ns=function(i){return i?n:t})(e)}function Za(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Ns(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}const Is=(e,t=[])=>(Array.isArray(e)?e.forEach(n=>{Is(n,t)}):e!=null&&e!==!1&&t.push(e),t),Rr=e=>{const t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(st.isFragment(e))return"React.Fragment";if(st.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(st.isContextProvider(e))return"Context.Provider";if(st.isContextConsumer(e))return"Context.Consumer";if(st.isForwardRef(e)){if(t.displayName)return t.displayName;const n=t.render.displayName||t.render.name||"";return n!==""?`ForwardRef(${n})`:"ForwardRef"}if(st.isMemo(e)){const n=t.displayName||t.type.displayName||t.type.name||"";return n!==""?`Memo(${n})`:"Memo"}}return"UNDEFINED"},ec=e=>{const{props:t}=e;return Object.keys(t).filter(n=>n!=="children"&&t[n]!==void 0).sort()},ks=(e,t,n,i,r,s)=>++i>t.maxDepth?(0,Zt.printElementAsLeaf)(Rr(e),t):(0,Zt.printElement)(Rr(e),(0,Zt.printProps)(ec(e),e.props,t,n+t.indent,i,r,s),(0,Zt.printChildren)(Is(e.props.children),t,n+t.indent,i,r,s),t,n);Qe.serialize=ks;const js=e=>e!=null&&st.isElement(e);Qe.test=js;const tc={serialize:ks,test:js};var nc=tc;Qe.default=nc;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.test=Ze.serialize=Ze.default=void 0;var en=Te,zn=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol;const rc=typeof zn=="function"&&zn.for?zn.for("react.test.json"):245830487,oc=e=>{const{props:t}=e;return t?Object.keys(t).filter(n=>t[n]!==void 0).sort():[]},Cs=(e,t,n,i,r,s)=>++i>t.maxDepth?(0,en.printElementAsLeaf)(e.type,t):(0,en.printElement)(e.type,e.props?(0,en.printProps)(oc(e),e.props,t,n+t.indent,i,r,s):"",e.children?(0,en.printChildren)(e.children,t,n+t.indent,i,r,s):"",t,n);Ze.serialize=Cs;const _s=e=>e&&e.$$typeof===rc;Ze.test=_s;const sc={serialize:Cs,test:_s};var ic=sc;Ze.default=ic;Object.defineProperty(tt,"__esModule",{value:!0});tt.default=tt.DEFAULT_OPTIONS=void 0;var _e=tt.format=Ks,Mn=tt.plugins=void 0,ac=ct(ps.exports),Nt=Ue,cc=ct(Je),uc=ct(Ye),lc=ct(He),fc=ct(Xe),hc=ct(Qe),pc=ct(Ze);function ct(e){return e&&e.__esModule?e:{default:e}}const Ds=Object.prototype.toString,dc=Date.prototype.toISOString,mc=Error.prototype.toString,Br=RegExp.prototype.toString,Wn=e=>typeof e.constructor=="function"&&e.constructor.name||"Object",yc=e=>typeof window!="undefined"&&e===window,gc=/^Symbol\((.*)\)(.*)$/,bc=/\n/gi;class Fs extends Error{constructor(t,n){super(t),this.stack=n,this.name=this.constructor.name}}function wc(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}function vc(e){return Object.is(e,-0)?"-0":String(e)}function Sc(e){return String(`${e}n`)}function Lr(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function qr(e){return String(e).replace(gc,"Symbol($1)")}function zr(e){return`[${mc.call(e)}]`}function Rs(e,t,n,i){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";const r=typeof e;if(r==="number")return vc(e);if(r==="bigint")return Sc(e);if(r==="string")return i?`"${e.replace(/"|\\/g,"\\$&")}"`:`"${e}"`;if(r==="function")return Lr(e,t);if(r==="symbol")return qr(e);const s=Ds.call(e);return s==="[object WeakMap]"?"WeakMap {}":s==="[object WeakSet]"?"WeakSet {}":s==="[object Function]"||s==="[object GeneratorFunction]"?Lr(e,t):s==="[object Symbol]"?qr(e):s==="[object Date]"?isNaN(+e)?"Date { NaN }":dc.call(e):s==="[object Error]"?zr(e):s==="[object RegExp]"?n?Br.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):Br.call(e):e instanceof Error?zr(e):null}function Bs(e,t,n,i,r,s){if(r.indexOf(e)!==-1)return"[Circular]";r=r.slice(),r.push(e);const o=++i>t.maxDepth,a=t.min;if(t.callToJSON&&!o&&e.toJSON&&typeof e.toJSON=="function"&&!s)return Ke(e.toJSON(),t,n,i,r,!0);const c=Ds.call(e);return c==="[object Arguments]"?o?"[Arguments]":`${a?"":"Arguments "}[${(0,Nt.printListItems)(e,t,n,i,r,Ke)}]`:wc(c)?o?`[${e.constructor.name}]`:`${a||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${(0,Nt.printListItems)(e,t,n,i,r,Ke)}]`:c==="[object Map]"?o?"[Map]":`Map {${(0,Nt.printIteratorEntries)(e.entries(),t,n,i,r,Ke," => ")}}`:c==="[object Set]"?o?"[Set]":`Set {${(0,Nt.printIteratorValues)(e.values(),t,n,i,r,Ke)}}`:o||yc(e)?`[${Wn(e)}]`:`${a||!t.printBasicPrototype&&Wn(e)==="Object"?"":`${Wn(e)} `}{${(0,Nt.printObjectProperties)(e,t,n,i,r,Ke)}}`}function Ec(e){return e.serialize!=null}function Ls(e,t,n,i,r,s){let o;try{o=Ec(e)?e.serialize(t,n,i,r,s,Ke):e.print(t,a=>Ke(a,n,i,r,s),a=>{const c=i+n.indent;return c+a.replace(bc,`
${c}`)},{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(a){throw new Fs(a.message,a.stack)}if(typeof o!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof o}".`);return o}function qs(e,t){for(let n=0;n<e.length;n++)try{if(e[n].test(t))return e[n]}catch(i){throw new Fs(i.message,i.stack)}return null}function Ke(e,t,n,i,r,s){const o=qs(t.plugins,e);if(o!==null)return Ls(o,e,t,n,i,r);const a=Rs(e,t.printFunctionName,t.escapeRegex,t.escapeString);return a!==null?a:Bs(e,t,n,i,r,s)}const gr={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},zs=Object.keys(gr),xc=e=>e,Ie=xc({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:gr});tt.DEFAULT_OPTIONS=Ie;function Tc(e){if(Object.keys(e).forEach(t=>{if(!Object.prototype.hasOwnProperty.call(Ie,t))throw new Error(`pretty-format: Unknown option "${t}".`)}),e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(e.theme!==void 0){if(e.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof e.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof e.theme}".`)}}const Oc=e=>zs.reduce((t,n)=>{const i=e.theme&&e.theme[n]!==void 0?e.theme[n]:gr[n],r=i&&ac.default[i];if(r&&typeof r.close=="string"&&typeof r.open=="string")t[n]=r;else throw new Error(`pretty-format: Option "theme" has a key "${n}" whose value "${i}" is undefined in ansi-styles.`);return t},Object.create(null)),$c=()=>zs.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null)),Ws=e=>{var t;return(t=e==null?void 0:e.printFunctionName)!=null?t:Ie.printFunctionName},Vs=e=>{var t;return(t=e==null?void 0:e.escapeRegex)!=null?t:Ie.escapeRegex},Us=e=>{var t;return(t=e==null?void 0:e.escapeString)!=null?t:Ie.escapeString},Wr=e=>{var t,n,i,r,s,o,a;return{callToJSON:(t=e==null?void 0:e.callToJSON)!=null?t:Ie.callToJSON,colors:e!=null&&e.highlight?Oc(e):$c(),compareKeys:typeof(e==null?void 0:e.compareKeys)=="function"||(e==null?void 0:e.compareKeys)===null?e.compareKeys:Ie.compareKeys,escapeRegex:Vs(e),escapeString:Us(e),indent:e!=null&&e.min?"":Ac((n=e==null?void 0:e.indent)!=null?n:Ie.indent),maxDepth:(i=e==null?void 0:e.maxDepth)!=null?i:Ie.maxDepth,maxWidth:(r=e==null?void 0:e.maxWidth)!=null?r:Ie.maxWidth,min:(s=e==null?void 0:e.min)!=null?s:Ie.min,plugins:(o=e==null?void 0:e.plugins)!=null?o:Ie.plugins,printBasicPrototype:(a=e==null?void 0:e.printBasicPrototype)!=null?a:!0,printFunctionName:Ws(e),spacingInner:e!=null&&e.min?" ":`
`,spacingOuter:e!=null&&e.min?"":`
`}};function Ac(e){return new Array(e+1).join(" ")}function Ks(e,t){if(t&&(Tc(t),t.plugins)){const i=qs(t.plugins,e);if(i!==null)return Ls(i,e,Wr(t),"",0,[])}const n=Rs(e,Ws(t),Vs(t),Us(t));return n!==null?n:Bs(e,Wr(t),"",0,[])}const Mc={AsymmetricMatcher:cc.default,DOMCollection:uc.default,DOMElement:lc.default,Immutable:fc.default,ReactElement:hc.default,ReactTestComponent:pc.default};Mn=tt.plugins=Mc;var Pc=Ks;tt.default=Pc;var hn={exports:{}};(function(e,t){(function(n,i){i(t)})(Zn,function(n){function i(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(d){return typeof d}:i=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i(h)}function r(h,d){return s(h)||o(h,d)||a(h,d)||u()}function s(h){if(Array.isArray(h))return h}function o(h,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(h)))){var E=[],_=!0,B=!1,V=void 0;try{for(var ee=h[Symbol.iterator](),se;!(_=(se=ee.next()).done)&&(E.push(se.value),!(d&&E.length===d));_=!0);}catch(fe){B=!0,V=fe}finally{try{!_&&ee.return!=null&&ee.return()}finally{if(B)throw V}}return E}}function a(h,d){if(!!h){if(typeof h=="string")return c(h,d);var E=Object.prototype.toString.call(h).slice(8,-1);if(E==="Object"&&h.constructor&&(E=h.constructor.name),E==="Map"||E==="Set")return Array.from(h);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return c(h,d)}}function c(h,d){(d==null||d>h.length)&&(d=h.length);for(var E=0,_=new Array(d);E<d;E++)_[E]=h[E];return _}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},f={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},y="\u2026";function S(h,d){var E=l[f[d]]||l[d];return E?"\x1B[".concat(E[0],"m").concat(String(h),"\x1B[").concat(E[1],"m"):String(h)}function x(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=h.showHidden,E=d===void 0?!1:d,_=h.depth,B=_===void 0?2:_,V=h.colors,ee=V===void 0?!1:V,se=h.customInspect,fe=se===void 0?!0:se,pe=h.showProxy,le=pe===void 0?!1:pe,Fe=h.maxArrayLength,ot=Fe===void 0?1/0:Fe,qe=h.breakLength,ze=qe===void 0?1/0:qe,je=h.seen,ea=je===void 0?[]:je,kr=h.truncate,ta=kr===void 0?1/0:kr,jr=h.stylize,na=jr===void 0?String:jr,Rn={showHidden:Boolean(E),depth:Number(B),colors:Boolean(ee),customInspect:Boolean(fe),showProxy:Boolean(le),maxArrayLength:Number(ot),breakLength:Number(ze),truncate:Number(ta),seen:ea,stylize:na};return Rn.colors&&(Rn.stylize=S),Rn}function $(h,d){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;h=String(h);var _=E.length,B=h.length;return _>d&&B>_?E:B>d&&B>_?"".concat(h.slice(0,d-_)).concat(E):h}function j(h,d,E){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:", ";E=E||d.inspect;var B=h.length;if(B===0)return"";for(var V=d.truncate,ee="",se="",fe="",pe=0;pe<B;pe+=1){var le=pe+1===h.length,Fe=pe+2===h.length;fe="".concat(y,"(").concat(h.length-pe,")");var ot=h[pe];d.truncate=V-ee.length-(le?0:_.length);var qe=se||E(ot,d)+(le?"":_),ze=ee.length+qe.length,je=ze+fe.length;if(le&&ze>V&&ee.length+fe.length<=V||!le&&!Fe&&je>V||(se=le?"":E(h[pe+1],d)+(Fe?"":_),!le&&Fe&&je>V&&ze+se.length>V))break;if(ee+=qe,!le&&!Fe&&ze+se.length>=V){fe="".concat(y,"(").concat(h.length-pe-1,")");break}fe=""}return"".concat(ee).concat(fe)}function z(h){return h.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?h:JSON.stringify(h).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function k(h,d){var E=r(h,2),_=E[0],B=E[1];return d.truncate-=2,typeof _=="string"?_=z(_):typeof _!="number"&&(_="[".concat(d.inspect(_,d),"]")),d.truncate-=_.length,B=d.inspect(B,d),"".concat(_,": ").concat(B)}function q(h,d){var E=Object.keys(h).slice(h.length);if(!h.length&&!E.length)return"[]";d.truncate-=4;var _=j(h,d);d.truncate-=_.length;var B="";return E.length&&(B=j(E.map(function(V){return[V,h[V]]}),d,k)),"[ ".concat(_).concat(B?", ".concat(B):""," ]")}var N=Function.prototype.toString,W=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;function J(h){if(typeof h!="function")return null;var d="";if(typeof Function.prototype.name=="undefined"&&typeof h.name=="undefined"){var E=N.call(h).match(W);E&&(d=E[1])}else d=h.name;return d}var D=J,U=function(d){return typeof Buffer=="function"&&d instanceof Buffer?"Buffer":d[Symbol.toStringTag]?d[Symbol.toStringTag]:D(d.constructor)};function te(h,d){var E=U(h);d.truncate-=E.length+4;var _=Object.keys(h).slice(h.length);if(!h.length&&!_.length)return"".concat(E,"[]");for(var B="",V=0;V<h.length;V++){var ee="".concat(d.stylize($(h[V],d.truncate),"number")).concat(V===h.length-1?"":", ");if(d.truncate-=ee.length,h[V]!==h.length&&d.truncate<=3){B+="".concat(y,"(").concat(h.length-h[V]+1,")");break}B+=ee}var se="";return _.length&&(se=j(_.map(function(fe){return[fe,h[fe]]}),d,k)),"".concat(E,"[ ").concat(B).concat(se?", ".concat(se):""," ]")}function G(h,d){var E=h.toJSON();if(E===null)return"Invalid Date";var _=E.split("T"),B=_[0];return d.stylize("".concat(B,"T").concat($(_[1],d.truncate-B.length-1)),"date")}function ve(h,d){var E=D(h);return E?d.stylize("[Function ".concat($(E,d.truncate-11),"]"),"special"):d.stylize("[Function]","special")}function ce(h,d){var E=r(h,2),_=E[0],B=E[1];return d.truncate-=4,_=d.inspect(_,d),d.truncate-=_.length,B=d.inspect(B,d),"".concat(_," => ").concat(B)}function ge(h){var d=[];return h.forEach(function(E,_){d.push([_,E])}),d}function Pe(h,d){var E=h.size-1;return E<=0?"Map{}":(d.truncate-=7,"Map{ ".concat(j(ge(h),d,ce)," }"))}var Ne=Number.isNaN||function(h){return h!==h};function Se(h,d){return Ne(h)?d.stylize("NaN","number"):h===1/0?d.stylize("Infinity","number"):h===-1/0?d.stylize("-Infinity","number"):h===0?d.stylize(1/h===1/0?"+0":"-0","number"):d.stylize($(h,d.truncate),"number")}function Oe(h,d){var E=$(h.toString(),d.truncate-1);return E!==y&&(E+="n"),d.stylize(E,"bigint")}function Be(h,d){var E=h.toString().split("/")[2],_=d.truncate-(2+E.length),B=h.source;return d.stylize("/".concat($(B,_),"/").concat(E),"regexp")}function p(h){var d=[];return h.forEach(function(E){d.push(E)}),d}function w(h,d){return h.size===0?"Set{}":(d.truncate-=7,"Set{ ".concat(j(p(h),d)," }"))}var T=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),O={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},P=16,C=4;function A(h){return O[h]||"\\u".concat("0000".concat(h.charCodeAt(0).toString(P)).slice(-C))}function v(h,d){return T.test(h)&&(h=h.replace(T,A)),d.stylize("'".concat($(h,d.truncate-2),"'"),"string")}function F(h){return"description"in Symbol.prototype?h.description?"Symbol(".concat(h.description,")"):"Symbol()":h.toString()}var L=function(){return"Promise{\u2026}"};try{var X=process.binding("util"),ne=X.getPromiseDetails,Q=X.kPending,K=X.kRejected;Array.isArray(ne(Promise.resolve()))&&(L=function(d,E){var _=ne(d),B=r(_,2),V=B[0],ee=B[1];return V===Q?"Promise{<pending>}":"Promise".concat(V===K?"!":"","{").concat(E.inspect(ee,E),"}")})}catch{}var oe=L;function he(h,d){var E=Object.getOwnPropertyNames(h),_=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h):[];if(E.length===0&&_.length===0)return"{}";if(d.truncate-=4,d.seen=d.seen||[],d.seen.indexOf(h)>=0)return"[Circular]";d.seen.push(h);var B=j(E.map(function(se){return[se,h[se]]}),d,k),V=j(_.map(function(se){return[se,h[se]]}),d,k);d.seen.pop();var ee="";return B&&V&&(ee=", "),"{ ".concat(B).concat(ee).concat(V," }")}var ye=typeof Symbol!="undefined"&&Symbol.toStringTag?Symbol.toStringTag:!1;function be(h,d){var E="";return ye&&ye in h&&(E=h[ye]),E=E||D(h.constructor),(!E||E==="_class")&&(E="<Anonymous Class>"),d.truncate-=E.length,"".concat(E).concat(he(h,d))}function $e(h,d){return h.length===0?"Arguments[]":(d.truncate-=13,"Arguments[ ".concat(j(h,d)," ]"))}var Dn=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description"];function Pt(h,d){var E=Object.getOwnPropertyNames(h).filter(function(ee){return Dn.indexOf(ee)===-1}),_=h.name;d.truncate-=_.length;var B="";typeof h.message=="string"?B=$(h.message,d.truncate):E.unshift("message"),B=B?": ".concat(B):"",d.truncate-=B.length+5;var V=j(E.map(function(ee){return[ee,h[ee]]}),d,k);return"".concat(_).concat(B).concat(V?" { ".concat(V," }"):"")}function Fn(h,d){var E=r(h,2),_=E[0],B=E[1];return d.truncate-=3,B?"".concat(d.stylize(_,"yellow"),"=").concat(d.stylize('"'.concat(B,'"'),"string")):"".concat(d.stylize(_,"yellow"))}function Ee(h,d){return j(h,d,Le,`
`)}function Le(h,d){var E=h.getAttributeNames(),_=h.tagName.toLowerCase(),B=d.stylize("<".concat(_),"special"),V=d.stylize(">","special"),ee=d.stylize("</".concat(_,">"),"special");d.truncate-=_.length*2+5;var se="";E.length>0&&(se+=" ",se+=j(E.map(function(le){return[le,h.getAttribute(le)]}),d,Fn," ")),d.truncate-=se.length;var fe=d.truncate,pe=Ee(h.children,d);return pe&&pe.length>fe&&(pe="".concat(y,"(").concat(h.children.length,")")),"".concat(B).concat(se).concat(V).concat(pe).concat(ee)}var Xt=typeof Symbol=="function"&&typeof Symbol.for=="function",ft=Xt?Symbol.for("chai/inspect"):"@@chai/inspect",g=!1;try{var b=require("util");g=b.inspect?b.inspect.custom:!1}catch{g=!1}function M(){this.key="chai/loupe__"+Math.random()+Date.now()}M.prototype={get:function(d){return d[this.key]},has:function(d){return this.key in d},set:function(d,E){Object.isExtensible(d)&&Object.defineProperty(d,this.key,{value:E,configurable:!0})}};var I=new(typeof WeakMap=="function"?WeakMap:M),m={},Z={undefined:function(d,E){return E.stylize("undefined","undefined")},null:function(d,E){return E.stylize(null,"null")},boolean:function(d,E){return E.stylize(d,"boolean")},Boolean:function(d,E){return E.stylize(d,"boolean")},number:Se,Number:Se,bigint:Oe,BigInt:Oe,string:v,String:v,function:ve,Function:ve,symbol:F,Symbol:F,Array:q,Date:G,Map:Pe,Set:w,RegExp:Be,Promise:oe,WeakSet:function(d,E){return E.stylize("WeakSet{\u2026}","special")},WeakMap:function(d,E){return E.stylize("WeakMap{\u2026}","special")},Arguments:$e,Int8Array:te,Uint8Array:te,Uint8ClampedArray:te,Int16Array:te,Uint16Array:te,Int32Array:te,Uint32Array:te,Float32Array:te,Float64Array:te,Generator:function(){return""},DataView:function(){return""},ArrayBuffer:function(){return""},Error:Pt,HTMLCollection:Ee,NodeList:Ee},we=function(d,E,_){return ft in d&&typeof d[ft]=="function"?d[ft](E):g&&g in d&&typeof d[g]=="function"?d[g](E.depth,E):"inspect"in d&&typeof d.inspect=="function"?d.inspect(E.depth,E):"constructor"in d&&I.has(d.constructor)?I.get(d.constructor)(d,E):m[_]?m[_](d,E):""},de=Object.prototype.toString;function Ae(h,d){d=x(d),d.inspect=Ae;var E=d,_=E.customInspect,B=h===null?"null":i(h);if(B==="object"&&(B=de.call(h).slice(8,-1)),Z[B])return Z[B](h,d);if(_&&h){var V=we(h,d,B);if(V)return typeof V=="string"?V:Ae(V,d)}var ee=h?Object.getPrototypeOf(h):!1;return ee===Object.prototype||ee===null?he(h,d):h&&typeof HTMLElement=="function"&&h instanceof HTMLElement?Le(h,d):"constructor"in h?h.constructor!==Object?be(h,d):he(h,d):h===Object(h)?he(h,d):d.stylize(String(h),B)}function Y(h,d){return I.has(h)?!1:(I.set(h,d),!0)}function R(h,d){return h in m?!1:(m[h]=d,!0)}var H=ft;n.custom=H,n.default=Ae,n.inspect=Ae,n.registerConstructor=Y,n.registerStringTag=R,Object.defineProperty(n,"__esModule",{value:!0})})})(hn,hn.exports);const{AsymmetricMatcher:Nc,DOMCollection:Ic,DOMElement:kc,Immutable:jc,ReactElement:Cc,ReactTestComponent:_c}=Mn,Vr=[_c,Cc,kc,Ic,jc,Nc];function Ve(e,t=10,{maxLength:n,...i}={}){const r=n!=null?n:1e4;let s;try{s=_e(e,{maxDepth:t,escapeString:!1,plugins:Vr,...i})}catch{s=_e(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:Vr,...i})}return s.length>=r&&t>1?Ve(e,Math.floor(t/2)):s}const Dc=/%[sdjifoOcj%]/g;function Gs(...e){if(typeof e[0]!="string"){const s=[];for(let o=0;o<e.length;o++)s.push(dt(e[o],{depth:0,colors:!1,compact:3}));return s.join(" ")}const t=e.length;let n=1;const i=e[0];let r=String(i).replace(Dc,s=>{if(s==="%%")return"%";if(n>=t)return s;switch(s){case"%s":{const o=e[n++];return typeof o=="bigint"?`${o.toString()}n`:typeof o=="number"&&o===0&&1/o<0?"-0":typeof o=="object"&&o!==null?dt(o,{depth:0,colors:!1,compact:3}):String(o)}case"%d":{const o=e[n++];return typeof o=="bigint"?`${o.toString()}n`:Number(o).toString()}case"%i":{const o=e[n++];return typeof o=="bigint"?`${o.toString()}n`:Number.parseInt(String(o)).toString()}case"%f":return Number.parseFloat(String(e[n++])).toString();case"%o":return dt(e[n++],{showHidden:!0,showProxy:!0});case"%O":return dt(e[n++]);case"%c":return n++,"";case"%j":try{return JSON.stringify(e[n++])}catch(o){const a=o.message;if(a.includes("circular structure")||a.includes("cyclic structures")||a.includes("cyclic object"))return"[Circular]";throw o}default:return s}});for(let s=e[n];n<t;s=e[++n])s===null||typeof s!="object"?r+=` ${s}`:r+=` ${dt(s)}`;return r}function dt(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),hn.exports.inspect(e,t)}function Fc(e,t={}){var s;const n=(s=t.truncate)!=null?s:40,i=dt(e,t),r=Object.prototype.toString.call(e);if(n&&i.length>=n)if(r==="[object Function]"){const o=e;return!o.name||o.name===""?"[Function]":`[Function: ${o.name}]`}else{if(r==="[object Array]")return`[ Array(${e.length}) ]`;if(r==="[object Object]"){const o=Object.keys(e);return`{ Object (${o.length>2?`${o.splice(0,2).join(", ")}, ...`:o.join(", ")}) }`}else return i}return i}const Ur=Symbol("vitest:SAFE_TIMERS"),Rc=Symbol("vitest:SAFE_COLORS"),Bc={bold:["\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"],dim:["\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"],italic:["\x1B[3m","\x1B[23m"],underline:["\x1B[4m","\x1B[24m"],inverse:["\x1B[7m","\x1B[27m"],hidden:["\x1B[8m","\x1B[28m"],strikethrough:["\x1B[9m","\x1B[29m"],black:["\x1B[30m","\x1B[39m"],red:["\x1B[31m","\x1B[39m"],green:["\x1B[32m","\x1B[39m"],yellow:["\x1B[33m","\x1B[39m"],blue:["\x1B[34m","\x1B[39m"],magenta:["\x1B[35m","\x1B[39m"],cyan:["\x1B[36m","\x1B[39m"],white:["\x1B[37m","\x1B[39m"],gray:["\x1B[90m","\x1B[39m"],bgBlack:["\x1B[40m","\x1B[49m"],bgRed:["\x1B[41m","\x1B[49m"],bgGreen:["\x1B[42m","\x1B[49m"],bgYellow:["\x1B[43m","\x1B[49m"],bgBlue:["\x1B[44m","\x1B[49m"],bgMagenta:["\x1B[45m","\x1B[49m"],bgCyan:["\x1B[46m","\x1B[49m"],bgWhite:["\x1B[47m","\x1B[49m"]},Lc=Object.entries(Bc);function br(e){return String(e)}br.open="";br.close="";const qc=Lc.reduce((e,[t])=>(e[t]=br,e),{isColorSupported:!1});function wr(){return globalThis[Rc]||qc}function Js(){const{setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:i,setImmediate:r,clearImmediate:s}=globalThis[Ur]||globalThis,{nextTick:o}=globalThis[Ur]||globalThis.process||{nextTick:a=>a()};return{nextTick:o,setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:i,setImmediate:r,clearImmediate:s}}function zc(e){const{message:t="error",stackTraceLimit:n=1}=e||{},i=Error.stackTraceLimit,r=Error.prepareStackTrace;Error.stackTraceLimit=n,Error.prepareStackTrace=a=>a.stack;const o=new Error(t).stack||"";return Error.prepareStackTrace=r,Error.stackTraceLimit=i,o}var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});var Kr=Ys.default=Kc;const Ft="diff-sequences",xe=0,Wt=(e,t,n,i,r)=>{let s=0;for(;e<t&&n<i&&r(e,n);)e+=1,n+=1,s+=1;return s},Vt=(e,t,n,i,r)=>{let s=0;for(;e<=t&&n<=i&&r(t,i);)t-=1,i-=1,s+=1;return s},Vn=(e,t,n,i,r,s,o)=>{let a=0,c=-e,u=s[a],l=u;s[a]+=Wt(u+1,t,i+u-c+1,n,r);const f=e<o?e:o;for(a+=1,c+=2;a<=f;a+=1,c+=2){if(a!==e&&l<s[a])u=s[a];else if(u=l+1,t<=u)return a-1;l=s[a],s[a]=u+Wt(u+1,t,i+u-c+1,n,r)}return o},Gr=(e,t,n,i,r,s,o)=>{let a=0,c=e,u=s[a],l=u;s[a]-=Vt(t,u-1,n,i+u-c-1,r);const f=e<o?e:o;for(a+=1,c-=2;a<=f;a+=1,c-=2){if(a!==e&&s[a]<l)u=s[a];else if(u=l-1,u<t)return a-1;l=s[a],s[a]=u-Vt(t,u-1,n,i+u-c-1,r)}return o},Wc=(e,t,n,i,r,s,o,a,c,u,l)=>{const f=i-t,y=n-t,x=r-i-y,$=-x-(e-1),j=-x+(e-1);let z=xe;const k=e<a?e:a;for(let q=0,N=-e;q<=k;q+=1,N+=2){const W=q===0||q!==e&&z<o[q],J=W?o[q]:z,D=W?J:J+1,U=f+D-N,te=Wt(D+1,n,U+1,r,s),G=D+te;if(z=o[q],o[q]=G,$<=N&&N<=j){const ve=(e-1-(N+x))/2;if(ve<=u&&c[ve]-1<=G){const ce=f+J-(W?N+1:N-1),ge=Vt(t,J,i,ce,s),Pe=J-ge,Ne=ce-ge,Se=Pe+1,Oe=Ne+1;l.nChangePreceding=e-1,e-1===Se+Oe-t-i?(l.aEndPreceding=t,l.bEndPreceding=i):(l.aEndPreceding=Se,l.bEndPreceding=Oe),l.nCommonPreceding=ge,ge!==0&&(l.aCommonPreceding=Se,l.bCommonPreceding=Oe),l.nCommonFollowing=te,te!==0&&(l.aCommonFollowing=D+1,l.bCommonFollowing=U+1);const Be=G+1,p=U+te+1;return l.nChangeFollowing=e-1,e-1===n+r-Be-p?(l.aStartFollowing=n,l.bStartFollowing=r):(l.aStartFollowing=Be,l.bStartFollowing=p),!0}}}return!1},Vc=(e,t,n,i,r,s,o,a,c,u,l)=>{const f=r-n,y=n-t,x=r-i-y,$=x-e,j=x+e;let z=xe;const k=e<u?e:u;for(let q=0,N=e;q<=k;q+=1,N-=2){const W=q===0||q!==e&&c[q]<z,J=W?c[q]:z,D=W?J:J-1,U=f+D-N,te=Vt(t,D-1,i,U-1,s),G=D-te;if(z=c[q],c[q]=G,$<=N&&N<=j){const ve=(e+(N-x))/2;if(ve<=a&&G-1<=o[ve]){const ce=U-te;if(l.nChangePreceding=e,e===G+ce-t-i?(l.aEndPreceding=t,l.bEndPreceding=i):(l.aEndPreceding=G,l.bEndPreceding=ce),l.nCommonPreceding=te,te!==0&&(l.aCommonPreceding=G,l.bCommonPreceding=ce),l.nChangeFollowing=e-1,e===1)l.nCommonFollowing=0,l.aStartFollowing=n,l.bStartFollowing=r;else{const ge=f+J-(W?N-1:N+1),Pe=Wt(J,n,ge,r,s);l.nCommonFollowing=Pe,Pe!==0&&(l.aCommonFollowing=J,l.bCommonFollowing=ge);const Ne=J+Pe,Se=ge+Pe;e-1===n+r-Ne-Se?(l.aStartFollowing=n,l.bStartFollowing=r):(l.aStartFollowing=Ne,l.bStartFollowing=Se)}return!0}}}return!1},Uc=(e,t,n,i,r,s,o,a,c)=>{const u=i-t,l=r-n,f=n-t,y=r-i,S=y-f;let x=f,$=f;if(o[0]=t-1,a[0]=n,S%2===0){const j=(e||S)/2,z=(f+y)/2;for(let k=1;k<=z;k+=1)if(x=Vn(k,n,r,u,s,o,x),k<j)$=Gr(k,t,i,l,s,a,$);else if(Vc(k,t,n,i,r,s,o,x,a,$,c))return}else{const j=((e||S)+1)/2,z=(f+y+1)/2;let k=1;for(x=Vn(k,n,r,u,s,o,x),k+=1;k<=z;k+=1)if($=Gr(k-1,t,i,l,s,a,$),k<j)x=Vn(k,n,r,u,s,o,x);else if(Wc(k,t,n,i,r,s,o,x,a,$,c))return}throw new Error(`${Ft}: no overlap aStart=${t} aEnd=${n} bStart=${i} bEnd=${r}`)},er=(e,t,n,i,r,s,o,a,c,u)=>{if(r-i<n-t){if(s=!s,s&&o.length===1){const{foundSubsequence:G,isCommon:ve}=o[0];o[1]={foundSubsequence:(ce,ge,Pe)=>{G(ce,Pe,ge)},isCommon:(ce,ge)=>ve(ge,ce)}}const U=t,te=n;t=i,n=r,i=U,r=te}const{foundSubsequence:l,isCommon:f}=o[s?1:0];Uc(e,t,n,i,r,f,a,c,u);const{nChangePreceding:y,aEndPreceding:S,bEndPreceding:x,nCommonPreceding:$,aCommonPreceding:j,bCommonPreceding:z,nCommonFollowing:k,aCommonFollowing:q,bCommonFollowing:N,nChangeFollowing:W,aStartFollowing:J,bStartFollowing:D}=u;t<S&&i<x&&er(y,t,S,i,x,s,o,a,c,u),$!==0&&l($,j,z),k!==0&&l(k,q,N),J<n&&D<r&&er(W,J,n,D,r,s,o,a,c,u)},Jr=(e,t)=>{if(typeof t!="number")throw new TypeError(`${Ft}: ${e} typeof ${typeof t} is not a number`);if(!Number.isSafeInteger(t))throw new RangeError(`${Ft}: ${e} value ${t} is not a safe integer`);if(t<0)throw new RangeError(`${Ft}: ${e} value ${t} is a negative integer`)},Yr=(e,t)=>{const n=typeof t;if(n!=="function")throw new TypeError(`${Ft}: ${e} typeof ${n} is not a function`)};function Kc(e,t,n,i){Jr("aLength",e),Jr("bLength",t),Yr("isCommon",n),Yr("foundSubsequence",i);const r=Wt(0,e,0,t,n);if(r!==0&&i(r,0,0),e!==r||t!==r){const s=r,o=r,a=Vt(s,e-1,o,t-1,n),c=e-a,u=t-a,l=r+a;e!==l&&t!==l&&er(0,s,c,o,u,!1,[{foundSubsequence:i,isCommon:n}],[xe],[xe],{aCommonFollowing:xe,aCommonPreceding:xe,aEndPreceding:xe,aStartFollowing:xe,bCommonFollowing:xe,bCommonPreceding:xe,bEndPreceding:xe,bStartFollowing:xe,nChangeFollowing:xe,nChangePreceding:xe,nCommonFollowing:xe,nCommonPreceding:xe}),a!==0&&i(a,c,u)}}function Hr(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}const Et=-1,xt=1,sn=0;class It{constructor(t,n){re(this,0);re(this,1);this[0]=t,this[1]=n}}const Hs="Compared values have no visual difference.",Gc="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.";function Jc(e,t){return e.replace(/\s+$/,n=>t(n))}function vr(e,t,n,i,r,s){return e.length!==0?n(`${i} ${Jc(e,r)}`):i!==" "?n(i):t&&s.length!==0?n(`${i} ${s}`):""}function Xs(e,t,{aColor:n,aIndicator:i,changeLineTrailingSpaceColor:r,emptyFirstOrLastLinePlaceholder:s}){return vr(e,t,n,i,r,s)}function Qs(e,t,{bColor:n,bIndicator:i,changeLineTrailingSpaceColor:r,emptyFirstOrLastLinePlaceholder:s}){return vr(e,t,n,i,r,s)}function Zs(e,t,{commonColor:n,commonIndicator:i,commonLineTrailingSpaceColor:r,emptyFirstOrLastLinePlaceholder:s}){return vr(e,t,n,i,r,s)}function Xr(e,t,n,i,{patchColor:r}){return r(`@@ -${e+1},${t-e} +${n+1},${i-n} @@`)}function Yc(e,t){const n=e.length,i=t.contextLines,r=i+i;let s=n,o=!1,a=0,c=0;for(;c!==n;){const N=c;for(;c!==n&&e[c][0]===sn;)c+=1;if(N!==c)if(N===0)c>i&&(s-=c-i,o=!0);else if(c===n){const W=c-N;W>i&&(s-=W-i,o=!0)}else{const W=c-N;W>r&&(s-=W-r,a+=1)}for(;c!==n&&e[c][0]!==sn;)c+=1}const u=a!==0||o;a!==0?s+=a+1:o&&(s+=1);const l=s-1,f=[];let y=0;u&&f.push("");let S=0,x=0,$=0,j=0;const z=N=>{const W=f.length;f.push(Zs(N,W===0||W===l,t)),$+=1,j+=1},k=N=>{const W=f.length;f.push(Xs(N,W===0||W===l,t)),$+=1},q=N=>{const W=f.length;f.push(Qs(N,W===0||W===l,t)),j+=1};for(c=0;c!==n;){let N=c;for(;c!==n&&e[c][0]===sn;)c+=1;if(N!==c)if(N===0){c>i&&(N=c-i,S=N,x=N,$=S,j=x);for(let W=N;W!==c;W+=1)z(e[W][1])}else if(c===n){const W=c-N>i?N+i:c;for(let J=N;J!==W;J+=1)z(e[J][1])}else{const W=c-N;if(W>r){const J=N+i;for(let U=N;U!==J;U+=1)z(e[U][1]);f[y]=Xr(S,$,x,j,t),y=f.length,f.push("");const D=W-r;S=$+D,x=j+D,$=S,j=x;for(let U=c-i;U!==c;U+=1)z(e[U][1])}else for(let J=N;J!==c;J+=1)z(e[J][1])}for(;c!==n&&e[c][0]===Et;)k(e[c][1]),c+=1;for(;c!==n&&e[c][0]===xt;)q(e[c][1]),c+=1}return u&&(f[y]=Xr(S,$,x,j,t)),f.join(`
`)}function Hc(e,t){return e.map((n,i,r)=>{const s=n[1],o=i===0||i===r.length-1;switch(n[0]){case Et:return Xs(s,o,t);case xt:return Qs(s,o,t);default:return Zs(s,o,t)}}).join(`
`)}const Qr=e=>e,ei=5;function Xc(){const e=wr();return{aAnnotation:"Expected",aColor:e.green,aIndicator:"-",bAnnotation:"Received",bColor:e.red,bIndicator:"+",changeColor:e.inverse,changeLineTrailingSpaceColor:Qr,commonColor:e.dim,commonIndicator:" ",commonLineTrailingSpaceColor:Qr,compareKeys:void 0,contextLines:ei,emptyFirstOrLastLinePlaceholder:"",expand:!0,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:e.yellow}}function Qc(e){return e&&typeof e=="function"?e:void 0}function Zc(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:ei}function Gt(e={}){return{...Xc(),...e,compareKeys:Qc(e.compareKeys),contextLines:Zc(e.contextLines)}}function mt(e){return e.length===1&&e[0].length===0}function eu(e){let t=0,n=0;return e.forEach(i=>{switch(i[0]){case Et:t+=1;break;case xt:n+=1;break}}),{a:t,b:n}}function tu({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:i,bColor:r,bIndicator:s,includeChangeCounts:o,omitAnnotationLines:a},c){if(a)return"";let u="",l="";if(o){const S=String(c.a),x=String(c.b),$=i.length-e.length,j=" ".repeat(Math.max(0,$)),z=" ".repeat(Math.max(0,-$)),k=x.length-S.length,q=" ".repeat(Math.max(0,k)),N=" ".repeat(Math.max(0,-k));u=`${j}  ${n} ${q}${S}`,l=`${z}  ${s} ${N}${x}`}const f=`${n} ${e}${u}`,y=`${s} ${i}${l}`;return`${t(f)}
${r(y)}

`}function ti(e,t){return tu(t,eu(e))+(t.expand?Hc(e,t):Yc(e,t))}function Sr(e,t,n){return ti(ni(mt(e)?[]:e,mt(t)?[]:t),Gt(n))}function nu(e,t,n,i,r){if(mt(e)&&mt(n)&&(e=[],n=[]),mt(t)&&mt(i)&&(t=[],i=[]),e.length!==n.length||t.length!==i.length)return Sr(e,t,r);const s=ni(n,i);let o=0,a=0;return s.forEach(c=>{switch(c[0]){case Et:c[1]=e[o],o+=1;break;case xt:c[1]=t[a],a+=1;break;default:c[1]=t[a],o+=1,a+=1}}),ti(s,Gt(r))}function ni(e,t){const n=e.length,i=t.length,r=(l,f)=>e[l]===t[f],s=[];let o=0,a=0;const c=(l,f,y)=>{for(;o!==f;o+=1)s.push(new It(Et,e[o]));for(;a!==y;a+=1)s.push(new It(xt,t[a]));for(;l!==0;l-=1,o+=1,a+=1)s.push(new It(sn,t[a]))};for((Kr.default||Kr)(n,i,r,c);o!==n;o+=1)s.push(new It(Et,e[o]));for(;a!==i;a+=1)s.push(new It(xt,t[a]));return s}function tr(e,t){const{commonColor:n}=Gt(t);return n(e)}const{AsymmetricMatcher:ru,DOMCollection:ou,DOMElement:su,Immutable:iu,ReactElement:au,ReactTestComponent:cu}=Mn,ri=[cu,au,su,ou,iu,ru],nr={plugins:ri},oi={callToJSON:!1,maxDepth:10,plugins:ri};function Ut(e,t,n){if(Object.is(e,t))return"";const i=Hr(e);let r=i,s=!1;if(i==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return null;r=e.getExpectedType(),s=r==="string"}if(r!==Hr(t)){const{aAnnotation:o,aColor:a,aIndicator:c,bAnnotation:u,bColor:l,bIndicator:f}=Gt(n),y=rr(oi,n),S=_e(e,y),x=_e(t,y),$=`${a(`${c} ${o}:`)} 
${S}`,j=`${l(`${f} ${u}:`)} 
${x}`;return`${$}

${j}`}if(s)return null;switch(i){case"string":return Sr(e.split(`
`),t.split(`
`),n);case"boolean":case"number":return uu(e,t,n);case"map":return Un(Zr(e),Zr(t),n);case"set":return Un(eo(e),eo(t),n);default:return Un(e,t,n)}}function uu(e,t,n){const i=_e(e,nr),r=_e(t,nr);return i===r?"":Sr(i.split(`
`),r.split(`
`),n)}function Zr(e){return new Map(Array.from(e.entries()).sort())}function eo(e){return new Set(Array.from(e.values()).sort())}function Un(e,t,n){let i,r=!1;try{const o=rr(nr,n);i=to(e,t,o,n)}catch{r=!0}const s=tr(Hs,n);if(i===void 0||i===s){const o=rr(oi,n);i=to(e,t,o,n),i!==s&&!r&&(i=`${tr(Gc,n)}

${i}`)}return i}function rr(e,t){const{compareKeys:n}=Gt(t);return{...e,compareKeys:n}}function to(e,t,n,i){const r={...n,indent:0},s=_e(e,r),o=_e(t,r);if(s===o)return tr(Hs,i);{const a=_e(e,n),c=_e(t,n);return nu(a.split(`
`),c.split(`
`),s.split(`
`),o.split(`
`),i)}}const lu="@@__IMMUTABLE_RECORD__@@",fu="@@__IMMUTABLE_ITERABLE__@@";function hu(e){return e&&(e[fu]||e[lu])}const pu=Object.getPrototypeOf({});function no(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function Rt(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(hu(e))return Rt(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element!="undefined"&&e instanceof Element)return e.tagName;if(typeof e.asymmetricMatch=="function")return`${e.toString()} ${Gs(e.sample)}`;if(t.has(e))return t.get(e);if(Array.isArray(e)){const n=new Array(e.length);return t.set(e,n),e.forEach((i,r)=>{try{n[r]=Rt(i,t)}catch(s){n[r]=no(s)}}),n}else{const n=Object.create(null);t.set(e,n);let i=e;for(;i&&i!==pu;)Object.getOwnPropertyNames(i).forEach(r=>{if(!(r in n))try{n[r]=Rt(e[r],t)}catch(s){delete n[r],n[r]=no(s)}}),i=Object.getPrototypeOf(i);return n}}function ro(e){return e.replace(/__vite_ssr_import_\d+__\./g,"")}function du(e){if(!e||typeof e!="object")return{message:e};e.stack&&(e.stackStr=String(e.stack)),e.name&&(e.nameStr=String(e.name)),(e.showDiff||e.showDiff===void 0&&e.expected!==void 0&&e.actual!==void 0)&&(e.diff=Ut(e.expected,e.actual)),typeof e.expected!="string"&&(e.expected=Ve(e.expected,10)),typeof e.actual!="string"&&(e.actual=Ve(e.actual,10));try{typeof e.message=="string"&&(e.message=ro(e.message)),typeof e.cause=="object"&&typeof e.cause.message=="string"&&(e.cause.message=ro(e.cause.message))}catch{}try{return Rt(e)}catch(t){return Rt(new Error(`Failed to fully serialize error: ${t==null?void 0:t.message}
Inner error message: ${e==null?void 0:e.message}`))}}function Er(e,t){function n(r){const s=function(...o){return t.apply(r,o)};Object.assign(s,t),s.withContext=()=>s.bind(r),s.setContext=(o,a)=>{r[o]=a},s.mergeContext=o=>{Object.assign(r,o)};for(const o of e)Object.defineProperty(s,o,{get(){return n({...r,[o]:!0})}});return s}const i=n({});return i.fn=t,i}function si(e){const t=[e.name];let n=e;for(;(n==null?void 0:n.suite)||(n==null?void 0:n.file);)n=n.suite||n.file,n!=null&&n.name&&t.unshift(n.name);return t}function ii(e=""){return!e||!e.includes("\\")?e:e.replace(/\\/g,"/")}const mu=/^[/\\]{2}/,yu=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ai=/^[A-Za-z]:$/,gu=function(e){if(e.length===0)return".";e=ii(e);const t=e.match(mu),n=or(e),i=e[e.length-1]==="/";return e=wu(e,!n),e.length===0?n?"/":i?"./":".":(i&&(e+="/"),ai.test(e)&&(e+="/"),t?n?`//${e}`:`//./${e}`:n&&!or(e)?`/${e}`:e)},bu=function(...e){if(e.length===0)return".";let t;for(const n of e)n&&n.length>0&&(t===void 0?t=n:t+=`/${n}`);return t===void 0?".":gu(t.replace(/\/\/+/g,"/"))};function wu(e,t){let n="",i=0,r=-1,s=0,o=null;for(let a=0;a<=e.length;++a){if(a<e.length)o=e[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||s===1))if(s===2){if(n.length<2||i!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const c=n.lastIndexOf("/");c===-1?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=a,s=0;continue}else if(n.length>0){n="",i=0,r=a,s=0;continue}}t&&(n+=n.length>0?"/..":"..",i=2)}else n.length>0?n+=`/${e.slice(r+1,a)}`:n=e.slice(r+1,a),i=a-r-1;r=a,s=0}else o==="."&&s!==-1?++s:s=-1}return n}const or=function(e){return yu.test(e)};const vu=function(e){const t=ii(e).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&ai.test(t[0])&&(t[0]+="/"),t.join("/")||(or(e)?"/":".")},Su=new WeakMap,ci=new WeakMap;function Eu(e,t){Su.set(e,t)}function xu(e,t){ci.set(e,t)}function Tu(e){return ci.get(e)}const Bt={tasks:[],currentSuite:null};function Ou(e){var t;(t=Bt.currentSuite)==null||t.tasks.push(e)}async function $u(e,t){const n=Bt.currentSuite;Bt.currentSuite=e,await t(),Bt.currentSuite=n}function Au(e,t,n=!1){if(t<=0||t===Number.POSITIVE_INFINITY)return e;const{setTimeout:i,clearTimeout:r}=Js();return(...s)=>Promise.race([e(...s),new Promise((o,a)=>{var c;const u=i(()=>{r(u),a(new Error(Pu(n,t)))},t);(c=u.unref)==null||c.call(u)})])}function Mu(e,t){var n;const i=function(){throw new Error("done() callback is deprecated, use promise instead")};return i.meta=e,i.task=e,i.onTestFailed=r=>{e.onFailed||(e.onFailed=[]),e.onFailed.push(r)},((n=t.extendTestContext)==null?void 0:n.call(t,i))||i}function Pu(e,t){return`${e?"Hook":"Test"} timed out in ${t}ms.
If this is a long-running ${e?"hook":"test"}, pass a timeout value as the last argument or configure it globally with "${e?"hookTimeout":"testTimeout"}".`}function Nu(e,t={}){const n=Object.entries(e).map(([i,r],s)=>({prop:i,value:r,index:s,isFn:typeof r=="function"}));return Array.isArray(t.fixtures)?t.fixtures=t.fixtures.concat(n):t.fixtures=n,n.forEach(i=>{if(i.isFn){const r=li(i.value);r.length&&(i.deps=t.fixtures.filter(({index:s,prop:o})=>s!==i.index&&r.includes(o)))}}),t}function Iu(e,t,n){if(!t.length)return()=>e(n);const i=li(e);if(!i.length)return()=>e(n);const r=t.filter(({prop:u})=>i.includes(u)),s=ui(r);let o=0;async function a(u){const{prop:l}=s[o++];n[l]=u,o<s.length?await c():await e(n)}async function c(){const{value:u}=s[o];typeof u=="function"?await u(n,a):await a(u)}return()=>c()}function ui(e,t=new Set,n=[]){return e.forEach(i=>{if(!n.includes(i)){if(!i.isFn||!i.deps){n.push(i);return}if(t.has(i))throw new Error("circular fixture dependency");t.add(i),ui(i.deps,t,n),n.push(i),t.clear()}}),n}function li(e){const t=e.toString().match(/[^(]*\(([^)]*)/);if(!t)return[];const n=oo(t[1]);if(!n.length)return[];const i=n[0];if(!(i.startsWith("{")&&i.endsWith("}")))throw new Error("the first argument must use object destructuring pattern");const r=i.slice(1,-1).replace(/\s/g,""),s=oo(r).map(a=>a.replace(/\:.*|\=.*/g,"")),o=s.at(-1);if(o&&o.startsWith("..."))throw new Error("Rest parameters are not supported");return s}function oo(e){const t=[],n=[];let i=0;for(let s=0;s<e.length;s++)if(e[s]==="{"||e[s]==="[")n.push(e[s]==="{"?"}":"]");else if(e[s]===n[n.length-1])n.pop();else if(!n.length&&e[s]===","){const o=e.substring(i,s).trim();o&&t.push(o),i=s+1}const r=e.substring(i).trim();return r&&t.push(r),t}const Dt=Du(),yt=xr(function(e,t,n){Pn().test.fn.call(this,Tt(e),t,n)}),ku=Dt;let tn,ju;function Pn(){return Bt.currentSuite||ju}function Cu(){return{beforeAll:[],afterAll:[],beforeEach:[],afterEach:[]}}function _u(e,t=()=>{},n,i,r,s,o,a){const c=[],u=[];let l;$();const f=xr(function(k,q=hs,N){var U,te;const W=this.only?"only":this.skip?"skip":this.todo?"todo":"run";typeof N=="number"&&(N={timeout:N}),typeof a=="object"&&(N=Object.assign({},a,N));const J={id:"",type:"test",name:Tt(k),each:this.each,mode:W,suite:void 0,fails:this.fails,retry:(U=N==null?void 0:N.retry)!=null?U:tn.config.retry,repeats:N==null?void 0:N.repeats,meta:Object.create(null)};(this.concurrent||!r&&(i||tn.config.sequence.concurrent))&&(J.concurrent=!0),s&&(J.shuffle=!0);const D=Mu(J,tn);Object.defineProperty(J,"context",{value:D,enumerable:!1}),Eu(J,Au(this.fixtures?Iu(q,this.fixtures,D):()=>q(D),(te=N==null?void 0:N.timeout)!=null?te:tn.config.testTimeout)),c.push(J)}),S={type:"collector",name:e,mode:n,options:a,test:f,tasks:c,collect:z,custom:function(k=""){const q=this||{},N={id:"",name:k,type:"custom",mode:q.only?"only":q.skip?"skip":q.todo?"todo":"run",meta:Object.create(null)};return c.push(N),N},clear:j,on:x};function x(k,...q){Tu(l)[k].push(...q)}function $(){typeof a=="number"&&(a={timeout:a}),l={id:"",type:"suite",name:e,mode:n,each:o,shuffle:s,tasks:[],meta:Object.create(null)},xu(l,Cu())}function j(){c.length=0,u.length=0,$()}async function z(k){u.length=0,t&&await $u(S,()=>t(f));const q=[];for(const N of[...u,...c])q.push(N.type==="collector"?await N.collect(k):N);return l.file=k,l.tasks=q,q.forEach(N=>{N.suite=l,k&&(N.file=k)}),l}return Ou(S),S}function Du(){function e(t,n,i){const r=this.only?"only":this.skip?"skip":this.todo?"todo":"run",s=Pn();return typeof i=="number"&&(i={timeout:i}),s!=null&&s.options&&(i={...s.options,...i}),_u(Tt(t),n,r,this.concurrent,this.sequence,this.shuffle,this.each,i)}return e.each=function(t,...n){const i=this.withContext();return this.setContext("each",!0),Array.isArray(t)&&n.length&&(t=fi(t,n)),(r,s,o)=>{const a=Tt(r),c=t.every(Array.isArray);t.forEach((u,l)=>{const f=Array.isArray(u)?u:[u];c?i(pn(a,f,l),()=>s(...f),o):i(pn(a,f,l),()=>s(u),o)}),this.setContext("each",void 0)}},e.skipIf=t=>t?Dt.skip:Dt,e.runIf=t=>t?Dt:Dt.skip,Er(["concurrent","sequential","shuffle","skip","only","todo"],e)}function xr(e,t){const n=e;n.each=function(r,...s){const o=this.withContext();return this.setContext("each",!0),Array.isArray(r)&&s.length&&(r=fi(r,s)),(a,c,u)=>{const l=Tt(a),f=r.every(Array.isArray);r.forEach((y,S)=>{const x=Array.isArray(y)?y:[y];f?o(pn(l,x,S),()=>c(...x),u):o(pn(l,x,S),()=>c(y),u)}),this.setContext("each",void 0)}},n.skipIf=r=>r?yt.skip:yt,n.runIf=r=>r?yt:yt.skip,n.extend=function(r){const s=Nu(r,t);return xr(function(o,a,c){Pn().test.fn.call(this,Tt(o),a,c)},s)};const i=Er(["concurrent","skip","only","todo","fails"],n);return t&&i.mergeContext(t),i}function Tt(e){return typeof e=="string"?e:e instanceof Function?e.name||"<anonymous>":String(e)}function pn(e,t,n){e.includes("%#")&&(e=e.replace(/%%/g,"__vitest_escaped_%__").replace(/%#/g,`${n}`).replace(/__vitest_escaped_%__/g,"%%"));const i=e.split("%").length-1;let r=Gs(e,...t.slice(0,i));return fs(t[0])&&(r=r.replace(/\$([$\w_.]+)/g,(s,o)=>{var a,c;return Fc(aa(t[0],o),{truncate:(c=(a=void 0)==null?void 0:a.chaiConfig)==null?void 0:c.truncateThreshold})})),r}function fi(e,t){const n=e.join("").trim().replace(/ /g,"").split(`
`).map(r=>r.split("|"))[0],i=[];for(let r=0;r<Math.floor(t.length/n.length);r++){const s={};for(let o=0;o<n.length;o++)s[n[o]]=t[r*n.length+o];i.push(s)}return i}let Fu;function Ru(){return Fu}function Ge(){return globalThis.__vitest_worker__}function Bu(){const e=Ge();return e==null?void 0:e.environment.name}var so;const Lu=typeof process<"u"&&typeof process.stdout<"u"&&!((so=process.versions)!=null&&so.deno)&&!globalThis.window;Lu&&process.platform;function qu(){return Ge().config.mode}function zu(){return qu()==="benchmark"}var rt={};/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 *//*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */function hi(){var e=[].slice.call(arguments);function t(n,i){Object.keys(i).forEach(function(r){~e.indexOf(r)||(n[r]=i[r])})}return function(){for(var i=[].slice.call(arguments),r=0,s={};r<i.length;r++)t(s,i[r]);return s}}/*!
 * Primary Exports
 */var pi=at;function at(e,t,n){var i=hi("name","message","stack","constructor","toJSON"),r=i(t||{});this.message=e||"Unspecified AssertionError",this.showDiff=!1;for(var s in r)this[s]=r[s];if(n=n||at,Error.captureStackTrace)Error.captureStackTrace(this,n);else try{throw new Error}catch(o){this.stack=o.stack}}/*!
 * Inherit from Error.prototype
 */at.prototype=Object.create(Error.prototype);/*!
 * Statically set name
 */at.prototype.name="AssertionError";/*!
 * Ensure correct constructor
 */at.prototype.constructor=at;at.prototype.toJSON=function(e){var t=hi("constructor","toJSON","stack"),n=t({name:this.name},this);return e!==!1&&this.stack&&(n.stack=this.stack),n};var ae={};function di(e,t){return typeof e=="undefined"||e===null?!1:t in Object(e)}function mi(e){var t=e.replace(/([^\\])\[/g,"$1.["),n=t.match(/(\\\.|[^.]+?)+/g);return n.map(function(r){if(r==="constructor"||r==="__proto__"||r==="prototype")return{};var s=/^\[(\d+)\]$/,o=s.exec(r),a=null;return o?a={i:parseFloat(o[1])}:a={p:r.replace(/\\([.[\]])/g,"$1")},a})}function io(e,t,n){var i=e,r=null;n=typeof n=="undefined"?t.length:n;for(var s=0;s<n;s++){var o=t[s];i&&(typeof o.p=="undefined"?i=i[o.i]:i=i[o.p],s===n-1&&(r=i))}return r}function Wu(e,t,n){for(var i=e,r=n.length,s=null,o=0;o<r;o++){var a=null,c=null;if(s=n[o],o===r-1)a=typeof s.p=="undefined"?s.i:s.p,i[a]=t;else if(typeof s.p!="undefined"&&i[s.p])i=i[s.p];else if(typeof s.i!="undefined"&&i[s.i])i=i[s.i];else{var u=n[o+1];a=typeof s.p=="undefined"?s.i:s.p,c=typeof u.p=="undefined"?[]:{},i[a]=c,i=i[a]}}}function yi(e,t){var n=mi(t),i=n[n.length-1],r={parent:n.length>1?io(e,n,n.length-1):e,name:i.p||i.i,value:io(e,n)};return r.exists=di(r.parent,r.name),r}function Vu(e,t){var n=yi(e,t);return n.value}function Uu(e,t,n){var i=mi(t);return Wu(e,n,i),e}var Ku={hasProperty:di,getPathInfo:yi,getPathValue:Vu,setPathValue:Uu};/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var De=function(t,n,i){var r=t.__flags||(t.__flags=Object.create(null));if(arguments.length===3)r[n]=i;else return r[n]};/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Module dependencies
 */var Gu=De,Ju=function(t,n){var i=Gu(t,"negate"),r=n[0];return i?!r:r},Jt={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Zn,function(){var n=typeof Promise=="function",i=typeof self=="object"?self:Zn,r=typeof Symbol!="undefined",s=typeof Map!="undefined",o=typeof Set!="undefined",a=typeof WeakMap!="undefined",c=typeof WeakSet!="undefined",u=typeof DataView!="undefined",l=r&&typeof Symbol.iterator!="undefined",f=r&&typeof Symbol.toStringTag!="undefined",y=o&&typeof Set.prototype.entries=="function",S=s&&typeof Map.prototype.entries=="function",x=y&&Object.getPrototypeOf(new Set().entries()),$=S&&Object.getPrototypeOf(new Map().entries()),j=l&&typeof Array.prototype[Symbol.iterator]=="function",z=j&&Object.getPrototypeOf([][Symbol.iterator]()),k=l&&typeof String.prototype[Symbol.iterator]=="function",q=k&&Object.getPrototypeOf(""[Symbol.iterator]()),N=8,W=-1;function J(D){var U=typeof D;if(U!=="object")return U;if(D===null)return"null";if(D===i)return"global";if(Array.isArray(D)&&(f===!1||!(Symbol.toStringTag in D)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&D===window.location)return"Location";if(typeof window.document=="object"&&D===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&D===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&D===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&D instanceof window.HTMLElement){if(D.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(D.tagName==="TD")return"HTMLTableDataCellElement";if(D.tagName==="TH")return"HTMLTableHeaderCellElement"}}var te=f&&D[Symbol.toStringTag];if(typeof te=="string")return te;var G=Object.getPrototypeOf(D);return G===RegExp.prototype?"RegExp":G===Date.prototype?"Date":n&&G===Promise.prototype?"Promise":o&&G===Set.prototype?"Set":s&&G===Map.prototype?"Map":c&&G===WeakSet.prototype?"WeakSet":a&&G===WeakMap.prototype?"WeakMap":u&&G===DataView.prototype?"DataView":s&&G===$?"Map Iterator":o&&G===x?"Set Iterator":j&&G===z?"Array Iterator":k&&G===q?"String Iterator":G===null?"Object":Object.prototype.toString.call(D).slice(N,W)}return J})})(Jt);/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var Yu=pi,Kn=De,Hu=Jt.exports,Xu=function(t,n){var i=Kn(t,"message"),r=Kn(t,"ssfi");i=i?i+": ":"",t=Kn(t,"object"),n=n.map(function(a){return a.toLowerCase()}),n.sort();var s=n.map(function(a,c){var u=~["a","e","i","o","u"].indexOf(a.charAt(0))?"an":"a",l=n.length>1&&c===n.length-1?"or ":"";return l+u+" "+a}).join(", "),o=Hu(t).toLowerCase();if(!n.some(function(a){return o===a}))throw new Yu(i+"object tested must be "+s+", but "+o+" given",void 0,r)};/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var gi=function(t,n){return n.length>4?n[4]:t._obj},Qu=Function.prototype.toString,Zu=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;function el(e){if(typeof e!="function")return null;var t="";if(typeof Function.prototype.name=="undefined"&&typeof e.name=="undefined"){var n=Qu.call(e).match(Zu);n&&(t=n[1])}else t=e.name;return t}var tl=el,At={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"]},nl=hn.exports,ao=At,Tr=rl;function rl(e,t,n,i){var r={colors:i,depth:typeof n=="undefined"?2:n,showHidden:t,truncate:ao.truncateThreshold?ao.truncateThreshold:1/0};return nl.inspect(e,r)}/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Module dependencies
 */var ol=Tr,co=At,bi=function(t){var n=ol(t),i=Object.prototype.toString.call(t);if(co.truncateThreshold&&n.length>=co.truncateThreshold){if(i==="[object Function]")return!t.name||t.name===""?"[Function]":"[Function: "+t.name+"]";if(i==="[object Array]")return"[ Array("+t.length+") ]";if(i==="[object Object]"){var r=Object.keys(t),s=r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", ");return"{ Object ("+s+") }"}else return n}else return n};/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Module dependencies
 */var Gn=De,sl=gi,Jn=bi,il=function(t,n){var i=Gn(t,"negate"),r=Gn(t,"object"),s=n[3],o=sl(t,n),a=i?n[2]:n[1],c=Gn(t,"message");return typeof a=="function"&&(a=a()),a=a||"",a=a.replace(/#\{this\}/g,function(){return Jn(r)}).replace(/#\{act\}/g,function(){return Jn(o)}).replace(/#\{exp\}/g,function(){return Jn(s)}),c?c+": "+a:a};/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var ut=function(t,n,i){var r=t.__flags||(t.__flags=Object.create(null));n.__flags||(n.__flags=Object.create(null)),i=arguments.length===3?i:!0;for(var s in r)(i||s!=="object"&&s!=="ssfi"&&s!=="lockSsfi"&&s!="message")&&(n.__flags[s]=r[s])},Or={exports:{}};/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var uo=Jt.exports;function wi(){this._key="chai/deep-eql__"+Math.random()+Date.now()}wi.prototype={get:function(t){return t[this._key]},set:function(t,n){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:n,configurable:!0})}};var $r=typeof WeakMap=="function"?WeakMap:wi;/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function lo(e,t,n){if(!n||Ot(e)||Ot(t))return null;var i=n.get(e);if(i){var r=i.get(t);if(typeof r=="boolean")return r}return null}/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function nn(e,t,n,i){if(!(!n||Ot(e)||Ot(t))){var r=n.get(e);r?r.set(t,i):(r=new $r,r.set(t,i),n.set(e,r))}}/*!
 * Primary Export
 */Or.exports=Nn;Or.exports.MemoizeMap=$r;function Nn(e,t,n){if(n&&n.comparator)return fo(e,t,n);var i=vi(e,t);return i!==null?i:fo(e,t,n)}function vi(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t?!0:Ot(e)||Ot(t)?!1:null}/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function fo(e,t,n){n=n||{},n.memoize=n.memoize===!1?!1:n.memoize||new $r;var i=n&&n.comparator,r=lo(e,t,n.memoize);if(r!==null)return r;var s=lo(t,e,n.memoize);if(s!==null)return s;if(i){var o=i(e,t);if(o===!1||o===!0)return nn(e,t,n.memoize,o),o;var a=vi(e,t);if(a!==null)return a}var c=uo(e);if(c!==uo(t))return nn(e,t,n.memoize,!1),!1;nn(e,t,n.memoize,!0);var u=al(e,t,c,n);return nn(e,t,n.memoize,u),u}function al(e,t,n,i){switch(n){case"String":case"Number":case"Boolean":case"Date":return Nn(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return Si(e,t,["name","message","code"],i);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return it(e,t,i);case"RegExp":return cl(e,t);case"Generator":return ul(e,t,i);case"DataView":return it(new Uint8Array(e.buffer),new Uint8Array(t.buffer),i);case"ArrayBuffer":return it(new Uint8Array(e),new Uint8Array(t),i);case"Set":return ho(e,t,i);case"Map":return ho(e,t,i);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return fl(e,t,i)}}/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */function cl(e,t){return e.toString()===t.toString()}/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function ho(e,t,n){if(e.size!==t.size)return!1;if(e.size===0)return!0;var i=[],r=[];return e.forEach(function(o,a){i.push([o,a])}),t.forEach(function(o,a){r.push([o,a])}),it(i.sort(),r.sort(),n)}/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function it(e,t,n){var i=e.length;if(i!==t.length)return!1;if(i===0)return!0;for(var r=-1;++r<i;)if(Nn(e[r],t[r],n)===!1)return!1;return!0}/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function ul(e,t,n){return it(sr(e),sr(t),n)}/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */function ll(e){return typeof Symbol!="undefined"&&typeof e=="object"&&typeof Symbol.iterator!="undefined"&&typeof e[Symbol.iterator]=="function"}/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */function po(e){if(ll(e))try{return sr(e[Symbol.iterator]())}catch{return[]}return[]}/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function sr(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function mo(e){var t=[];for(var n in e)t.push(n);return t}function yo(e){for(var t=[],n=Object.getOwnPropertySymbols(e),i=0;i<n.length;i+=1){var r=n[i];Object.getOwnPropertyDescriptor(e,r).enumerable&&t.push(r)}return t}/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function Si(e,t,n,i){var r=n.length;if(r===0)return!0;for(var s=0;s<r;s+=1)if(Nn(e[n[s]],t[n[s]],i)===!1)return!1;return!0}/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function fl(e,t,n){var i=mo(e),r=mo(t),s=yo(e),o=yo(t);if(i=i.concat(s),r=r.concat(o),i.length&&i.length===r.length)return it(go(i).sort(),go(r).sort())===!1?!1:Si(e,t,i,n);var a=po(e),c=po(t);return a.length&&a.length===c.length?(a.sort(),c.sort(),it(a,c,n)):i.length===0&&a.length===0&&r.length===0&&c.length===0}/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */function Ot(e){return e===null||typeof e!="object"}function go(e){return e.map(function(n){return typeof n=="symbol"?n.toString():n})}var hl=At;/*!
 * Chai - isProxyEnabled helper
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var In=function(){return hl.useProxy&&typeof Proxy!="undefined"&&typeof Reflect!="undefined"};/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var pl=rt,bo=De,dl=In,ml=ut,yl=function(t,n,i){i=i===void 0?function(){}:i,Object.defineProperty(t,n,{get:function r(){!dl()&&!bo(this,"lockSsfi")&&bo(this,"ssfi",r);var s=i.call(this);if(s!==void 0)return s;var o=new pl.Assertion;return ml(this,o),o},configurable:!0})},gl=Object.getOwnPropertyDescriptor(function(){},"length");/*!
 * Chai - addLengthGuard utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var kn=function(t,n,i){return gl.configurable&&Object.defineProperty(t,"length",{get:function(){throw Error(i?"Invalid Chai property: "+n+'.length. Due to a compatibility issue, "length" cannot directly follow "'+n+'". Use "'+n+'.lengthOf" instead.':"Invalid Chai property: "+n+'.length. See docs for proper usage of "'+n+'".')}}),t};/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var bl=function(t){var n=Object.getOwnPropertyNames(t);function i(s){n.indexOf(s)===-1&&n.push(s)}for(var r=Object.getPrototypeOf(t);r!==null;)Object.getOwnPropertyNames(r).forEach(i),r=Object.getPrototypeOf(r);return n},wl=At,wo=De,vl=bl,Sl=In;/*!
 * Chai - proxify utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var vo=["__flags","__methods","_obj","assert"],jn=function(t,n){return Sl()?new Proxy(t,{get:function i(r,s){if(typeof s=="string"&&wl.proxyExcludedKeys.indexOf(s)===-1&&!Reflect.has(r,s)){if(n)throw Error("Invalid Chai property: "+n+"."+s+'. See docs for proper usage of "'+n+'".');var o=null,a=4;throw vl(r).forEach(function(c){if(!Object.prototype.hasOwnProperty(c)&&vo.indexOf(c)===-1){var u=El(s,c,a);u<a&&(o=c,a=u)}}),Error(o!==null?"Invalid Chai property: "+s+'. Did you mean "'+o+'"?':"Invalid Chai property: "+s)}return vo.indexOf(s)===-1&&!wo(r,"lockSsfi")&&wo(r,"ssfi",i),Reflect.get(r,s)}}):t};function El(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;for(var i=[],r=0;r<=e.length;r++)i[r]=Array(t.length+1).fill(0),i[r][0]=r;for(var s=0;s<t.length;s++)i[0][s]=s;for(var r=1;r<=e.length;r++)for(var o=e.charCodeAt(r-1),s=1;s<=t.length;s++){if(Math.abs(r-s)>=n){i[r][s]=n;continue}i[r][s]=Math.min(i[r-1][s]+1,i[r][s-1]+1,i[r-1][s-1]+(o===t.charCodeAt(s-1)?0:1))}return i[e.length][t.length]}/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var xl=kn,Tl=rt,So=De,Ol=jn,$l=ut,Al=function(t,n,i){var r=function(){So(this,"lockSsfi")||So(this,"ssfi",r);var s=i.apply(this,arguments);if(s!==void 0)return s;var o=new Tl.Assertion;return $l(this,o),o};xl(r,n,!1),t[n]=Ol(r,n)};/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var Ml=rt,kt=De,Pl=In,Nl=ut,Il=function(t,n,i){var r=Object.getOwnPropertyDescriptor(t,n),s=function(){};r&&typeof r.get=="function"&&(s=r.get),Object.defineProperty(t,n,{get:function o(){!Pl()&&!kt(this,"lockSsfi")&&kt(this,"ssfi",o);var a=kt(this,"lockSsfi");kt(this,"lockSsfi",!0);var c=i(s).call(this);if(kt(this,"lockSsfi",a),c!==void 0)return c;var u=new Ml.Assertion;return Nl(this,u),u},configurable:!0})};/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var kl=kn,jl=rt,jt=De,Cl=jn,_l=ut,Dl=function(t,n,i){var r=t[n],s=function(){throw new Error(n+" is not a function")};r&&typeof r=="function"&&(s=r);var o=function(){jt(this,"lockSsfi")||jt(this,"ssfi",o);var a=jt(this,"lockSsfi");jt(this,"lockSsfi",!0);var c=i(s).apply(this,arguments);if(jt(this,"lockSsfi",a),c!==void 0)return c;var u=new jl.Assertion;return _l(this,u),u};kl(o,n,!1),t[n]=Cl(o,n)};/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Module dependencies
 */var Fl=kn,Rl=rt,Eo=De,Bl=jn,xo=ut;/*!
 * Module variables
 */var Ll=typeof Object.setPrototypeOf=="function",To=function(){},ql=Object.getOwnPropertyNames(To).filter(function(e){var t=Object.getOwnPropertyDescriptor(To,e);return typeof t!="object"?!0:!t.configurable}),zl=Function.prototype.call,Wl=Function.prototype.apply,Vl=function(t,n,i,r){typeof r!="function"&&(r=function(){});var s={method:i,chainingBehavior:r};t.__methods||(t.__methods={}),t.__methods[n]=s,Object.defineProperty(t,n,{get:function(){s.chainingBehavior.call(this);var a=function(){Eo(this,"lockSsfi")||Eo(this,"ssfi",a);var l=s.method.apply(this,arguments);if(l!==void 0)return l;var f=new Rl.Assertion;return xo(this,f),f};if(Fl(a,n,!0),Ll){var c=Object.create(this);c.call=zl,c.apply=Wl,Object.setPrototypeOf(a,c)}else{var u=Object.getOwnPropertyNames(t);u.forEach(function(l){if(ql.indexOf(l)===-1){var f=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(a,l,f)}})}return xo(this,a),Bl(a)},configurable:!0})};/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var Oo=rt,$o=ut,Ul=function(t,n,i,r){var s=t.__methods[n],o=s.chainingBehavior;s.chainingBehavior=function(){var u=r(o).call(this);if(u!==void 0)return u;var l=new Oo.Assertion;return $o(this,l),l};var a=s.method;s.method=function(){var u=i(a).apply(this,arguments);if(u!==void 0)return u;var l=new Oo.Assertion;return $o(this,l),l}};/*!
 * Chai - compareByInspect utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Module dependencies
 */var Ao=Tr,Kl=function(t,n){return Ao(t)<Ao(n)?-1:1};/*!
 * Chai - getOwnEnumerablePropertySymbols utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var Ei=function(t){return typeof Object.getOwnPropertySymbols!="function"?[]:Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})};/*!
 * Chai - getOwnEnumerableProperties utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Module dependencies
 */var Gl=Ei,Jl=function(t){return Object.keys(t).concat(Gl(t))};function Yl(e,t){return t instanceof Error&&e===t}function Hl(e,t){return t instanceof Error?e.constructor===t.constructor||e instanceof t.constructor:t.prototype instanceof Error||t===Error?e.constructor===t||e instanceof t:!1}function Xl(e,t){var n=typeof e=="string"?e:e.message;return t instanceof RegExp?t.test(n):typeof t=="string"?n.indexOf(t)!==-1:!1}var Ql=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;function Yn(e){var t="";if(typeof e.name=="undefined"){var n=String(e).match(Ql);n&&(t=n[1])}else t=e.name;return t}function Zl(e){var t=e;return e instanceof Error?t=Yn(e.constructor):typeof e=="function"&&(t=Yn(e).trim()||Yn(new e)),t}function ef(e){var t="";return e&&e.message?t=e.message:typeof e=="string"&&(t=e),t}var tf={compatibleInstance:Yl,compatibleConstructor:Hl,compatibleMessage:Xl,getMessage:ef,getConstructorName:Zl};/*!
 * Chai - isNaN utility
 * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
 * MIT Licensed
 */function nf(e){return e!==e}var rf=Number.isNaN||nf,of=Jt.exports,Mo=De;function sf(e){var t=of(e),n=["Array","Object","function"];return n.indexOf(t)!==-1}var af=function(t,n){var i=Mo(t,"operator"),r=Mo(t,"negate"),s=n[3],o=r?n[2]:n[1];if(i)return i;if(typeof o=="function"&&(o=o()),o=o||"",!!o&&!/\shave\s/.test(o)){var a=sf(s);return/\snot\s/.test(o)?a?"notDeepStrictEqual":"notStrictEqual":a?"deepStrictEqual":"strictEqual"}};/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *//*!
 * Dependencies that are used for multiple exports are required here only once
 */var xi=Ku;/*!
 * test utility
 */ae.test=Ju;/*!
 * type utility
 */ae.type=Jt.exports;/*!
 * expectTypes utility
 */ae.expectTypes=Xu;/*!
 * message utility
 */ae.getMessage=il;/*!
 * actual utility
 */ae.getActual=gi;/*!
 * Inspect util
 */ae.inspect=Tr;/*!
 * Object Display util
 */ae.objDisplay=bi;/*!
 * Flag utility
 */ae.flag=De;/*!
 * Flag transferring utility
 */ae.transferFlags=ut;/*!
 * Deep equal utility
 */ae.eql=Or.exports;/*!
 * Deep path info
 */ae.getPathInfo=xi.getPathInfo;/*!
 * Check if a property exists
 */ae.hasProperty=xi.hasProperty;/*!
 * Function name
 */ae.getName=tl;/*!
 * add Property
 */ae.addProperty=yl;/*!
 * add Method
 */ae.addMethod=Al;/*!
 * overwrite Property
 */ae.overwriteProperty=Il;/*!
 * overwrite Method
 */ae.overwriteMethod=Dl;/*!
 * Add a chainable method
 */ae.addChainableMethod=Vl;/*!
 * Overwrite chainable method
 */ae.overwriteChainableMethod=Ul;/*!
 * Compare by inspect method
 */ae.compareByInspect=Kl;/*!
 * Get own enumerable property symbols method
 */ae.getOwnEnumerablePropertySymbols=Ei;/*!
 * Get own enumerable properties method
 */ae.getOwnEnumerableProperties=Jl;/*!
 * Checks error against a given set of criteria
 */ae.checkError=tf;/*!
 * Proxify util
 */ae.proxify=jn;/*!
 * addLengthGuard util
 */ae.addLengthGuard=kn;/*!
 * isProxyEnabled helper
 */ae.isProxyEnabled=In;/*!
 * isNaN method
 */ae.isNaN=rf;/*!
 * getOperator method
 */ae.getOperator=af;/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var pt=At,cf=function(e,t){/*!
 * Module dependencies.
 */var n=e.AssertionError,i=t.flag;/*!
 * Module export.
 */e.Assertion=r;/*!
 * Assertion Constructor
 *
 * Creates object for chaining.
 *
 * `Assertion` objects contain metadata in the form of flags. Three flags can
 * be assigned during instantiation by passing arguments to this constructor:
 *
 * - `object`: This flag contains the target of the assertion. For example, in
 *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will
 *   contain `numKittens` so that the `equal` assertion can reference it when
 *   needed.
 *
 * - `message`: This flag contains an optional custom error message to be
 *   prepended to the error message that's generated by the assertion when it
 *   fails.
 *
 * - `ssfi`: This flag stands for "start stack function indicator". It
 *   contains a function reference that serves as the starting point for
 *   removing frames from the stack trace of the error that's created by the
 *   assertion when it fails. The goal is to provide a cleaner stack trace to
 *   end users by removing Chai's internal functions. Note that it only works
 *   in environments that support `Error.captureStackTrace`, and only when
 *   `Chai.config.includeStack` hasn't been set to `false`.
 *
 * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag
 *   should retain its current value, even as assertions are chained off of
 *   this object. This is usually set to `true` when creating a new assertion
 *   from within another assertion. It's also temporarily set to `true` before
 *   an overwritten assertion gets called by the overwriting assertion.
 *
 * @param {Mixed} obj target of the assertion
 * @param {String} msg (optional) custom error message
 * @param {Function} ssfi (optional) starting point for removing stack frames
 * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked
 * @api private
 */function r(s,o,a,c){return i(this,"ssfi",a||r),i(this,"lockSsfi",c),i(this,"object",s),i(this,"message",o),t.proxify(this)}Object.defineProperty(r,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),pt.includeStack},set:function(s){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),pt.includeStack=s}}),Object.defineProperty(r,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),pt.showDiff},set:function(s){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),pt.showDiff=s}}),r.addProperty=function(s,o){t.addProperty(this.prototype,s,o)},r.addMethod=function(s,o){t.addMethod(this.prototype,s,o)},r.addChainableMethod=function(s,o,a){t.addChainableMethod(this.prototype,s,o,a)},r.overwriteProperty=function(s,o){t.overwriteProperty(this.prototype,s,o)},r.overwriteMethod=function(s,o){t.overwriteMethod(this.prototype,s,o)},r.overwriteChainableMethod=function(s,o,a){t.overwriteChainableMethod(this.prototype,s,o,a)},r.prototype.assert=function(s,o,a,c,u,l){var f=t.test(this,arguments);if(l!==!1&&(l=!0),c===void 0&&u===void 0&&(l=!1),pt.showDiff!==!0&&(l=!1),!f){o=t.getMessage(this,arguments);var y=t.getActual(this,arguments),S={actual:y,expected:c,showDiff:l},x=t.getOperator(this,arguments);throw x&&(S.operator=x),new n(o,S,pt.includeStack?this.assert:i(this,"ssfi"))}};/*!
 * ### ._obj
 *
 * Quick reference to stored `actual` value for plugin developers.
 *
 * @api private
 */Object.defineProperty(r.prototype,"_obj",{get:function(){return i(this,"object")},set:function(s){i(this,"object",s)}})};/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var uf=function(e,t){var n=e.Assertion,i=e.AssertionError,r=t.flag;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(p){n.addProperty(p)}),n.addProperty("not",function(){r(this,"negate",!0)}),n.addProperty("deep",function(){r(this,"deep",!0)}),n.addProperty("nested",function(){r(this,"nested",!0)}),n.addProperty("own",function(){r(this,"own",!0)}),n.addProperty("ordered",function(){r(this,"ordered",!0)}),n.addProperty("any",function(){r(this,"any",!0),r(this,"all",!1)}),n.addProperty("all",function(){r(this,"all",!0),r(this,"any",!1)});function s(p,w){w&&r(this,"message",w),p=p.toLowerCase();var T=r(this,"object"),O=~["a","e","i","o","u"].indexOf(p.charAt(0))?"an ":"a ";this.assert(p===t.type(T).toLowerCase(),"expected #{this} to be "+O+p,"expected #{this} not to be "+O+p)}n.addChainableMethod("an",s),n.addChainableMethod("a",s);function o(p,w){return t.isNaN(p)&&t.isNaN(w)||p===w}function a(){r(this,"contains",!0)}function c(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=t.type(T).toLowerCase(),P=r(this,"message"),C=r(this,"negate"),A=r(this,"ssfi"),v=r(this,"deep"),F=v?"deep ":"";P=P?P+": ":"";var L=!1;switch(O){case"string":L=T.indexOf(p)!==-1;break;case"weakset":if(v)throw new i(P+"unable to use .deep.include with WeakSet",void 0,A);L=T.has(p);break;case"map":var X=v?t.eql:o;T.forEach(function(oe){L=L||X(oe,p)});break;case"set":v?T.forEach(function(oe){L=L||t.eql(oe,p)}):L=T.has(p);break;case"array":v?L=T.some(function(oe){return t.eql(oe,p)}):L=T.indexOf(p)!==-1;break;default:if(p!==Object(p))throw new i(P+"the given combination of arguments ("+O+" and "+t.type(p).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+t.type(p).toLowerCase(),void 0,A);var ne=Object.keys(p),Q=null,K=0;if(ne.forEach(function(oe){var he=new n(T);if(t.transferFlags(this,he,!0),r(he,"lockSsfi",!0),!C||ne.length===1){he.property(oe,p[oe]);return}try{he.property(oe,p[oe])}catch(ye){if(!t.checkError.compatibleConstructor(ye,i))throw ye;Q===null&&(Q=ye),K++}},this),C&&ne.length>1&&K===ne.length)throw Q;return}this.assert(L,"expected #{this} to "+F+"include "+t.inspect(p),"expected #{this} to not "+F+"include "+t.inspect(p))}n.addChainableMethod("include",c,a),n.addChainableMethod("contain",c,a),n.addChainableMethod("contains",c,a),n.addChainableMethod("includes",c,a),n.addProperty("ok",function(){this.assert(r(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),n.addProperty("true",function(){this.assert(r(this,"object")===!0,"expected #{this} to be true","expected #{this} to be false",!r(this,"negate"))}),n.addProperty("false",function(){this.assert(r(this,"object")===!1,"expected #{this} to be false","expected #{this} to be true",!!r(this,"negate"))}),n.addProperty("null",function(){this.assert(r(this,"object")===null,"expected #{this} to be null","expected #{this} not to be null")}),n.addProperty("undefined",function(){this.assert(r(this,"object")===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined")}),n.addProperty("NaN",function(){this.assert(t.isNaN(r(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")});function u(){var p=r(this,"object");this.assert(p!=null,"expected #{this} to exist","expected #{this} to not exist")}n.addProperty("exist",u),n.addProperty("exists",u),n.addProperty("empty",function(){var p=r(this,"object"),w=r(this,"ssfi"),T=r(this,"message"),O;switch(T=T?T+": ":"",t.type(p).toLowerCase()){case"array":case"string":O=p.length;break;case"map":case"set":O=p.size;break;case"weakmap":case"weakset":throw new i(T+".empty was passed a weak collection",void 0,w);case"function":var P=T+".empty was passed a function "+t.getName(p);throw new i(P.trim(),void 0,w);default:if(p!==Object(p))throw new i(T+".empty was passed non-string primitive "+t.inspect(p),void 0,w);O=Object.keys(p).length}this.assert(O===0,"expected #{this} to be empty","expected #{this} not to be empty")});function l(){var p=r(this,"object"),w=t.type(p);this.assert(w==="Arguments","expected #{this} to be arguments but got "+w,"expected #{this} to not be arguments")}n.addProperty("arguments",l),n.addProperty("Arguments",l);function f(p,w){w&&r(this,"message",w);var T=r(this,"object");if(r(this,"deep")){var O=r(this,"lockSsfi");r(this,"lockSsfi",!0),this.eql(p),r(this,"lockSsfi",O)}else this.assert(p===T,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",p,this._obj,!0)}n.addMethod("equal",f),n.addMethod("equals",f),n.addMethod("eq",f);function y(p,w){w&&r(this,"message",w),this.assert(t.eql(p,r(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",p,this._obj,!0)}n.addMethod("eql",y),n.addMethod("eqls",y);function S(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"doLength"),P=r(this,"message"),C=P?P+": ":"",A=r(this,"ssfi"),v=t.type(T).toLowerCase(),F=t.type(p).toLowerCase(),L,X=!0;if(O&&v!=="map"&&v!=="set"&&new n(T,P,A,!0).to.have.property("length"),!O&&v==="date"&&F!=="date")L=C+"the argument to above must be a date";else if(F!=="number"&&(O||v==="number"))L=C+"the argument to above must be a number";else if(!O&&v!=="date"&&v!=="number"){var ne=v==="string"?"'"+T+"'":T;L=C+"expected "+ne+" to be a number or a date"}else X=!1;if(X)throw new i(L,void 0,A);if(O){var Q="length",K;v==="map"||v==="set"?(Q="size",K=T.size):K=T.length,this.assert(K>p,"expected #{this} to have a "+Q+" above #{exp} but got #{act}","expected #{this} to not have a "+Q+" above #{exp}",p,K)}else this.assert(T>p,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",p)}n.addMethod("above",S),n.addMethod("gt",S),n.addMethod("greaterThan",S);function x(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"doLength"),P=r(this,"message"),C=P?P+": ":"",A=r(this,"ssfi"),v=t.type(T).toLowerCase(),F=t.type(p).toLowerCase(),L,X=!0;if(O&&v!=="map"&&v!=="set"&&new n(T,P,A,!0).to.have.property("length"),!O&&v==="date"&&F!=="date")L=C+"the argument to least must be a date";else if(F!=="number"&&(O||v==="number"))L=C+"the argument to least must be a number";else if(!O&&v!=="date"&&v!=="number"){var ne=v==="string"?"'"+T+"'":T;L=C+"expected "+ne+" to be a number or a date"}else X=!1;if(X)throw new i(L,void 0,A);if(O){var Q="length",K;v==="map"||v==="set"?(Q="size",K=T.size):K=T.length,this.assert(K>=p,"expected #{this} to have a "+Q+" at least #{exp} but got #{act}","expected #{this} to have a "+Q+" below #{exp}",p,K)}else this.assert(T>=p,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",p)}n.addMethod("least",x),n.addMethod("gte",x),n.addMethod("greaterThanOrEqual",x);function $(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"doLength"),P=r(this,"message"),C=P?P+": ":"",A=r(this,"ssfi"),v=t.type(T).toLowerCase(),F=t.type(p).toLowerCase(),L,X=!0;if(O&&v!=="map"&&v!=="set"&&new n(T,P,A,!0).to.have.property("length"),!O&&v==="date"&&F!=="date")L=C+"the argument to below must be a date";else if(F!=="number"&&(O||v==="number"))L=C+"the argument to below must be a number";else if(!O&&v!=="date"&&v!=="number"){var ne=v==="string"?"'"+T+"'":T;L=C+"expected "+ne+" to be a number or a date"}else X=!1;if(X)throw new i(L,void 0,A);if(O){var Q="length",K;v==="map"||v==="set"?(Q="size",K=T.size):K=T.length,this.assert(K<p,"expected #{this} to have a "+Q+" below #{exp} but got #{act}","expected #{this} to not have a "+Q+" below #{exp}",p,K)}else this.assert(T<p,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",p)}n.addMethod("below",$),n.addMethod("lt",$),n.addMethod("lessThan",$);function j(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"doLength"),P=r(this,"message"),C=P?P+": ":"",A=r(this,"ssfi"),v=t.type(T).toLowerCase(),F=t.type(p).toLowerCase(),L,X=!0;if(O&&v!=="map"&&v!=="set"&&new n(T,P,A,!0).to.have.property("length"),!O&&v==="date"&&F!=="date")L=C+"the argument to most must be a date";else if(F!=="number"&&(O||v==="number"))L=C+"the argument to most must be a number";else if(!O&&v!=="date"&&v!=="number"){var ne=v==="string"?"'"+T+"'":T;L=C+"expected "+ne+" to be a number or a date"}else X=!1;if(X)throw new i(L,void 0,A);if(O){var Q="length",K;v==="map"||v==="set"?(Q="size",K=T.size):K=T.length,this.assert(K<=p,"expected #{this} to have a "+Q+" at most #{exp} but got #{act}","expected #{this} to have a "+Q+" above #{exp}",p,K)}else this.assert(T<=p,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",p)}n.addMethod("most",j),n.addMethod("lte",j),n.addMethod("lessThanOrEqual",j),n.addMethod("within",function(p,w,T){T&&r(this,"message",T);var O=r(this,"object"),P=r(this,"doLength"),C=r(this,"message"),A=C?C+": ":"",v=r(this,"ssfi"),F=t.type(O).toLowerCase(),L=t.type(p).toLowerCase(),X=t.type(w).toLowerCase(),ne,Q=!0,K=L==="date"&&X==="date"?p.toISOString()+".."+w.toISOString():p+".."+w;if(P&&F!=="map"&&F!=="set"&&new n(O,C,v,!0).to.have.property("length"),!P&&F==="date"&&(L!=="date"||X!=="date"))ne=A+"the arguments to within must be dates";else if((L!=="number"||X!=="number")&&(P||F==="number"))ne=A+"the arguments to within must be numbers";else if(!P&&F!=="date"&&F!=="number"){var oe=F==="string"?"'"+O+"'":O;ne=A+"expected "+oe+" to be a number or a date"}else Q=!1;if(Q)throw new i(ne,void 0,v);if(P){var he="length",ye;F==="map"||F==="set"?(he="size",ye=O.size):ye=O.length,this.assert(ye>=p&&ye<=w,"expected #{this} to have a "+he+" within "+K,"expected #{this} to not have a "+he+" within "+K)}else this.assert(O>=p&&O<=w,"expected #{this} to be within "+K,"expected #{this} to not be within "+K)});function z(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"ssfi"),P=r(this,"message");try{var C=T instanceof p}catch(v){throw v instanceof TypeError?(P=P?P+": ":"",new i(P+"The instanceof assertion needs a constructor but "+t.type(p)+" was given.",void 0,O)):v}var A=t.getName(p);A===null&&(A="an unnamed constructor"),this.assert(C,"expected #{this} to be an instance of "+A,"expected #{this} to not be an instance of "+A)}n.addMethod("instanceof",z),n.addMethod("instanceOf",z);function k(p,w,T){T&&r(this,"message",T);var O=r(this,"nested"),P=r(this,"own"),C=r(this,"message"),A=r(this,"object"),v=r(this,"ssfi"),F=typeof p;if(C=C?C+": ":"",O){if(F!=="string")throw new i(C+"the argument to property must be a string when using nested syntax",void 0,v)}else if(F!=="string"&&F!=="number"&&F!=="symbol")throw new i(C+"the argument to property must be a string, number, or symbol",void 0,v);if(O&&P)throw new i(C+'The "nested" and "own" flags cannot be combined.',void 0,v);if(A==null)throw new i(C+"Target cannot be null or undefined.",void 0,v);var L=r(this,"deep"),X=r(this,"negate"),ne=O?t.getPathInfo(A,p):null,Q=O?ne.value:A[p],K="";L&&(K+="deep "),P&&(K+="own "),O&&(K+="nested "),K+="property ";var oe;P?oe=Object.prototype.hasOwnProperty.call(A,p):O?oe=ne.exists:oe=t.hasProperty(A,p),(!X||arguments.length===1)&&this.assert(oe,"expected #{this} to have "+K+t.inspect(p),"expected #{this} to not have "+K+t.inspect(p)),arguments.length>1&&this.assert(oe&&(L?t.eql(w,Q):w===Q),"expected #{this} to have "+K+t.inspect(p)+" of #{exp}, but got #{act}","expected #{this} to not have "+K+t.inspect(p)+" of #{act}",w,Q),r(this,"object",Q)}n.addMethod("property",k);function q(p,w,T){r(this,"own",!0),k.apply(this,arguments)}n.addMethod("ownProperty",q),n.addMethod("haveOwnProperty",q);function N(p,w,T){typeof w=="string"&&(T=w,w=null),T&&r(this,"message",T);var O=r(this,"object"),P=Object.getOwnPropertyDescriptor(Object(O),p);P&&w?this.assert(t.eql(w,P),"expected the own property descriptor for "+t.inspect(p)+" on #{this} to match "+t.inspect(w)+", got "+t.inspect(P),"expected the own property descriptor for "+t.inspect(p)+" on #{this} to not match "+t.inspect(w),w,P,!0):this.assert(P,"expected #{this} to have an own property descriptor for "+t.inspect(p),"expected #{this} to not have an own property descriptor for "+t.inspect(p)),r(this,"object",P)}n.addMethod("ownPropertyDescriptor",N),n.addMethod("haveOwnPropertyDescriptor",N);function W(){r(this,"doLength",!0)}function J(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=t.type(T).toLowerCase(),P=r(this,"message"),C=r(this,"ssfi"),A="length",v;switch(O){case"map":case"set":A="size",v=T.size;break;default:new n(T,P,C,!0).to.have.property("length"),v=T.length}this.assert(v==p,"expected #{this} to have a "+A+" of #{exp} but got #{act}","expected #{this} to not have a "+A+" of #{act}",p,v)}n.addChainableMethod("length",J,W),n.addChainableMethod("lengthOf",J,W);function D(p,w){w&&r(this,"message",w);var T=r(this,"object");this.assert(p.exec(T),"expected #{this} to match "+p,"expected #{this} not to match "+p)}n.addMethod("match",D),n.addMethod("matches",D),n.addMethod("string",function(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"message"),P=r(this,"ssfi");new n(T,O,P,!0).is.a("string"),this.assert(~T.indexOf(p),"expected #{this} to contain "+t.inspect(p),"expected #{this} to not contain "+t.inspect(p))});function U(p){var w=r(this,"object"),T=t.type(w),O=t.type(p),P=r(this,"ssfi"),C=r(this,"deep"),A,v="",F,L=!0,X=r(this,"message");X=X?X+": ":"";var ne=X+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if(T==="Map"||T==="Set")v=C?"deeply ":"",F=[],w.forEach(function(be,$e){F.push($e)}),O!=="Array"&&(p=Array.prototype.slice.call(arguments));else{switch(F=t.getOwnEnumerableProperties(w),O){case"Array":if(arguments.length>1)throw new i(ne,void 0,P);break;case"Object":if(arguments.length>1)throw new i(ne,void 0,P);p=Object.keys(p);break;default:p=Array.prototype.slice.call(arguments)}p=p.map(function(be){return typeof be=="symbol"?be:String(be)})}if(!p.length)throw new i(X+"keys required",void 0,P);var Q=p.length,K=r(this,"any"),oe=r(this,"all"),he=p;if(!K&&!oe&&(oe=!0),K&&(L=he.some(function(be){return F.some(function($e){return C?t.eql(be,$e):be===$e})})),oe&&(L=he.every(function(be){return F.some(function($e){return C?t.eql(be,$e):be===$e})}),r(this,"contains")||(L=L&&p.length==F.length)),Q>1){p=p.map(function(be){return t.inspect(be)});var ye=p.pop();oe&&(A=p.join(", ")+", and "+ye),K&&(A=p.join(", ")+", or "+ye)}else A=t.inspect(p[0]);A=(Q>1?"keys ":"key ")+A,A=(r(this,"contains")?"contain ":"have ")+A,this.assert(L,"expected #{this} to "+v+A,"expected #{this} to not "+v+A,he.slice(0).sort(t.compareByInspect),F.sort(t.compareByInspect),!0)}n.addMethod("keys",U),n.addMethod("key",U);function te(p,w,T){T&&r(this,"message",T);var O=r(this,"object"),P=r(this,"ssfi"),C=r(this,"message"),A=r(this,"negate")||!1;new n(O,C,P,!0).is.a("function"),(p instanceof RegExp||typeof p=="string")&&(w=p,p=null);var v;try{O()}catch(be){v=be}var F=p===void 0&&w===void 0,L=Boolean(p&&w),X=!1,ne=!1;if(F||!F&&!A){var Q="an error";p instanceof Error?Q="#{exp}":p&&(Q=t.checkError.getConstructorName(p)),this.assert(v,"expected #{this} to throw "+Q,"expected #{this} to not throw an error but #{act} was thrown",p&&p.toString(),v instanceof Error?v.toString():typeof v=="string"?v:v&&t.checkError.getConstructorName(v))}if(p&&v){if(p instanceof Error){var K=t.checkError.compatibleInstance(v,p);K===A&&(L&&A?X=!0:this.assert(A,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(v&&!A?" but #{act} was thrown":""),p.toString(),v.toString()))}var oe=t.checkError.compatibleConstructor(v,p);oe===A&&(L&&A?X=!0:this.assert(A,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(v?" but #{act} was thrown":""),p instanceof Error?p.toString():p&&t.checkError.getConstructorName(p),v instanceof Error?v.toString():v&&t.checkError.getConstructorName(v)))}if(v&&w!==void 0&&w!==null){var he="including";w instanceof RegExp&&(he="matching");var ye=t.checkError.compatibleMessage(v,w);ye===A&&(L&&A?ne=!0:this.assert(A,"expected #{this} to throw error "+he+" #{exp} but got #{act}","expected #{this} to throw error not "+he+" #{exp}",w,t.checkError.getMessage(v)))}X&&ne&&this.assert(A,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(v?" but #{act} was thrown":""),p instanceof Error?p.toString():p&&t.checkError.getConstructorName(p),v instanceof Error?v.toString():v&&t.checkError.getConstructorName(v)),r(this,"object",v)}n.addMethod("throw",te),n.addMethod("throws",te),n.addMethod("Throw",te);function G(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"itself"),P=typeof T=="function"&&!O?T.prototype[p]:T[p];this.assert(typeof P=="function","expected #{this} to respond to "+t.inspect(p),"expected #{this} to not respond to "+t.inspect(p))}n.addMethod("respondTo",G),n.addMethod("respondsTo",G),n.addProperty("itself",function(){r(this,"itself",!0)});function ve(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=p(T);this.assert(O,"expected #{this} to satisfy "+t.objDisplay(p),"expected #{this} to not satisfy"+t.objDisplay(p),!r(this,"negate"),O)}n.addMethod("satisfy",ve),n.addMethod("satisfies",ve);function ce(p,w,T){T&&r(this,"message",T);var O=r(this,"object"),P=r(this,"message"),C=r(this,"ssfi");if(new n(O,P,C,!0).is.a("number"),typeof p!="number"||typeof w!="number"){P=P?P+": ":"";var A=w===void 0?", and a delta is required":"";throw new i(P+"the arguments to closeTo or approximately must be numbers"+A,void 0,C)}this.assert(Math.abs(O-p)<=w,"expected #{this} to be close to "+p+" +/- "+w,"expected #{this} not to be close to "+p+" +/- "+w)}n.addMethod("closeTo",ce),n.addMethod("approximately",ce);function ge(p,w,T,O,P){if(!O){if(p.length!==w.length)return!1;w=w.slice()}return p.every(function(C,A){if(P)return T?T(C,w[A]):C===w[A];if(!T){var v=w.indexOf(C);return v===-1?!1:(O||w.splice(v,1),!0)}return w.some(function(F,L){return T(C,F)?(O||w.splice(L,1),!0):!1})})}n.addMethod("members",function(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"message"),P=r(this,"ssfi");new n(T,O,P,!0).to.be.an("array"),new n(p,O,P,!0).to.be.an("array");var C=r(this,"contains"),A=r(this,"ordered"),v,F,L;C?(v=A?"an ordered superset":"a superset",F="expected #{this} to be "+v+" of #{exp}",L="expected #{this} to not be "+v+" of #{exp}"):(v=A?"ordered members":"members",F="expected #{this} to have the same "+v+" as #{exp}",L="expected #{this} to not have the same "+v+" as #{exp}");var X=r(this,"deep")?t.eql:void 0;this.assert(ge(p,T,X,C,A),F,L,p,T,!0)});function Pe(p,w){w&&r(this,"message",w);var T=r(this,"object"),O=r(this,"message"),P=r(this,"ssfi"),C=r(this,"contains"),A=r(this,"deep");new n(p,O,P,!0).to.be.an("array"),C?this.assert(p.some(function(v){return T.indexOf(v)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",p,T):A?this.assert(p.some(function(v){return t.eql(T,v)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",p,T):this.assert(p.indexOf(T)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",p,T)}n.addMethod("oneOf",Pe);function Ne(p,w,T){T&&r(this,"message",T);var O=r(this,"object"),P=r(this,"message"),C=r(this,"ssfi");new n(O,P,C,!0).is.a("function");var A;w?(new n(p,P,C,!0).to.have.property(w),A=p[w]):(new n(p,P,C,!0).is.a("function"),A=p()),O();var v=w==null?p():p[w],F=w==null?A:"."+w;r(this,"deltaMsgObj",F),r(this,"initialDeltaValue",A),r(this,"finalDeltaValue",v),r(this,"deltaBehavior","change"),r(this,"realDelta",v!==A),this.assert(A!==v,"expected "+F+" to change","expected "+F+" to not change")}n.addMethod("change",Ne),n.addMethod("changes",Ne);function Se(p,w,T){T&&r(this,"message",T);var O=r(this,"object"),P=r(this,"message"),C=r(this,"ssfi");new n(O,P,C,!0).is.a("function");var A;w?(new n(p,P,C,!0).to.have.property(w),A=p[w]):(new n(p,P,C,!0).is.a("function"),A=p()),new n(A,P,C,!0).is.a("number"),O();var v=w==null?p():p[w],F=w==null?A:"."+w;r(this,"deltaMsgObj",F),r(this,"initialDeltaValue",A),r(this,"finalDeltaValue",v),r(this,"deltaBehavior","increase"),r(this,"realDelta",v-A),this.assert(v-A>0,"expected "+F+" to increase","expected "+F+" to not increase")}n.addMethod("increase",Se),n.addMethod("increases",Se);function Oe(p,w,T){T&&r(this,"message",T);var O=r(this,"object"),P=r(this,"message"),C=r(this,"ssfi");new n(O,P,C,!0).is.a("function");var A;w?(new n(p,P,C,!0).to.have.property(w),A=p[w]):(new n(p,P,C,!0).is.a("function"),A=p()),new n(A,P,C,!0).is.a("number"),O();var v=w==null?p():p[w],F=w==null?A:"."+w;r(this,"deltaMsgObj",F),r(this,"initialDeltaValue",A),r(this,"finalDeltaValue",v),r(this,"deltaBehavior","decrease"),r(this,"realDelta",A-v),this.assert(v-A<0,"expected "+F+" to decrease","expected "+F+" to not decrease")}n.addMethod("decrease",Oe),n.addMethod("decreases",Oe);function Be(p,w){w&&r(this,"message",w);var T=r(this,"deltaMsgObj"),O=r(this,"initialDeltaValue"),P=r(this,"finalDeltaValue"),C=r(this,"deltaBehavior"),A=r(this,"realDelta"),v;C==="change"?v=Math.abs(P-O)===Math.abs(p):v=A===Math.abs(p),this.assert(v,"expected "+T+" to "+C+" by "+p,"expected "+T+" to not "+C+" by "+p)}n.addMethod("by",Be),n.addProperty("extensible",function(){var p=r(this,"object"),w=p===Object(p)&&Object.isExtensible(p);this.assert(w,"expected #{this} to be extensible","expected #{this} to not be extensible")}),n.addProperty("sealed",function(){var p=r(this,"object"),w=p===Object(p)?Object.isSealed(p):!0;this.assert(w,"expected #{this} to be sealed","expected #{this} to not be sealed")}),n.addProperty("frozen",function(){var p=r(this,"object"),w=p===Object(p)?Object.isFrozen(p):!0;this.assert(w,"expected #{this} to be frozen","expected #{this} to not be frozen")}),n.addProperty("finite",function(p){var w=r(this,"object");this.assert(typeof w=="number"&&isFinite(w),"expected #{this} to be a finite number","expected #{this} to not be a finite number")})};/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var lf=function(e,t){e.expect=function(n,i){return new e.Assertion(n,i)},e.expect.fail=function(n,i,r,s){throw arguments.length<2&&(r=n,n=void 0),r=r||"expect.fail()",new e.AssertionError(r,{actual:n,expected:i,operator:s},e.expect.fail)}};/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var ff=function(e,t){var n=e.Assertion;function i(){function r(){return this instanceof String||this instanceof Number||this instanceof Boolean||typeof Symbol=="function"&&this instanceof Symbol||typeof BigInt=="function"&&this instanceof BigInt?new n(this.valueOf(),null,r):new n(this,null,r)}function s(a){Object.defineProperty(this,"should",{value:a,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:s,get:r,configurable:!0});var o={};return o.fail=function(a,c,u,l){throw arguments.length<2&&(u=a,a=void 0),u=u||"should.fail()",new e.AssertionError(u,{actual:a,expected:c,operator:l},o.fail)},o.equal=function(a,c,u){new n(a,u).to.equal(c)},o.Throw=function(a,c,u,l){new n(a,l).to.Throw(c,u)},o.exist=function(a,c){new n(a,c).to.exist},o.not={},o.not.equal=function(a,c,u){new n(a,u).to.not.equal(c)},o.not.Throw=function(a,c,u,l){new n(a,l).to.not.Throw(c,u)},o.not.exist=function(a,c){new n(a,c).to.not.exist},o.throw=o.Throw,o.not.throw=o.not.Throw,o}e.should=i,e.Should=i};/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var hf=function(e,t){/*!
 * Chai dependencies.
 */var n=e.Assertion,i=t.flag;/*!
 * Module export.
 */var r=e.assert=function(s,o){var a=new n(null,null,e.assert,!0);a.assert(s,o,"[ negation message unavailable ]")};r.fail=function(s,o,a,c){throw arguments.length<2&&(a=s,s=void 0),a=a||"assert.fail()",new e.AssertionError(a,{actual:s,expected:o,operator:c},r.fail)},r.isOk=function(s,o){new n(s,o,r.isOk,!0).is.ok},r.isNotOk=function(s,o){new n(s,o,r.isNotOk,!0).is.not.ok},r.equal=function(s,o,a){var c=new n(s,a,r.equal,!0);c.assert(o==i(c,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",o,s,!0)},r.notEqual=function(s,o,a){var c=new n(s,a,r.notEqual,!0);c.assert(o!=i(c,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",o,s,!0)},r.strictEqual=function(s,o,a){new n(s,a,r.strictEqual,!0).to.equal(o)},r.notStrictEqual=function(s,o,a){new n(s,a,r.notStrictEqual,!0).to.not.equal(o)},r.deepEqual=r.deepStrictEqual=function(s,o,a){new n(s,a,r.deepEqual,!0).to.eql(o)},r.notDeepEqual=function(s,o,a){new n(s,a,r.notDeepEqual,!0).to.not.eql(o)},r.isAbove=function(s,o,a){new n(s,a,r.isAbove,!0).to.be.above(o)},r.isAtLeast=function(s,o,a){new n(s,a,r.isAtLeast,!0).to.be.least(o)},r.isBelow=function(s,o,a){new n(s,a,r.isBelow,!0).to.be.below(o)},r.isAtMost=function(s,o,a){new n(s,a,r.isAtMost,!0).to.be.most(o)},r.isTrue=function(s,o){new n(s,o,r.isTrue,!0).is.true},r.isNotTrue=function(s,o){new n(s,o,r.isNotTrue,!0).to.not.equal(!0)},r.isFalse=function(s,o){new n(s,o,r.isFalse,!0).is.false},r.isNotFalse=function(s,o){new n(s,o,r.isNotFalse,!0).to.not.equal(!1)},r.isNull=function(s,o){new n(s,o,r.isNull,!0).to.equal(null)},r.isNotNull=function(s,o){new n(s,o,r.isNotNull,!0).to.not.equal(null)},r.isNaN=function(s,o){new n(s,o,r.isNaN,!0).to.be.NaN},r.isNotNaN=function(s,o){new n(s,o,r.isNotNaN,!0).not.to.be.NaN},r.exists=function(s,o){new n(s,o,r.exists,!0).to.exist},r.notExists=function(s,o){new n(s,o,r.notExists,!0).to.not.exist},r.isUndefined=function(s,o){new n(s,o,r.isUndefined,!0).to.equal(void 0)},r.isDefined=function(s,o){new n(s,o,r.isDefined,!0).to.not.equal(void 0)},r.isFunction=function(s,o){new n(s,o,r.isFunction,!0).to.be.a("function")},r.isNotFunction=function(s,o){new n(s,o,r.isNotFunction,!0).to.not.be.a("function")},r.isObject=function(s,o){new n(s,o,r.isObject,!0).to.be.a("object")},r.isNotObject=function(s,o){new n(s,o,r.isNotObject,!0).to.not.be.a("object")},r.isArray=function(s,o){new n(s,o,r.isArray,!0).to.be.an("array")},r.isNotArray=function(s,o){new n(s,o,r.isNotArray,!0).to.not.be.an("array")},r.isString=function(s,o){new n(s,o,r.isString,!0).to.be.a("string")},r.isNotString=function(s,o){new n(s,o,r.isNotString,!0).to.not.be.a("string")},r.isNumber=function(s,o){new n(s,o,r.isNumber,!0).to.be.a("number")},r.isNotNumber=function(s,o){new n(s,o,r.isNotNumber,!0).to.not.be.a("number")},r.isFinite=function(s,o){new n(s,o,r.isFinite,!0).to.be.finite},r.isBoolean=function(s,o){new n(s,o,r.isBoolean,!0).to.be.a("boolean")},r.isNotBoolean=function(s,o){new n(s,o,r.isNotBoolean,!0).to.not.be.a("boolean")},r.typeOf=function(s,o,a){new n(s,a,r.typeOf,!0).to.be.a(o)},r.notTypeOf=function(s,o,a){new n(s,a,r.notTypeOf,!0).to.not.be.a(o)},r.instanceOf=function(s,o,a){new n(s,a,r.instanceOf,!0).to.be.instanceOf(o)},r.notInstanceOf=function(s,o,a){new n(s,a,r.notInstanceOf,!0).to.not.be.instanceOf(o)},r.include=function(s,o,a){new n(s,a,r.include,!0).include(o)},r.notInclude=function(s,o,a){new n(s,a,r.notInclude,!0).not.include(o)},r.deepInclude=function(s,o,a){new n(s,a,r.deepInclude,!0).deep.include(o)},r.notDeepInclude=function(s,o,a){new n(s,a,r.notDeepInclude,!0).not.deep.include(o)},r.nestedInclude=function(s,o,a){new n(s,a,r.nestedInclude,!0).nested.include(o)},r.notNestedInclude=function(s,o,a){new n(s,a,r.notNestedInclude,!0).not.nested.include(o)},r.deepNestedInclude=function(s,o,a){new n(s,a,r.deepNestedInclude,!0).deep.nested.include(o)},r.notDeepNestedInclude=function(s,o,a){new n(s,a,r.notDeepNestedInclude,!0).not.deep.nested.include(o)},r.ownInclude=function(s,o,a){new n(s,a,r.ownInclude,!0).own.include(o)},r.notOwnInclude=function(s,o,a){new n(s,a,r.notOwnInclude,!0).not.own.include(o)},r.deepOwnInclude=function(s,o,a){new n(s,a,r.deepOwnInclude,!0).deep.own.include(o)},r.notDeepOwnInclude=function(s,o,a){new n(s,a,r.notDeepOwnInclude,!0).not.deep.own.include(o)},r.match=function(s,o,a){new n(s,a,r.match,!0).to.match(o)},r.notMatch=function(s,o,a){new n(s,a,r.notMatch,!0).to.not.match(o)},r.property=function(s,o,a){new n(s,a,r.property,!0).to.have.property(o)},r.notProperty=function(s,o,a){new n(s,a,r.notProperty,!0).to.not.have.property(o)},r.propertyVal=function(s,o,a,c){new n(s,c,r.propertyVal,!0).to.have.property(o,a)},r.notPropertyVal=function(s,o,a,c){new n(s,c,r.notPropertyVal,!0).to.not.have.property(o,a)},r.deepPropertyVal=function(s,o,a,c){new n(s,c,r.deepPropertyVal,!0).to.have.deep.property(o,a)},r.notDeepPropertyVal=function(s,o,a,c){new n(s,c,r.notDeepPropertyVal,!0).to.not.have.deep.property(o,a)},r.ownProperty=function(s,o,a){new n(s,a,r.ownProperty,!0).to.have.own.property(o)},r.notOwnProperty=function(s,o,a){new n(s,a,r.notOwnProperty,!0).to.not.have.own.property(o)},r.ownPropertyVal=function(s,o,a,c){new n(s,c,r.ownPropertyVal,!0).to.have.own.property(o,a)},r.notOwnPropertyVal=function(s,o,a,c){new n(s,c,r.notOwnPropertyVal,!0).to.not.have.own.property(o,a)},r.deepOwnPropertyVal=function(s,o,a,c){new n(s,c,r.deepOwnPropertyVal,!0).to.have.deep.own.property(o,a)},r.notDeepOwnPropertyVal=function(s,o,a,c){new n(s,c,r.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(o,a)},r.nestedProperty=function(s,o,a){new n(s,a,r.nestedProperty,!0).to.have.nested.property(o)},r.notNestedProperty=function(s,o,a){new n(s,a,r.notNestedProperty,!0).to.not.have.nested.property(o)},r.nestedPropertyVal=function(s,o,a,c){new n(s,c,r.nestedPropertyVal,!0).to.have.nested.property(o,a)},r.notNestedPropertyVal=function(s,o,a,c){new n(s,c,r.notNestedPropertyVal,!0).to.not.have.nested.property(o,a)},r.deepNestedPropertyVal=function(s,o,a,c){new n(s,c,r.deepNestedPropertyVal,!0).to.have.deep.nested.property(o,a)},r.notDeepNestedPropertyVal=function(s,o,a,c){new n(s,c,r.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(o,a)},r.lengthOf=function(s,o,a){new n(s,a,r.lengthOf,!0).to.have.lengthOf(o)},r.hasAnyKeys=function(s,o,a){new n(s,a,r.hasAnyKeys,!0).to.have.any.keys(o)},r.hasAllKeys=function(s,o,a){new n(s,a,r.hasAllKeys,!0).to.have.all.keys(o)},r.containsAllKeys=function(s,o,a){new n(s,a,r.containsAllKeys,!0).to.contain.all.keys(o)},r.doesNotHaveAnyKeys=function(s,o,a){new n(s,a,r.doesNotHaveAnyKeys,!0).to.not.have.any.keys(o)},r.doesNotHaveAllKeys=function(s,o,a){new n(s,a,r.doesNotHaveAllKeys,!0).to.not.have.all.keys(o)},r.hasAnyDeepKeys=function(s,o,a){new n(s,a,r.hasAnyDeepKeys,!0).to.have.any.deep.keys(o)},r.hasAllDeepKeys=function(s,o,a){new n(s,a,r.hasAllDeepKeys,!0).to.have.all.deep.keys(o)},r.containsAllDeepKeys=function(s,o,a){new n(s,a,r.containsAllDeepKeys,!0).to.contain.all.deep.keys(o)},r.doesNotHaveAnyDeepKeys=function(s,o,a){new n(s,a,r.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(o)},r.doesNotHaveAllDeepKeys=function(s,o,a){new n(s,a,r.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(o)},r.throws=function(s,o,a,c){(typeof o=="string"||o instanceof RegExp)&&(a=o,o=null);var u=new n(s,c,r.throws,!0).to.throw(o,a);return i(u,"object")},r.doesNotThrow=function(s,o,a,c){(typeof o=="string"||o instanceof RegExp)&&(a=o,o=null),new n(s,c,r.doesNotThrow,!0).to.not.throw(o,a)},r.operator=function(s,o,a,c){var u;switch(o){case"==":u=s==a;break;case"===":u=s===a;break;case">":u=s>a;break;case">=":u=s>=a;break;case"<":u=s<a;break;case"<=":u=s<=a;break;case"!=":u=s!=a;break;case"!==":u=s!==a;break;default:throw c=c&&c+": ",new e.AssertionError(c+'Invalid operator "'+o+'"',void 0,r.operator)}var l=new n(u,c,r.operator,!0);l.assert(i(l,"object")===!0,"expected "+t.inspect(s)+" to be "+o+" "+t.inspect(a),"expected "+t.inspect(s)+" to not be "+o+" "+t.inspect(a))},r.closeTo=function(s,o,a,c){new n(s,c,r.closeTo,!0).to.be.closeTo(o,a)},r.approximately=function(s,o,a,c){new n(s,c,r.approximately,!0).to.be.approximately(o,a)},r.sameMembers=function(s,o,a){new n(s,a,r.sameMembers,!0).to.have.same.members(o)},r.notSameMembers=function(s,o,a){new n(s,a,r.notSameMembers,!0).to.not.have.same.members(o)},r.sameDeepMembers=function(s,o,a){new n(s,a,r.sameDeepMembers,!0).to.have.same.deep.members(o)},r.notSameDeepMembers=function(s,o,a){new n(s,a,r.notSameDeepMembers,!0).to.not.have.same.deep.members(o)},r.sameOrderedMembers=function(s,o,a){new n(s,a,r.sameOrderedMembers,!0).to.have.same.ordered.members(o)},r.notSameOrderedMembers=function(s,o,a){new n(s,a,r.notSameOrderedMembers,!0).to.not.have.same.ordered.members(o)},r.sameDeepOrderedMembers=function(s,o,a){new n(s,a,r.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(o)},r.notSameDeepOrderedMembers=function(s,o,a){new n(s,a,r.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(o)},r.includeMembers=function(s,o,a){new n(s,a,r.includeMembers,!0).to.include.members(o)},r.notIncludeMembers=function(s,o,a){new n(s,a,r.notIncludeMembers,!0).to.not.include.members(o)},r.includeDeepMembers=function(s,o,a){new n(s,a,r.includeDeepMembers,!0).to.include.deep.members(o)},r.notIncludeDeepMembers=function(s,o,a){new n(s,a,r.notIncludeDeepMembers,!0).to.not.include.deep.members(o)},r.includeOrderedMembers=function(s,o,a){new n(s,a,r.includeOrderedMembers,!0).to.include.ordered.members(o)},r.notIncludeOrderedMembers=function(s,o,a){new n(s,a,r.notIncludeOrderedMembers,!0).to.not.include.ordered.members(o)},r.includeDeepOrderedMembers=function(s,o,a){new n(s,a,r.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(o)},r.notIncludeDeepOrderedMembers=function(s,o,a){new n(s,a,r.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(o)},r.oneOf=function(s,o,a){new n(s,a,r.oneOf,!0).to.be.oneOf(o)},r.changes=function(s,o,a,c){arguments.length===3&&typeof o=="function"&&(c=a,a=null),new n(s,c,r.changes,!0).to.change(o,a)},r.changesBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);new n(s,u,r.changesBy,!0).to.change(o,a).by(c)},r.doesNotChange=function(s,o,a,c){return arguments.length===3&&typeof o=="function"&&(c=a,a=null),new n(s,c,r.doesNotChange,!0).to.not.change(o,a)},r.changesButNotBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);new n(s,u,r.changesButNotBy,!0).to.change(o,a).but.not.by(c)},r.increases=function(s,o,a,c){return arguments.length===3&&typeof o=="function"&&(c=a,a=null),new n(s,c,r.increases,!0).to.increase(o,a)},r.increasesBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);new n(s,u,r.increasesBy,!0).to.increase(o,a).by(c)},r.doesNotIncrease=function(s,o,a,c){return arguments.length===3&&typeof o=="function"&&(c=a,a=null),new n(s,c,r.doesNotIncrease,!0).to.not.increase(o,a)},r.increasesButNotBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);new n(s,u,r.increasesButNotBy,!0).to.increase(o,a).but.not.by(c)},r.decreases=function(s,o,a,c){return arguments.length===3&&typeof o=="function"&&(c=a,a=null),new n(s,c,r.decreases,!0).to.decrease(o,a)},r.decreasesBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);new n(s,u,r.decreasesBy,!0).to.decrease(o,a).by(c)},r.doesNotDecrease=function(s,o,a,c){return arguments.length===3&&typeof o=="function"&&(c=a,a=null),new n(s,c,r.doesNotDecrease,!0).to.not.decrease(o,a)},r.doesNotDecreaseBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);return new n(s,u,r.doesNotDecreaseBy,!0).to.not.decrease(o,a).by(c)},r.decreasesButNotBy=function(s,o,a,c,u){if(arguments.length===4&&typeof o=="function"){var l=c;c=a,u=l}else arguments.length===3&&(c=a,a=null);new n(s,u,r.decreasesButNotBy,!0).to.decrease(o,a).but.not.by(c)};/*!
 * ### .ifError(object)
 *
 * Asserts if value is not a false value, and throws if it is a true value.
 * This is added to allow for chai to be a drop-in replacement for Node's
 * assert class.
 *
 *     var err = new Error('I am a custom error');
 *     assert.ifError(err); // Rethrows err!
 *
 * @name ifError
 * @param {Object} object
 * @namespace Assert
 * @api public
 */r.ifError=function(s){if(s)throw s},r.isExtensible=function(s,o){new n(s,o,r.isExtensible,!0).to.be.extensible},r.isNotExtensible=function(s,o){new n(s,o,r.isNotExtensible,!0).to.not.be.extensible},r.isSealed=function(s,o){new n(s,o,r.isSealed,!0).to.be.sealed},r.isNotSealed=function(s,o){new n(s,o,r.isNotSealed,!0).to.not.be.sealed},r.isFrozen=function(s,o){new n(s,o,r.isFrozen,!0).to.be.frozen},r.isNotFrozen=function(s,o){new n(s,o,r.isNotFrozen,!0).to.not.be.frozen},r.isEmpty=function(s,o){new n(s,o,r.isEmpty,!0).to.be.empty},r.isNotEmpty=function(s,o){new n(s,o,r.isNotEmpty,!0).to.not.be.empty};/*!
 * Aliases.
 */(function s(o,a){return r[a]=r[o],s})("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")};/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */(function(e){var t=[];/*!
 * Chai version
 */e.version="4.3.3";/*!
 * Assertion Error
 */e.AssertionError=pi;/*!
 * Utils for plugins (not exported)
 */var n=ae;e.use=function(u){return~t.indexOf(u)||(u(e,n),t.push(u)),e};/*!
 * Utility Functions
 */e.util=n;/*!
 * Configuration
 */var i=At;e.config=i;/*!
 * Primary `Assertion` prototype
 */var r=cf;e.use(r);/*!
 * Core Assertions
 */var s=uf;e.use(s);/*!
 * Expect interface
 */var o=lf;e.use(o);/*!
 * Should interface
 */var a=ff;e.use(a);/*!
 * Assert interface
 */var c=hf;e.use(c)})(rt);var Re=rt;const Hn=Re.expect;Re.version;Re.Assertion;const Po=Re.AssertionError,dn=Re.util;Re.config;const Yt=Re.use;Re.should;const pf=Re.assert;Re.core;var Kt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function an(e,t){if(!e)throw new Error(t)}function gt(e,t){return typeof t===e}function mf(e){return e instanceof Promise}function ir(e,t,n){Object.defineProperty(e,t,n)}function wt(e,t,n){Object.defineProperty(e,t,{value:n})}var Lt=Symbol.for("tinyspy:spy"),yf=new Set,gf=e=>{e.called=!1,e.callCount=0,e.calls=[],e.results=[]},bf=e=>(ir(e,Lt,{value:{reset:()=>gf(e[Lt])}}),e[Lt]),ar=e=>e[Lt]||bf(e);function wf(e){an(gt("function",e)||gt("undefined",e),"cannot spy on a non-function value");let t=function(...i){let r=ar(t);if(r.called=!0,r.callCount++,r.calls.push(i),r.next){let[c,u]=r.next;if(r.results.push(r.next),r.next=null,c==="ok")return u;throw u}let s,o="ok";if(r.impl)try{s=r.impl.apply(this,i),o="ok"}catch(c){throw s=c,o="error",r.results.push([o,c]),c}let a=[o,s];if(mf(s)){let c=s.then(u=>a[1]=u).catch(u=>{throw a[0]="error",a[1]=u,u});Object.assign(c,s),s=c}return r.results.push(a),s};wt(t,"_isMockFunction",!0),wt(t,"length",e?e.length:0),wt(t,"name",e&&e.name||"spy");let n=ar(t);return n.reset(),n.impl=e,t}var No=(e,t)=>Object.getOwnPropertyDescriptor(e,t);function Ti(e,t,n){an(!gt("undefined",e),"spyOn could not find an object to spy upon"),an(gt("object",e)||gt("function",e),"cannot spyOn on a primitive value");let i=()=>{if(!gt("object",t))return[t,"value"];if("getter"in t&&"setter"in t)throw new Error("cannot spy on both getter and setter");if("getter"in t)return[t.getter,"get"];if("setter"in t)return[t.setter,"set"];throw new Error("specify getter or setter to spy on")},[r,s]=i(),o=No(e,r),a=Object.getPrototypeOf(e),c=a&&No(a,r),u=o||c;an(u||r in e,`${String(r)} does not exist`);let l=!1;s==="value"&&u&&!u.value&&u.get&&(s="get",l=!0,n=u.get());let f;u?f=u[s]:s!=="value"?f=()=>e[r]:f=e[r],n||(n=f);let y=wf(n),S=j=>{let{value:z,...k}=u||{configurable:!0,writable:!0};s!=="value"&&delete k.writable,k[s]=j,ir(e,r,k)},x=()=>u?ir(e,r,u):S(f),$=y[Lt];return wt($,"restore",x),wt($,"getOriginal",()=>l?f():f),wt($,"willCall",j=>($.impl=j,y)),S(l?()=>y:y),yf.add(y),y}const cn=new Set;function Oi(e){return typeof e=="function"&&"_isMockFunction"in e&&e._isMockFunction}function vf(e,t,n){const r=n?{[{get:"getter",set:"setter"}[n]]:t}:t,s=Ti(e,r);return $i(s)}let Sf=0;function $i(e){const t=e;let n,i=[],r=[];const s=ar(e),o={get calls(){return s.calls},get instances(){return i},get invocationCallOrder(){return r},get results(){return s.results.map(([y,S])=>({type:y==="error"?"throw":"return",value:S}))},get lastCall(){return s.calls[s.calls.length-1]}};let a=[],c=!1;function u(...y){return i.push(this),r.push(++Sf),(c?n:a.shift()||n||s.getOriginal()||(()=>{})).apply(this,y)}let l=t.name;t.getMockName=()=>l||"vi.fn()",t.mockName=y=>(l=y,t),t.mockClear=()=>(s.reset(),i=[],r=[],t),t.mockReset=()=>(t.mockClear(),n=()=>{},a=[],t),t.mockRestore=()=>(t.mockReset(),s.restore(),n=void 0,t),t.getMockImplementation=()=>n,t.mockImplementation=y=>(n=y,s.willCall(u),t),t.mockImplementationOnce=y=>(a.push(y),t);function f(y,S){const x=n;n=y,s.willCall(u),c=!0;const $=()=>{n=x,c=!1},j=S();return j instanceof Promise?j.then(()=>($(),t)):($(),t)}return t.withImplementation=f,t.mockReturnThis=()=>t.mockImplementation(function(){return this}),t.mockReturnValue=y=>t.mockImplementation(()=>y),t.mockReturnValueOnce=y=>t.mockImplementationOnce(()=>y),t.mockResolvedValue=y=>t.mockImplementation(()=>Promise.resolve(y)),t.mockResolvedValueOnce=y=>t.mockImplementationOnce(()=>Promise.resolve(y)),t.mockRejectedValue=y=>t.mockImplementation(()=>Promise.reject(y)),t.mockRejectedValueOnce=y=>t.mockImplementationOnce(()=>Promise.reject(y)),Object.defineProperty(t,"mock",{get:()=>o}),s.willCall(u),cn.add(t),t}function Ef(e){const t=$i(Ti({spy:e||(()=>{})},"spy"));return e&&t.mockImplementation(e),t}const mn=Symbol.for("matchers-object"),Ar=Symbol.for("$$jest-matchers-object"),Ht=Symbol.for("expect-global");if(!Object.prototype.hasOwnProperty.call(globalThis,mn)){const e=new WeakMap,t=Object.create(null);Object.defineProperty(globalThis,mn,{get:()=>e}),Object.defineProperty(globalThis,Ar,{configurable:!0,get:()=>({state:e.get(globalThis[Ht]),matchers:t})})}function vt(e){return globalThis[mn].get(e)}function Xn(e,t){const n=globalThis[mn],i=n.get(t)||{};Object.assign(i,e),n.set(t,i)}function Ai(){const e=()=>wr(),t=e().green,n=e().red,i=e().inverse,r=e().bold,s=e().dim;function o(f,y="received",S="expected",x={}){const{comment:$="",isDirectExpectCall:j=!1,isNot:z=!1,promise:k="",secondArgument:q="",expectedColor:N=t,receivedColor:W=n,secondArgumentColor:J=t}=x;let D="",U="expect";return!j&&y!==""&&(D+=s(`${U}(`)+W(y),U=")"),k!==""&&(D+=s(`${U}.`)+k,U=""),z&&(D+=`${s(`${U}.`)}not`,U=""),f.includes(".")?U+=f:(D+=s(`${U}.`)+f,U=""),S===""?U+="()":(D+=s(`${U}(`)+N(S),q&&(D+=s(", ")+J(q)),U=")"),$!==""&&(U+=` // ${$}`),U!==""&&(D+=s(U)),D}const a="\xB7",c=f=>f.replace(/\s+$/gm,y=>a.repeat(y.length));return{EXPECTED_COLOR:t,RECEIVED_COLOR:n,INVERTED_COLOR:i,BOLD_WEIGHT:r,DIM_COLOR:s,matcherHint:o,printReceived:f=>n(c(Ve(f))),printExpected:f=>t(c(Ve(f)))}}function ue(e,t,n,i){return n=n||[],Mi(e,t,[],[],n,i?Pi:Tf)}function Io(e){return!!e&&typeof e=="object"&&"asymmetricMatch"in e&&et("Function",e.asymmetricMatch)}function xf(e,t){const n=Io(e),i=Io(t);if(!(n&&i)){if(n)return e.asymmetricMatch(t);if(i)return t.asymmetricMatch(e)}}function Mi(e,t,n,i,r,s){let o=!0;const a=xf(e,t);if(a!==void 0)return a;for(let S=0;S<r.length;S++){const x=r[S](e,t);if(x!==void 0)return x}if(e instanceof Error&&t instanceof Error)return e.message===t.message;if(Object.is(e,t))return!0;if(e===null||t===null)return e===t;const c=Object.prototype.toString.call(e);if(c!==Object.prototype.toString.call(t))return!1;switch(c){case"[object Boolean]":case"[object String]":case"[object Number]":return typeof e!=typeof t?!1:typeof e!="object"&&typeof t!="object"?Object.is(e,t):Object.is(e.valueOf(),t.valueOf());case"[object Date]":{const S=+e,x=+t;return S===x||Number.isNaN(S)&&Number.isNaN(x)}case"[object RegExp]":return e.source===t.source&&e.flags===t.flags}if(typeof e!="object"||typeof t!="object")return!1;if(jo(e)&&jo(t))return e.isEqualNode(t);let u=n.length;for(;u--;){if(n[u]===e)return i[u]===t;if(i[u]===t)return!1}if(n.push(e),i.push(t),c==="[object Array]"&&e.length!==t.length)return!1;const l=ko(e,s);let f,y=l.length;if(ko(t,s).length!==y)return!1;for(;y--;)if(f=l[y],o=s(t,f)&&Mi(e[f],t[f],n,i,r,s),!o)return!1;return n.pop(),i.pop(),o}function ko(e,t){const n=[];for(const i in e)t(e,i)&&n.push(i);return n.concat(Object.getOwnPropertySymbols(e).filter(i=>Object.getOwnPropertyDescriptor(e,i).enumerable))}function Tf(e,t){return Pi(e,t)&&e[t]!==void 0}function Pi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function et(e,t){return Object.prototype.toString.apply(t)===`[object ${e}]`}function jo(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"&&"nodeName"in e&&typeof e.nodeName=="string"&&"isEqualNode"in e&&typeof e.isEqualNode=="function"}const Of="@@__IMMUTABLE_KEYED__@@",$f="@@__IMMUTABLE_SET__@@",Ni="@@__IMMUTABLE_ORDERED__@@";function Af(e){return!!(e&&e[Of]&&!e[Ni])}function Mf(e){return!!(e&&e[$f]&&!e[Ni])}const Ii=Symbol.iterator;function Co(e){return!!(e!=null&&e[Ii])}function Me(e,t,n=[],i=[]){if(typeof e!="object"||typeof t!="object"||Array.isArray(e)||Array.isArray(t)||!Co(e)||!Co(t))return;if(e.constructor!==t.constructor)return!1;let r=n.length;for(;r--;)if(n[r]===e)return i[r]===t;n.push(e),i.push(t);const s=(a,c)=>Me(a,c,[...n],[...i]);if(e.size!==void 0){if(e.size!==t.size)return!1;if(et("Set",e)||Mf(e)){let a=!0;for(const c of e)if(!t.has(c)){let u=!1;for(const l of t)ue(c,l,[s])===!0&&(u=!0);if(u===!1){a=!1;break}}return n.pop(),i.pop(),a}else if(et("Map",e)||Af(e)){let a=!0;for(const c of e)if(!t.has(c[0])||!ue(c[1],t.get(c[0]),[s])){let u=!1;for(const l of t){const f=ue(c[0],l[0],[s]);let y=!1;f===!0&&(y=ue(c[1],l[1],[s])),y===!0&&(u=!0)}if(u===!1){a=!1;break}}return n.pop(),i.pop(),a}}const o=t[Ii]();for(const a of e){const c=o.next();if(c.done||!ue(a,c.value,[s]))return!1}return o.next().done?(n.pop(),i.pop(),!0):!1}function ki(e,t){return!e||typeof e!="object"||e===Object.prototype?!1:Object.prototype.hasOwnProperty.call(e,t)||ki(Object.getPrototypeOf(e),t)}function _o(e){return fs(e)&&!(e instanceof Error)&&!Array.isArray(e)&&!(e instanceof Date)}function Cn(e,t){const n=(i=new WeakMap)=>(r,s)=>{if(!!_o(s))return Object.keys(s).every(o=>{if(_o(s[o])){if(i.has(s[o]))return ue(r[o],s[o],[Me]);i.set(s[o],!0)}const a=r!=null&&ki(r,o)&&ue(r[o],s[o],[Me,n(i)]);return i.delete(s[o]),a})};return n()(e,t)}function cr(e,t){if(!(e==null||t==null||e.constructor===t.constructor))return!1}function Do(e,t){let n=e,i=t;if(!(e instanceof DataView&&t instanceof DataView)){if(!(e instanceof ArrayBuffer)||!(t instanceof ArrayBuffer))return;n=new DataView(e),i=new DataView(t)}if(n.byteLength!==i.byteLength)return!1;for(let r=0;r<n.byteLength;r++)if(n.getUint8(r)!==i.getUint8(r))return!1;return!0}function Fo(e,t){if(!Array.isArray(e)||!Array.isArray(t))return;const n=Object.keys(e),i=Object.keys(t);return ue(e,t,[Me,cr],!0)&&ue(n,i)}function Pf(e,t="#{this}",n="#{exp}"){const i=`expected ${t} to be ${n} // Object.is equality`;return["toStrictEqual","toEqual"].includes(e)?`${i}

If it should pass with deep equality, replace "toBe" with "${e}"

Expected: ${t}
Received: serializes to the same string
`:i}class lt{constructor(t,n=!1){re(this,"$$typeof",Symbol.for("jest.asymmetricMatcher"));this.sample=t,this.inverse=n}getMatcherContext(t){return{...vt(t||globalThis[Ht]),equals:ue,isNot:this.inverse,utils:{...Ai(),diff:Ut,stringify:Ve,iterableEquality:Me,subsetEquality:Cn}}}}class Ro extends lt{constructor(t,n=!1){if(!et("String",t))throw new Error("Expected is not a string");super(t,n)}asymmetricMatch(t){const n=et("String",t)&&t.includes(this.sample);return this.inverse?!n:n}toString(){return`String${this.inverse?"Not":""}Containing`}getExpectedType(){return"string"}}class Nf extends lt{asymmetricMatch(t){return t!=null}toString(){return"Anything"}toAsymmetricMatcher(){return"Anything"}}class Bo extends lt{constructor(t,n=!1){super(t,n)}getPrototype(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.constructor.prototype===t?null:t.constructor.prototype}hasProperty(t,n){return t?Object.prototype.hasOwnProperty.call(t,n)?!0:this.hasProperty(this.getPrototype(t),n):!1}asymmetricMatch(t){if(typeof this.sample!="object")throw new TypeError(`You must provide an object to ${this.toString()}, not '${typeof this.sample}'.`);let n=!0;for(const i in this.sample)if(!this.hasProperty(t,i)||!ue(this.sample[i],t[i])){n=!1;break}return this.inverse?!n:n}toString(){return`Object${this.inverse?"Not":""}Containing`}getExpectedType(){return"object"}}class Lo extends lt{constructor(t,n=!1){super(t,n)}asymmetricMatch(t){if(!Array.isArray(this.sample))throw new TypeError(`You must provide an array to ${this.toString()}, not '${typeof this.sample}'.`);const n=this.sample.length===0||Array.isArray(t)&&this.sample.every(i=>t.some(r=>ue(i,r)));return this.inverse?!n:n}toString(){return`Array${this.inverse?"Not":""}Containing`}getExpectedType(){return"array"}}class If extends lt{constructor(t){if(typeof t=="undefined")throw new TypeError("any() expects to be passed a constructor function. Please pass one or use anything() to match any object.");super(t)}fnNameFor(t){if(t.name)return t.name;const i=Function.prototype.toString.call(t).match(/^(?:async)?\s*function\s*\*?\s*([\w$]+)\s*\(/);return i?i[1]:"<anonymous>"}asymmetricMatch(t){return this.sample===String?typeof t=="string"||t instanceof String:this.sample===Number?typeof t=="number"||t instanceof Number:this.sample===Function?typeof t=="function"||t instanceof Function:this.sample===Boolean?typeof t=="boolean"||t instanceof Boolean:this.sample===BigInt?typeof t=="bigint"||t instanceof BigInt:this.sample===Symbol?typeof t=="symbol"||t instanceof Symbol:this.sample===Object?typeof t=="object":t instanceof this.sample}toString(){return"Any"}getExpectedType(){return this.sample===String?"string":this.sample===Number?"number":this.sample===Function?"function":this.sample===Object?"object":this.sample===Boolean?"boolean":this.fnNameFor(this.sample)}toAsymmetricMatcher(){return`Any<${this.fnNameFor(this.sample)}>`}}class qo extends lt{constructor(t,n=!1){if(!et("String",t)&&!et("RegExp",t))throw new Error("Expected is not a String or a RegExp");super(new RegExp(t),n)}asymmetricMatch(t){const n=et("String",t)&&this.sample.test(t);return this.inverse?!n:n}toString(){return`String${this.inverse?"Not":""}Matching`}getExpectedType(){return"string"}}const kf=(e,t)=>{t.addMethod(e.expect,"anything",()=>new Nf),t.addMethod(e.expect,"any",n=>new If(n)),t.addMethod(e.expect,"stringContaining",n=>new Ro(n)),t.addMethod(e.expect,"objectContaining",n=>new Bo(n)),t.addMethod(e.expect,"arrayContaining",n=>new Lo(n)),t.addMethod(e.expect,"stringMatching",n=>new qo(n)),e.expect.not={stringContaining:n=>new Ro(n,!0),objectContaining:n=>new Bo(n,!0),arrayContaining:n=>new Lo(n,!0),stringMatching:n=>new qo(n,!0)}};function zo(e,t){return e&&t instanceof Promise&&(t=t.finally(()=>{const n=e.promises.indexOf(t);n!==-1&&e.promises.splice(n,1)}),e.promises||(e.promises=[]),e.promises.push(t)),t}function ji(e,t){return function(...n){var i;const r=e.flag(this,"vitest-test");if(!(r!=null&&r.context._local?r.context.expect.getState():vt(globalThis[Ht])).soft)return t.apply(this,n);if(!r)throw new Error("expect.soft() can only be used inside a test");try{return t.apply(this,n)}catch(o){r.result||(r.result={state:"fail"}),r.result.state="fail",(i=r.result).errors||(i.errors=[]),r.result.errors.push(du(o))}}}const jf=(e,t)=>{const n=()=>wr();function i(u,l){const f=y=>{const S=ji(t,l);t.addMethod(e.Assertion.prototype,y,S),t.addMethod(globalThis[Ar].matchers,y,S)};Array.isArray(u)?u.forEach(y=>f(y)):f(u)}["throw","throws","Throw"].forEach(u=>{t.overwriteMethod(e.Assertion.prototype,u,l=>function(...f){const y=t.flag(this,"promise"),S=t.flag(this,"object"),x=t.flag(this,"negate");if(y==="rejects")t.flag(this,"object",()=>{throw S});else if(y==="resolves"&&typeof S!="function"){if(x)return;{const $=t.flag(this,"message")||"expected promise to throw an error, but it didn't",j={showDiff:!1};throw new Po($,j,t.flag(this,"ssfi"))}}l.apply(this,f)})}),i("withTest",function(u){return t.flag(this,"vitest-test",u),this}),i("toEqual",function(u){const l=t.flag(this,"object"),f=ue(l,u,[Me]);return this.assert(f,"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",u,l)}),i("toStrictEqual",function(u){const l=t.flag(this,"object"),f=ue(l,u,[Me,cr,Fo,Do],!0);return this.assert(f,"expected #{this} to strictly equal #{exp}","expected #{this} to not strictly equal #{exp}",u,l)}),i("toBe",function(u){const l=this._obj,f=Object.is(l,u);let y="";return f||(ue(l,u,[Me,cr,Fo,Do],!0)?y="toStrictEqual":ue(l,u,[Me])&&(y="toEqual")),this.assert(f,Pf(y),"expected #{this} not to be #{exp} // Object.is equality",u,l)}),i("toMatchObject",function(u){const l=this._obj;return this.assert(ue(l,u,[Me,Cn]),"expected #{this} to match object #{exp}","expected #{this} to not match object #{exp}",u,l)}),i("toMatch",function(u){return typeof u=="string"?this.include(u):this.match(u)}),i("toContain",function(u){return this.contain(u)}),i("toContainEqual",function(u){const l=t.flag(this,"object"),f=Array.from(l).findIndex(y=>ue(y,u));this.assert(f!==-1,"expected #{this} to deep equally contain #{exp}","expected #{this} to not deep equally contain #{exp}",u)}),i("toBeTruthy",function(){const u=t.flag(this,"object");this.assert(Boolean(u),"expected #{this} to be truthy","expected #{this} to not be truthy",u,!1)}),i("toBeFalsy",function(){const u=t.flag(this,"object");this.assert(!u,"expected #{this} to be falsy","expected #{this} to not be falsy",u,!1)}),i("toBeGreaterThan",function(u){const l=this._obj;return We(l,"actual",["number","bigint"]),We(u,"expected",["number","bigint"]),this.assert(l>u,`expected ${l} to be greater than ${u}`,`expected ${l} to be not greater than ${u}`,l,u,!1)}),i("toBeGreaterThanOrEqual",function(u){const l=this._obj;return We(l,"actual",["number","bigint"]),We(u,"expected",["number","bigint"]),this.assert(l>=u,`expected ${l} to be greater than or equal to ${u}`,`expected ${l} to be not greater than or equal to ${u}`,l,u,!1)}),i("toBeLessThan",function(u){const l=this._obj;return We(l,"actual",["number","bigint"]),We(u,"expected",["number","bigint"]),this.assert(l<u,`expected ${l} to be less than ${u}`,`expected ${l} to be not less than ${u}`,l,u,!1)}),i("toBeLessThanOrEqual",function(u){const l=this._obj;return We(l,"actual",["number","bigint"]),We(u,"expected",["number","bigint"]),this.assert(l<=u,`expected ${l} to be less than or equal to ${u}`,`expected ${l} to be not less than or equal to ${u}`,l,u,!1)}),i("toBeNaN",function(){return this.be.NaN}),i("toBeUndefined",function(){return this.be.undefined}),i("toBeNull",function(){return this.be.null}),i("toBeDefined",function(){const u=t.flag(this,"negate");return t.flag(this,"negate",!1),u?this.be.undefined:this.not.be.undefined}),i("toBeTypeOf",function(u){const l=typeof this._obj,f=u===l;return this.assert(f,"expected #{this} to be type of #{exp}","expected #{this} not to be type of #{exp}",u,l)}),i("toBeInstanceOf",function(u){return this.instanceOf(u)}),i("toHaveLength",function(u){return this.have.length(u)}),i("toHaveProperty",function(...u){Array.isArray(u[0])&&(u[0]=u[0].map(k=>String(k).replace(/([.[\]])/g,"\\$1")).join("."));const l=this._obj,[f,y]=u,S=()=>Object.prototype.hasOwnProperty.call(l,f)?{value:l[f],exists:!0}:t.getPathInfo(l,f),{value:x,exists:$}=S(),j=$&&(u.length===1||ue(y,x)),z=u.length===1?"":` with value ${t.objDisplay(y)}`;return this.assert(j,`expected #{this} to have property "${f}"${z}`,`expected #{this} to not have property "${f}"${z}`,l)}),i("toBeCloseTo",function(u,l=2){const f=this._obj;let y=!1,S=0,x=0;return u===Number.POSITIVE_INFINITY&&f===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY&&f===Number.NEGATIVE_INFINITY?y=!0:(S=10**-l/2,x=Math.abs(f-u),y=x<S),this.assert(y,`expected #{this} to be close to #{exp}, received difference is ${x}, but expected ${S}`,`expected #{this} to not be close to #{exp}, received difference is ${x}, but expected ${S}`,u,f,!1)});const r=u=>{if(!Oi(u._obj))throw new TypeError(`${t.inspect(u._obj)} is not a spy or a call to a spy!`)},s=u=>(r(u),u._obj),o=u=>{const l=u%10,f=u%100;return l===1&&f!==11?`${u}st`:l===2&&f!==12?`${u}nd`:l===3&&f!==13?`${u}rd`:`${u}th`},a=(u,l,f)=>(u.mock.calls&&(l+=n().gray(`

Received: 

${u.mock.calls.map((y,S)=>{let x=n().bold(`  ${o(S+1)} ${u.getMockName()} call:

`);return f?x+=Ut(f,y,{omitAnnotationLines:!0}):x+=Ve(y).split(`
`).map($=>`    ${$}`).join(`
`),x+=`
`,x}).join(`
`)}`)),l+=n().gray(`

Number of calls: ${n().bold(u.mock.calls.length)}
`),l),c=(u,l,f)=>(l+=n().gray(`

Received: 

${u.mock.results.map((y,S)=>{let x=n().bold(`  ${o(S+1)} ${u.getMockName()} call return:

`);return f?x+=Ut(f,y.value,{omitAnnotationLines:!0}):x+=Ve(y).split(`
`).map($=>`    ${$}`).join(`
`),x+=`
`,x}).join(`
`)}`),l+=n().gray(`

Number of calls: ${n().bold(u.mock.calls.length)}
`),l);i(["toHaveBeenCalledTimes","toBeCalledTimes"],function(u){const l=s(this),f=l.getMockName(),y=l.mock.calls.length;return this.assert(y===u,`expected "${f}" to be called #{exp} times, but got ${y} times`,`expected "${f}" to not be called #{exp} times`,u,y,!1)}),i("toHaveBeenCalledOnce",function(){const u=s(this),l=u.getMockName(),f=u.mock.calls.length;return this.assert(f===1,`expected "${l}" to be called once, but got ${f} times`,`expected "${l}" to not be called once`,1,f,!1)}),i(["toHaveBeenCalled","toBeCalled"],function(){const u=s(this),l=u.getMockName(),f=u.mock.calls.length,y=f>0,S=t.flag(this,"negate");let x=t.getMessage(this,[y,`expected "${l}" to be called at least once`,`expected "${l}" to not be called at all, but actually been called ${f} times`,!0,y]);if(y&&S&&(x=a(u,x)),y&&S||!y&&!S){const $=new Error(x);throw $.name="AssertionError",$}}),i(["toHaveBeenCalledWith","toBeCalledWith"],function(...u){const l=s(this),f=l.getMockName(),y=l.mock.calls.some($=>ue($,u,[Me])),S=t.flag(this,"negate");let x=t.getMessage(this,[y,`expected "${f}" to be called with arguments: #{exp}`,`expected "${f}" to not be called with arguments: #{exp}`,u]);if(y&&S||!y&&!S){x=a(l,x,u);const $=new Error(x);throw $.name="AssertionError",$}}),i(["toHaveBeenNthCalledWith","nthCalledWith"],function(u,...l){const f=s(this),y=f.getMockName(),S=f.mock.calls[u-1];this.assert(ue(S,l,[Me]),`expected ${o(u)} "${y}" call to have been called with #{exp}`,`expected ${o(u)} "${y}" call to not have been called with #{exp}`,l,S)}),i(["toHaveBeenLastCalledWith","lastCalledWith"],function(...u){const l=s(this),f=l.getMockName(),y=l.mock.calls[l.mock.calls.length-1];this.assert(ue(y,u,[Me]),`expected last "${f}" call to have been called with #{exp}`,`expected last "${f}" call to not have been called with #{exp}`,u,y)}),i(["toThrow","toThrowError"],function(u){if(typeof u=="string"||typeof u=="undefined"||u instanceof RegExp)return this.throws(u);const l=this._obj,f=t.flag(this,"promise"),y=t.flag(this,"negate");let S=null;if(f==="rejects")S=l;else if(f==="resolves"&&typeof l!="function"){if(y)return;{const x=t.flag(this,"message")||"expected promise to throw an error, but it didn't",$={showDiff:!1};throw new Po(x,$,t.flag(this,"ssfi"))}}else try{l()}catch(x){S=x}if(typeof u=="function"){const x=u.name||u.prototype.constructor.name;return this.assert(S&&S instanceof u,`expected error to be instance of ${x}`,`expected error not to be instance of ${x}`,u,S,!1)}if(u instanceof Error)return this.assert(S&&u.message===S.message,`expected error to have message: ${u.message}`,`expected error not to have message: ${u.message}`,u.message,S&&S.message);if(typeof u=="object"&&"asymmetricMatch"in u&&typeof u.asymmetricMatch=="function"){const x=u;return this.assert(S&&x.asymmetricMatch(S),"expected error to match asymmetric matcher","expected error not to match asymmetric matcher",x.toString(),S,!1)}throw new Error(`"toThrow" expects string, RegExp, function, Error instance or asymmetric matcher, got "${typeof u}"`)}),i(["toHaveReturned","toReturn"],function(){const u=s(this),l=u.getMockName(),f=u.mock.calls.length>0&&u.mock.results.some(({type:y})=>y!=="throw");this.assert(f,`expected "${l}" to be successfully called at least once`,`expected "${l}" to not be successfully called`,f,!f,!1)}),i(["toHaveReturnedTimes","toReturnTimes"],function(u){const l=s(this),f=l.getMockName(),y=l.mock.results.reduce((S,{type:x})=>x==="throw"?S:++S,0);this.assert(y===u,`expected "${f}" to be successfully called ${u} times`,`expected "${f}" to not be successfully called ${u} times`,`expected number of returns: ${u}`,`received number of returns: ${y}`,!1)}),i(["toHaveReturnedWith","toReturnWith"],function(u){const l=s(this),f=l.getMockName(),y=l.mock.results.some(({type:$,value:j})=>$==="return"&&ue(u,j)),S=t.flag(this,"negate");let x=t.getMessage(this,[y,`expected "${f}" to return with: #{exp} at least once`,`expected "${f}" to not return with: #{exp}`,u]);if(y&&S||!y&&!S){x=c(l,x,u);const $=new Error(x);throw $.name="AssertionError",$}}),i(["toHaveLastReturnedWith","lastReturnedWith"],function(u){const l=s(this),f=l.getMockName(),{value:y}=l.mock.results[l.mock.results.length-1],S=ue(y,u);this.assert(S,`expected last "${f}" call to return #{exp}`,`expected last "${f}" call to not return #{exp}`,u,y)}),i(["toHaveNthReturnedWith","nthReturnedWith"],function(u,l){const f=s(this),y=f.getMockName(),S=t.flag(this,"negate"),{type:x,value:$}=f.mock.results[u-1],j=`${o(u)} call`;!S&&x==="throw"&&e.assert.fail(`expected ${j} to return #{exp}, but instead it threw an error`);const z=ue($,l);this.assert(z,`expected ${j} "${y}" call to return #{exp}`,`expected ${j} "${y}" call to not return #{exp}`,l,$)}),i("toSatisfy",function(u,l){return this.be.satisfy(u,l)}),t.addProperty(e.Assertion.prototype,"resolves",function(){t.flag(this,"promise","resolves"),t.flag(this,"error",new Error("resolves"));const l=t.flag(this,"vitest-test"),f=t.flag(this,"object");if(typeof(f==null?void 0:f.then)!="function")throw new TypeError(`You must provide a Promise to expect() when using .resolves, not '${typeof f}'.`);const y=new Proxy(this,{get:(S,x,$)=>{const j=Reflect.get(S,x,$);return typeof j!="function"?j instanceof e.Assertion?y:j:async(...z)=>{const k=f.then(q=>(t.flag(this,"object",q),j.call(this,...z)),q=>{throw new Error(`promise rejected "${String(q)}" instead of resolving`)});return zo(l,k)}}});return y}),t.addProperty(e.Assertion.prototype,"rejects",function(){t.flag(this,"promise","rejects"),t.flag(this,"error",new Error("rejects"));const l=t.flag(this,"vitest-test"),f=t.flag(this,"object"),y=typeof f=="function"?f():f;if(typeof(y==null?void 0:y.then)!="function")throw new TypeError(`You must provide a Promise to expect() when using .rejects, not '${typeof y}'.`);const S=new Proxy(this,{get:(x,$,j)=>{const z=Reflect.get(x,$,j);return typeof z!="function"?z instanceof e.Assertion?S:z:async(...k)=>{const q=y.then(N=>{throw new Error(`promise resolved "${String(N)}" instead of rejecting`)},N=>(t.flag(this,"object",N),z.call(this,...k)));return zo(l,q)}}});return S})};function Cf(e,t){const n=e._obj,i=dn.flag(e,"negate"),r=dn.flag(e,"promise")||"",s={...Ai(),diff:Ut,stringify:Ve,iterableEquality:Me,subsetEquality:Cn};return{state:{...vt(t),isNot:i,utils:s,promise:r,equals:ue,suppressedErrors:[]},isNot:i,obj:n}}class Wo extends Error{constructor(t,n,i){super(t),this.actual=n,this.expected=i}}function _f(e,t){return(n,i)=>{Object.entries(t).forEach(([r,s])=>{function o(...u){const{state:l,isNot:f,obj:y}=Cf(this,e),S=s.call(l,y,...u);if(S&&typeof S=="object"&&S instanceof Promise)return S.then(({pass:k,message:q,actual:N,expected:W})=>{if(k&&f||!k&&!f)throw new Wo(q(),N,W)});const{pass:x,message:$,actual:j,expected:z}=S;if(x&&f||!x&&!f)throw new Wo($(),j,z)}const a=ji(i,o);i.addMethod(globalThis[Ar].matchers,r,a),i.addMethod(n.Assertion.prototype,r,a);class c extends lt{constructor(l=!1,...f){super(f,l)}asymmetricMatch(l){const{pass:f}=s.call(this.getMatcherContext(e),l,...this.sample);return this.inverse?!f:f}toString(){return`${this.inverse?"not.":""}${r}`}getExpectedType(){return"any"}toAsymmetricMatcher(){return`${this.toString()}<${this.sample.map(String).join(", ")}>`}}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,value:(...u)=>new c(!1,...u),writable:!0}),Object.defineProperty(e.not,r,{configurable:!0,enumerable:!0,value:(...u)=>new c(!0,...u),writable:!0})})}}const Df=(e,t)=>{t.addMethod(e.expect,"extend",(n,i)=>{e.use(_f(n,i))})};function Ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ci={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var Vo=function(e,t){var n,i,r=1,s=0,o=0,a=String.alphabet;function c(u,l,f){if(f){for(n=l;f=c(u,n),f<76&&f>65;)++n;return+u.slice(l-1,n)}return f=a&&a.indexOf(u.charAt(l)),f>-1?f+76:(f=u.charCodeAt(l)||0,f<45||f>127?f:f<46?65:f<48?f-1:f<58?f+18:f<65?f-11:f<91?f+11:f<97?f-37:f<123?f+5:f-63)}if((e+="")!=(t+="")){for(;r;)if(i=c(e,s++),r=c(t,o++),i<76&&r<76&&i>66&&r>66&&(i=c(e,s,s),r=c(t,o,s=n),o=n),i!=r)return i<r?-1:1}return 0};try{Ci.exports=Vo}catch{String.naturalCompare=Vo}var Rf=Ci.exports,Bf=Ff(Rf);function _i(e){return e!=null}function Lf(e){return e===null||typeof e!="function"&&typeof e!="object"}function un(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function qf(e){let t=-1,n=null,i=0,r=0,s=null;for(;t<=e.length;){s=e[t],t++;const o=e[t];if((o==='"'||o==="'"||o==="`")&&s!=="\\"&&(n===o?n=null:n||(n=o)),n||(o==="("&&i++,o===")"&&r++),i&&r&&i===r)return t}return null}let zf=()=>"Promise{\u2026}";try{const{getPromiseDetails:e,kPending:t,kRejected:n}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(zf=(i,r)=>{const[s,o]=e(i);return s===t?"Promise{<pending>}":`Promise${s===n?"!":""}{${r.inspect(o,r)}}`})}catch{}let Uo=!1;try{const e=require("util");Uo=e.inspect?e.inspect.custom:!1}catch{Uo=!1}const Mr=/\r?\n/;function Wf(e,t,n){const i=e.split(Mr),r=/\r\n/.test(e)?2:1;let s=0;if(t>i.length)return e.length;for(let o=0;o<t-1;o++)s+=i[o].length+r;return s+n}function Vf(e,t){if(t>e.length)throw new Error(`offset is longer than source length! offset ${t} > length ${e.length}`);const n=e.split(Mr),i=/\r\n/.test(e)?2:1;let r=0,s=0;for(;s<n.length;s++){const o=n[s].length+i;if(r+o>=t)break;r+=o}return s+1}const Uf=(e,t,n,i,r,s)=>{const o=e.getMockName(),a=o==="vi.fn()"?"":` ${o}`;let c="";if(e.mock.calls.length!==0){const u=n+t.indent;c=` {${t.spacingOuter}${u}"calls": ${s(e.mock.calls,t,u,i,r)}${t.min?", ":","}${t.spacingOuter}${u}"results": ${s(e.mock.results,t,u,i,r)}${t.min?"":","}${t.spacingOuter}${n}}`}return`[MockFunction${a}]${c}`},Kf=e=>e&&!!e._isMockFunction,Gf={serialize:Uf,test:Kf},{DOMCollection:Jf,DOMElement:Yf,Immutable:Hf,ReactElement:Xf,ReactTestComponent:Qf,AsymmetricMatcher:Zf}=Mn;let ur=[Qf,Xf,Yf,Jf,Hf,Zf,Gf];function eh(e){ur=[e].concat(ur)}function th(){return ur}function nh(e,t){return`${e} ${t}`}function rh(e){if(!/ \d+$/.test(e))throw new Error("Snapshot keys must end with a number.");return e.replace(/ \d+$/,"")}function oh(e,t){const n=t.updateSnapshot,i=Object.create(null);let r="",s=!1;if(e!=null)try{r=e,new Function("exports",r)(i)}catch{}return(n==="all"||n==="new")&&r&&(s=!0),{data:i,dirty:s}}function sh(e){return e.includes(`
`)?`
${e}
`:e}function Ko(e){return e.length>2&&e.startsWith(`
`)&&e.endsWith(`
`)?e.slice(1,-1):e}const ih=!0,ah=!1;function ch(e,t=2,n={}){return Pr(_e(e,{escapeRegex:ih,indent:t,plugins:th(),printFunctionName:ah,...n}))}function uh(e){return e.replace(/`|\\|\${/g,"\\$&")}function Go(e){return`\`${uh(e)}\``}async function lh(e,t){try{await e.prepareDirectory(bu(vu(t)))}catch{}}function Pr(e){return e.replace(/\r\n|\r/g,`
`)}async function fh(e,t,n){const i=Object.keys(t).sort(Bf).map(a=>`exports[${Go(a)}] = ${Go(Pr(t[a]))};`),r=`${e.getHeader()}

${i.join(`

`)}
`,s=await e.readSnapshotFile(n);s!=null&&s===r||(await lh(e,n),await e.saveSnapshotFile(n,r))}function Jo(e){function t(){var r,s;const o=/^( +)}\s+$/m.exec(e||""),a=(r=o==null?void 0:o[1])==null?void 0:r.length;if(a)return a;const c=/^\n( +)"/.exec(e||"");return((s=c==null?void 0:c[1])==null?void 0:s.length)||0}const n=t();let i=e==null?void 0:e.trim();return n&&(i=i==null?void 0:i.replace(new RegExp(`^${" ".repeat(n)}`,"gm"),"").replace(/ +}$/,"}")),i}function lr(e=[],t=[]){const n=Array.from(e);return t.forEach((i,r)=>{const s=n[r];Array.isArray(e[r])?n[r]=lr(e[r],i):un(s)?n[r]=Nr(e[r],i):n[r]=i}),n}function Nr(e,t){if(un(e)&&un(t)){const n={...e};return Object.keys(t).forEach(i=>{un(t[i])&&!t[i].$$typeof?i in e?n[i]=Nr(e[i],t[i]):Object.assign(n,{[i]:t[i]}):Array.isArray(t[i])?n[i]=lr(e[i],t[i]):Object.assign(n,{[i]:t[i]})}),n}else if(Array.isArray(e)&&Array.isArray(t))return lr(e,t);return e}function hh(e=""){return!e||!e.includes("\\")?e:e.replace(/\\/g,"/")}const ph=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function dh(){return typeof process!="undefined"?process.cwd().replace(/\\/g,"/"):"/"}const mh=function(...e){e=e.map(i=>hh(i));let t="",n=!1;for(let i=e.length-1;i>=-1&&!n;i--){const r=i>=0?e[i]:dh();!r||r.length===0||(t=`${r}/${t}`,n=Yo(r))}return t=yh(t,!n),n&&!Yo(t)?`/${t}`:t.length>0?t:"."};function yh(e,t){let n="",i=0,r=-1,s=0,o=null;for(let a=0;a<=e.length;++a){if(a<e.length)o=e[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||s===1))if(s===2){if(n.length<2||i!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const c=n.lastIndexOf("/");c===-1?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=a,s=0;continue}else if(n.length>0){n="",i=0,r=a,s=0;continue}}t&&(n+=n.length>0?"/..":"..",i=2)}else n.length>0?n+=`/${e.slice(r+1,a)}`:n=e.slice(r+1,a),i=a-r-1;r=a,s=0}else o==="."&&s!==-1?++s:s=-1}return n}const Yo=function(e){return ph.test(e)},gh=",".charCodeAt(0),Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bh=new Uint8Array(64),Di=new Uint8Array(128);for(let e=0;e<Ho.length;e++){const t=Ho.charCodeAt(e);bh[e]=t,Di[t]=e}function wh(e){const t=new Int32Array(5),n=[];let i=0;do{const r=vh(e,i),s=[];let o=!0,a=0;t[0]=0;for(let c=i;c<r;c++){let u;c=Ct(e,c,t,0);const l=t[0];l<a&&(o=!1),a=l,Xo(e,c,r)?(c=Ct(e,c,t,1),c=Ct(e,c,t,2),c=Ct(e,c,t,3),Xo(e,c,r)?(c=Ct(e,c,t,4),u=[l,t[1],t[2],t[3],t[4]]):u=[l,t[1],t[2],t[3]]):u=[l],s.push(u)}o||Sh(s),n.push(s),i=r+1}while(i<=e.length);return n}function vh(e,t){const n=e.indexOf(";",t);return n===-1?e.length:n}function Ct(e,t,n,i){let r=0,s=0,o=0;do{const c=e.charCodeAt(t++);o=Di[c],r|=(o&31)<<s,s+=5}while(o&32);const a=r&1;return r>>>=1,a&&(r=-2147483648|-r),n[i]+=r,t}function Xo(e,t,n){return t>=n?!1:e.charCodeAt(t)!==gh}function Sh(e){e.sort(Eh)}function Eh(e,t){return e[0]-t[0]}const xh=/^[\w+.-]+:\/\//,Th=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,Oh=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;var me;(function(e){e[e.Empty=1]="Empty",e[e.Hash=2]="Hash",e[e.Query=3]="Query",e[e.RelativePath=4]="RelativePath",e[e.AbsolutePath=5]="AbsolutePath",e[e.SchemeRelative=6]="SchemeRelative",e[e.Absolute=7]="Absolute"})(me||(me={}));function $h(e){return xh.test(e)}function Ah(e){return e.startsWith("//")}function Fi(e){return e.startsWith("/")}function Mh(e){return e.startsWith("file:")}function Qo(e){return/^[.?#]/.test(e)}function rn(e){const t=Th.exec(e);return Ri(t[1],t[2]||"",t[3],t[4]||"",t[5]||"/",t[6]||"",t[7]||"")}function Ph(e){const t=Oh.exec(e),n=t[2];return Ri("file:","",t[1]||"","",Fi(n)?n:"/"+n,t[3]||"",t[4]||"")}function Ri(e,t,n,i,r,s,o){return{scheme:e,user:t,host:n,port:i,path:r,query:s,hash:o,type:me.Absolute}}function Zo(e){if(Ah(e)){const n=rn("http:"+e);return n.scheme="",n.type=me.SchemeRelative,n}if(Fi(e)){const n=rn("http://foo.com"+e);return n.scheme="",n.host="",n.type=me.AbsolutePath,n}if(Mh(e))return Ph(e);if($h(e))return rn(e);const t=rn("http://foo.com/"+e);return t.scheme="",t.host="",t.type=e?e.startsWith("?")?me.Query:e.startsWith("#")?me.Hash:me.RelativePath:me.Empty,t}function Nh(e){if(e.endsWith("/.."))return e;const t=e.lastIndexOf("/");return e.slice(0,t+1)}function Ih(e,t){Bi(t,t.type),e.path==="/"?e.path=t.path:e.path=Nh(t.path)+e.path}function Bi(e,t){const n=t<=me.RelativePath,i=e.path.split("/");let r=1,s=0,o=!1;for(let c=1;c<i.length;c++){const u=i[c];if(!u){o=!0;continue}if(o=!1,u!=="."){if(u===".."){s?(o=!0,s--,r--):n&&(i[r++]=u);continue}i[r++]=u,s++}}let a="";for(let c=1;c<r;c++)a+="/"+i[c];(!a||o&&!a.endsWith("/.."))&&(a+="/"),e.path=a}function kh(e,t){if(!e&&!t)return"";const n=Zo(e);let i=n.type;if(t&&i!==me.Absolute){const s=Zo(t),o=s.type;switch(i){case me.Empty:n.hash=s.hash;case me.Hash:n.query=s.query;case me.Query:case me.RelativePath:Ih(n,s);case me.AbsolutePath:n.user=s.user,n.host=s.host,n.port=s.port;case me.SchemeRelative:n.scheme=s.scheme}o>i&&(i=o)}Bi(n,i);const r=n.query+n.hash;switch(i){case me.Hash:case me.Query:return r;case me.RelativePath:{const s=n.path.slice(1);return s?Qo(t||e)&&!Qo(s)?"./"+s+r:s+r:r||"."}case me.AbsolutePath:return n.path+r;default:return n.scheme+"//"+n.user+n.host+n.port+n.path+r}}function es(e,t){return t&&!t.endsWith("/")&&(t+="/"),kh(e,t)}function jh(e){if(!e)return"";const t=e.lastIndexOf("/");return e.slice(0,t+1)}const nt=0,Ch=1,_h=2,Dh=3,Fh=4;function Rh(e,t){const n=ts(e,0);if(n===e.length)return e;t||(e=e.slice());for(let i=n;i<e.length;i=ts(e,i+1))e[i]=Lh(e[i],t);return e}function ts(e,t){for(let n=t;n<e.length;n++)if(!Bh(e[n]))return n;return e.length}function Bh(e){for(let t=1;t<e.length;t++)if(e[t][nt]<e[t-1][nt])return!1;return!0}function Lh(e,t){return t||(e=e.slice()),e.sort(qh)}function qh(e,t){return e[nt]-t[nt]}let yn=!1;function zh(e,t,n,i){for(;n<=i;){const r=n+(i-n>>1),s=e[r][nt]-t;if(s===0)return yn=!0,r;s<0?n=r+1:i=r-1}return yn=!1,n-1}function Wh(e,t,n){for(let i=n+1;i<e.length&&e[i][nt]===t;n=i++);return n}function Vh(e,t,n){for(let i=n-1;i>=0&&e[i][nt]===t;n=i--);return n}function Uh(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function Kh(e,t,n,i){const{lastKey:r,lastNeedle:s,lastIndex:o}=n;let a=0,c=e.length-1;if(i===r){if(t===s)return yn=o!==-1&&e[o][nt]===t,o;t>=s?a=o===-1?0:o:c=o}return n.lastKey=i,n.lastNeedle=t,n.lastIndex=zh(e,t,a,c)}const Gh="`line` must be greater than 0 (lines start at line 1)",Jh="`column` must be greater than or equal to 0 (columns start at column 0)",ns=-1,Yh=1;let rs,Li;class Hh{constructor(t,n){const i=typeof t=="string";if(!i&&t._decodedMemo)return t;const r=i?JSON.parse(t):t,{version:s,file:o,names:a,sourceRoot:c,sources:u,sourcesContent:l}=r;this.version=s,this.file=o,this.names=a,this.sourceRoot=c,this.sources=u,this.sourcesContent=l;const f=es(c||"",jh(n));this.resolvedSources=u.map(S=>es(S||"",f));const{mappings:y}=r;typeof y=="string"?(this._encoded=y,this._decoded=void 0):(this._encoded=void 0,this._decoded=Rh(y,i)),this._decodedMemo=Uh(),this._bySources=void 0,this._bySourceMemos=void 0}}rs=e=>e._decoded||(e._decoded=wh(e._encoded)),Li=(e,{line:t,column:n,bias:i})=>{if(t--,t<0)throw new Error(Gh);if(n<0)throw new Error(Jh);const r=rs(e);if(t>=r.length)return on(null,null,null,null);const s=r[t],o=Xh(s,e._decodedMemo,t,n,i||Yh);if(o===-1)return on(null,null,null,null);const a=s[o];if(a.length===1)return on(null,null,null,null);const{names:c,resolvedSources:u}=e;return on(u[a[Ch]],a[_h]+1,a[Dh],a.length===5?c[a[Fh]]:null)};function on(e,t,n,i){return{source:e,line:t,column:n,name:i}}function Xh(e,t,n,i,r){let s=Kh(e,i,t,n);return yn?s=(r===ns?Wh:Vh)(e,i,s):r===ns&&s++,s===-1||s===e.length?-1:s}const qi=/^\s*at .*(\S+:\d+|\(native\))/m,Qh=/^(eval@)?(\[native code])?$/,Zh=["node:internal",/\/packages\/\w+\/dist\//,/\/@vitest\/\w+\/dist\//,"/vitest/dist/","/vitest/src/","/vite-node/dist/","/vite-node/src/","/node_modules/chai/","/node_modules/tinypool/","/node_modules/tinyspy/","/deps/chai.js",/__vitest_browser__/];function zi(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let i=n[1];return(i.startsWith("http:")||i.startsWith("https:"))&&(i=new URL(i).pathname),i.startsWith("/@fs/")&&(i=i.slice(typeof process!="undefined"&&process.platform==="win32"?5:4)),[i,n[2]||void 0,n[3]||void 0]}function ep(e){let t=e.trim();if(Qh.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")&&!t.includes(":")))return null;const n=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(n),r=i&&i[1]?i[1]:void 0,[s,o,a]=zi(t.replace(n,""));return!s||!o||!a?null:{file:s,method:r||"",line:Number.parseInt(o),column:Number.parseInt(a)}}function tp(e){let t=e.trim();if(!qi.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const i=n.match(/ (\(.+\)$)/);n=i?n.replace(i[0],""):n;const[r,s,o]=zi(i?i[1]:n);let a=i&&n||"",c=r&&["eval","<anonymous>"].includes(r)?void 0:r;return!c||!s||!o?null:(a.startsWith("async ")&&(a=a.slice(6)),c.startsWith("file://")&&(c=c.slice(7)),c=mh(c),{method:a,file:c,line:Number.parseInt(s),column:Number.parseInt(o)})}function np(e,t={}){const{ignoreStackEntries:n=Zh}=t;let i=qi.test(e)?op(e):rp(e);return n.length&&(i=i.filter(r=>!n.some(s=>r.file.match(s)))),i.map(r=>{var s;const o=(s=t.getSourceMap)==null?void 0:s.call(t,r.file);if(!o||typeof o!="object"||!o.version)return r;const a=new Hh(o),{line:c,column:u}=Li(a,r);return c!=null&&u!=null?{...r,line:c,column:u}:r})}function rp(e){return e.split(`
`).map(t=>ep(t)).filter(_i)}function op(e){return e.split(`
`).map(t=>tp(t)).filter(_i)}function sp(e,t={}){if(!e||Lf(e))return[];if(e.stacks)return e.stacks;const n=e.stack||e.stackStr||"",i=np(n,t);return e.stacks=i,i}async function ip(e,t){const n=(await sa(()=>import("./magic-string.es.15c06fdf.js"),["assets/magic-string.es.15c06fdf.js","assets/game.6fe68dfe.js","assets/game.17ba6d58.css"])).default,i=new Set(t.map(r=>r.file));await Promise.all(Array.from(i).map(async r=>{const s=t.filter(u=>u.file===r),o=await e.readSnapshotFile(r),a=new n(o);for(const u of s){const l=Wf(o,u.line,u.column);lp(o,a,l,u.snapshot)}const c=a.toString();c!==o&&await e.saveSnapshotFile(r,c)}))}const ap=/(?:toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot)\s*\(\s*(?:\/\*[\S\s]*\*\/\s*|\/\/.*\s+)*\s*({)/m;function cp(e,t,n,i){e=e.slice(n);const r=ap.exec(e);if(!r)return!1;e=e.slice(r.index);const s=qf(e);return s===null?!1:(t.appendLeft(n+r.index+s,`, ${Wi(i,e,n)}`),!0)}function Wi(e,t,n){const i=Vf(t,n),s=t.split(Mr)[i-1].match(/^\s*/)[0]||"",o=s.includes("	")?`${s}	`:`${s}  `,a=e.trim().replace(/\\/g,"\\\\").split(/\n/g),c=a.length<=1,u=c?"'":"`";return c?`'${a.join(`
`).replace(/'/g,"\\'")}'`:`${u}
${a.map(l=>l?o+l:"").join(`
`).replace(/`/g,"\\`").replace(/\${/g,"\\${")}
${s}${u}`}const up=/(?:toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot)\s*\(\s*(?:\/\*[\S\s]*\*\/\s*|\/\/.*\s+)*\s*[\w_$]*(['"`\)])/m;function lp(e,t,n,i){const r=up.exec(e.slice(n));if(!r)return cp(e,t,n,i);const s=r[1],o=n+r.index+r[0].length,a=Wi(i,e,n);if(s===")")return t.appendRight(o-1,a),!0;const u=new RegExp(`(?:^|[^\\\\])${s}`).exec(e.slice(o));if(!u)return!1;const l=o+u.index+u[0].length;return t.overwrite(o-1,l,a),!0}const fp=/^([^\S\n]*)\S/m;function hp(e){const t=e.match(fp);if(!t||!t[1])return e;const n=t[1],i=e.split(/\n/g);if(i.length<=2||i[0].trim()!==""||i[i.length-1].trim()!=="")return e;for(let r=1;r<i.length-1;r++)if(i[r]!==""){if(i[r].indexOf(n)!==0)return e;i[r]=i[r].substring(n.length)}return i[i.length-1]="",e=i.join(`
`),e}async function pp(e,t){await Promise.all(t.map(async n=>{n.readonly||await e.saveSnapshotFile(n.file,n.snapshot)}))}class Ir{constructor(t,n,i,r){re(this,"_counters");re(this,"_dirty");re(this,"_updateSnapshot");re(this,"_snapshotData");re(this,"_initialData");re(this,"_inlineSnapshots");re(this,"_rawSnapshots");re(this,"_uncheckedKeys");re(this,"_snapshotFormat");re(this,"_environment");re(this,"_fileExists");re(this,"added");re(this,"expand");re(this,"matched");re(this,"unmatched");re(this,"updated");this.testFilePath=t,this.snapshotPath=n;const{data:s,dirty:o}=oh(i,r);this._fileExists=i!=null,this._initialData=s,this._snapshotData=s,this._dirty=o,this._inlineSnapshots=[],this._rawSnapshots=[],this._uncheckedKeys=new Set(Object.keys(this._snapshotData)),this._counters=new Map,this.expand=r.expand||!1,this.added=0,this.matched=0,this.unmatched=0,this._updateSnapshot=r.updateSnapshot,this.updated=0,this._snapshotFormat={printBasicPrototype:!1,...r.snapshotFormat},this._environment=r.snapshotEnvironment}static async create(t,n){const i=await n.snapshotEnvironment.resolvePath(t),r=await n.snapshotEnvironment.readSnapshotFile(i);return new Ir(t,i,r,n)}get environment(){return this._environment}markSnapshotsAsCheckedForTest(t){this._uncheckedKeys.forEach(n=>{rh(n)===t&&this._uncheckedKeys.delete(n)})}_inferInlineSnapshotStack(t){const n=t.findIndex(r=>r.method.match(/__VITEST_(RESOLVES|REJECTS)__/));if(n!==-1)return t[n+3];const i=t.findIndex(r=>r.method.includes("__INLINE_SNAPSHOT__"));return i!==-1?t[i+2]:null}_addSnapshot(t,n,i){if(this._dirty=!0,i.isInline){const r=sp(i.error||new Error("snapshot"),{ignoreStackEntries:[]}),s=this._inferInlineSnapshotStack(r);if(!s)throw new Error(`@vitest/snapshot: Couldn't infer stack frame for inline snapshot.
${JSON.stringify(r)}`);s.column--,this._inlineSnapshots.push({snapshot:n,...s})}else i.rawSnapshot?this._rawSnapshots.push({...i.rawSnapshot,snapshot:n}):this._snapshotData[t]=n}clear(){this._snapshotData=this._initialData,this._counters=new Map,this.added=0,this.matched=0,this.unmatched=0,this.updated=0,this._dirty=!1}async save(){const t=Object.keys(this._snapshotData).length,n=this._inlineSnapshots.length,i=this._rawSnapshots.length,r=!t&&!n&&!i,s={deleted:!1,saved:!1};return(this._dirty||this._uncheckedKeys.size)&&!r?(t&&(await fh(this._environment,this._snapshotData,this.snapshotPath),this._fileExists=!0),n&&await ip(this._environment,this._inlineSnapshots),i&&await pp(this._environment,this._rawSnapshots),s.saved=!0):!t&&this._fileExists&&(this._updateSnapshot==="all"&&(await this._environment.removeSnapshotFile(this.snapshotPath),this._fileExists=!1),s.deleted=!0),s}getUncheckedCount(){return this._uncheckedKeys.size||0}getUncheckedKeys(){return Array.from(this._uncheckedKeys)}removeUncheckedKeys(){this._updateSnapshot==="all"&&this._uncheckedKeys.size&&(this._dirty=!0,this._uncheckedKeys.forEach(t=>delete this._snapshotData[t]),this._uncheckedKeys.clear())}match({testName:t,received:n,key:i,inlineSnapshot:r,isInline:s,error:o,rawSnapshot:a}){this._counters.set(t,(this._counters.get(t)||0)+1);const c=Number(this._counters.get(t));i||(i=nh(t,c)),s&&this._snapshotData[i]!==void 0||this._uncheckedKeys.delete(i);let u=a&&typeof n=="string"?n:ch(n,void 0,this._snapshotFormat);a||(u=sh(u)),a&&a.content&&a.content.match(/\r\n/)&&!u.match(/\r\n/)&&(a.content=Pr(a.content));const l=s?r:a?a.content:this._snapshotData[i],f=Jo(l),y=f===Jo(u),S=l!==void 0,x=s||this._fileExists||a&&a.content!=null;return y&&!s&&!a&&(this._snapshotData[i]=u),S&&this._updateSnapshot==="all"||(!S||!x)&&(this._updateSnapshot==="new"||this._updateSnapshot==="all")?(this._updateSnapshot==="all"?y?this.matched++:(S?this.updated++:this.added++,this._addSnapshot(i,u,{error:o,isInline:s,rawSnapshot:a})):(this._addSnapshot(i,u,{error:o,isInline:s,rawSnapshot:a}),this.added++),{actual:"",count:c,expected:"",key:i,pass:!0}):y?(this.matched++,{actual:"",count:c,expected:"",key:i,pass:!0}):(this.unmatched++,{actual:Ko(u),count:c,expected:f!==void 0?Ko(f):void 0,key:i,pass:!1})}async pack(){const t={filepath:this.testFilePath,added:0,fileDeleted:!1,matched:0,unchecked:0,uncheckedKeys:[],unmatched:0,updated:0},n=this.getUncheckedCount(),i=this.getUncheckedKeys();n&&this.removeUncheckedKeys();const r=await this.save();return t.fileDeleted=r.deleted,t.added=this.added,t.matched=this.matched,t.unmatched=this.unmatched,t.updated=this.updated,t.unchecked=r.deleted?0:n,t.uncheckedKeys=Array.from(i),t}}function os(e,t,n){const i=new Error(e);return Object.defineProperty(i,"actual",{value:t,enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(i,"expected",{value:n,enumerable:!0,configurable:!0,writable:!0}),i}class dp{constructor(t=Ir){re(this,"filepath");re(this,"name");re(this,"snapshotState");re(this,"snapshotStateMap",new Map);this.Service=t}async setTest(t,n,i){var r;this.filepath=t,this.name=n,((r=this.snapshotState)==null?void 0:r.testFilePath)!==t&&(this.resetCurrent(),this.getSnapshotState(t)||this.snapshotStateMap.set(t,await this.Service.create(t,i)),this.snapshotState=this.getSnapshotState(t))}getSnapshotState(t){return this.snapshotStateMap.get(t)}clearTest(){this.filepath=void 0,this.name=void 0}skipTestSnapshots(t){var n;(n=this.snapshotState)==null||n.markSnapshotsAsCheckedForTest(t)}equalityCheck(t,n){return t===n}assert(t){const{filepath:n=this.filepath,name:i=this.name,message:r,isInline:s=!1,properties:o,inlineSnapshot:a,error:c,errorMessage:u,rawSnapshot:l}=t;let{received:f}=t;if(!n)throw new Error("Snapshot cannot be used outside of test");if(typeof o=="object"){if(typeof f!="object"||!f)throw new Error("Received value must be an object when the matcher has properties");try{if(this.equalityCheck(f,o))f=Nr(f,o);else throw os("Snapshot properties mismatched",f,o)}catch(k){throw k.message=u||"Snapshot mismatched",k}}const y=[i,...r?[r]:[]].join(" > "),S=this.getSnapshotState(n),{actual:x,expected:$,key:j,pass:z}=S.match({testName:y,received:f,isInline:s,error:c,inlineSnapshot:a,rawSnapshot:l});if(!z)throw os(`Snapshot \`${j||"unknown"}\` mismatched`,x==null?void 0:x.trim(),$==null?void 0:$.trim())}async assertRaw(t){if(!t.rawSnapshot)throw new Error("Raw snapshot is required");const{filepath:n=this.filepath,rawSnapshot:i}=t;if(i.content==null){if(!n)throw new Error("Snapshot cannot be used outside of test");const r=this.getSnapshotState(n);t.filepath||(t.filepath=n),i.file=await r.environment.resolveRawPath(n,i.file),i.content=await r.environment.readSnapshotFile(i.file)||void 0}return this.assert(t)}async resetCurrent(){if(!this.snapshotState)return null;const t=await this.snapshotState.pack();return this.snapshotState=void 0,t}clear(){this.snapshotStateMap.clear()}}function mp(e,t=" > "){return si(e).join(t)}function yp(e=""){return!e||!e.includes("\\")?e:e.replace(/\\/g,"/")}const gp=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function bp(){return typeof process!="undefined"?process.cwd().replace(/\\/g,"/"):"/"}const wp=function(...e){e=e.map(i=>yp(i));let t="",n=!1;for(let i=e.length-1;i>=-1&&!n;i--){const r=i>=0?e[i]:bp();!r||r.length===0||(t=`${r}/${t}`,n=ss(r))}return t=vp(t,!n),n&&!ss(t)?`/${t}`:t.length>0?t:"."};function vp(e,t){let n="",i=0,r=-1,s=0,o=null;for(let a=0;a<=e.length;++a){if(a<e.length)o=e[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(r===a-1||s===1))if(s===2){if(n.length<2||i!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const c=n.lastIndexOf("/");c===-1?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=a,s=0;continue}else if(n.length>0){n="",i=0,r=a,s=0;continue}}t&&(n+=n.length>0?"/..":"..",i=2)}else n.length>0?n+=`/${e.slice(r+1,a)}`:n=e.slice(r+1,a),i=a-r-1;r=a,s=0}else o==="."&&s!==-1?++s:s=-1}return n}const ss=function(e){return gp.test(e)},is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sp=new Uint8Array(64),Ep=new Uint8Array(128);for(let e=0;e<is.length;e++){const t=is.charCodeAt(e);Sp[e]=t,Ep[t]=e}var as;(function(e){e[e.Empty=1]="Empty",e[e.Hash=2]="Hash",e[e.Query=3]="Query",e[e.RelativePath=4]="RelativePath",e[e.AbsolutePath=5]="AbsolutePath",e[e.SchemeRelative=6]="SchemeRelative",e[e.Absolute=7]="Absolute"})(as||(as={}));const Vi=/^\s*at .*(\S+:\d+|\(native\))/m,xp=/^(eval@)?(\[native code])?$/;function Ui(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let i=n[1];return(i.startsWith("http:")||i.startsWith("https:"))&&(i=new URL(i).pathname),i.startsWith("/@fs/")&&(i=i.slice(typeof process!="undefined"&&process.platform==="win32"?5:4)),[i,n[2]||void 0,n[3]||void 0]}function Tp(e){let t=e.trim();if(xp.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")&&!t.includes(":")))return null;const n=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(n),r=i&&i[1]?i[1]:void 0,[s,o,a]=Ui(t.replace(n,""));return!s||!o||!a?null:{file:s,method:r||"",line:Number.parseInt(o),column:Number.parseInt(a)}}function Op(e){const t=e.trim();return Vi.test(t)?$p(t):Tp(t)}function $p(e){let t=e.trim();if(!Vi.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const i=n.match(/ (\(.+\)$)/);n=i?n.replace(i[0],""):n;const[r,s,o]=Ui(i?i[1]:n);let a=i&&n||"",c=r&&["eval","<anonymous>"].includes(r)?void 0:r;return!c||!s||!o?null:(a.startsWith("async ")&&(a=a.slice(6)),c.startsWith("file://")&&(c=c.slice(7)),c=wp(c),{method:a,file:c,line:Number.parseInt(s),column:Number.parseInt(o)})}var Ap={};const Ce=Date;let fr=null;class $t extends Ce{constructor(t,n,i,r,s,o,a){super();let c;switch(arguments.length){case 0:fr!==null?c=new Ce(fr.valueOf()):c=new Ce;break;case 1:c=new Ce(t);break;default:i=typeof i=="undefined"?1:i,r=r||0,s=s||0,o=o||0,a=a||0,c=new Ce(t,n,i,r,s,o,a);break}return c}}$t.UTC=Ce.UTC;$t.now=function(){return new $t().valueOf()};$t.parse=function(e){return Ce.parse(e)};$t.toString=function(){return Ce.toString()};function Mp(e){const t=new Ce(e.valueOf());if(Number.isNaN(t.getTime()))throw new TypeError(`mockdate: The time set is an invalid date: ${e}`);globalThis.Date=$t,fr=t.valueOf()}function Pp(){globalThis.Date=Ce}function Np(e,t=!1){const n=[/\/vitest\/dist\//,/\/vite-node\/dist\//,/vitest-virtual-\w+\/dist/,/@vitest\/dist/,...t?[]:[/^mock:/]];e.forEach((i,r)=>{n.some(s=>s.test(r))||e.invalidateModule(i)})}function Ip(){const{setTimeout:e}=Js();return new Promise(t=>e(t,0))}async function Ki(){await Ip();const e=Ge(),t=[];let n=0;for(const i of e.moduleCache.values())i.promise&&!i.evaluated&&t.push(i.promise),i.resolving&&n++;!t.length&&!n||(await Promise.allSettled(t),await Ki())}const kp=new WeakMap,jp=new WeakMap;Cp(function(e,t=hs,n={}){if(!zu())throw new Error("`bench()` is only available in benchmark mode.");const i=Pn().custom.call(this,_p(e));i.meta={benchmark:!0},kp.set(i,t),jp.set(i,n)});function Cp(e){const t=Er(["skip","only","todo"],e);return t.skipIf=n=>n?t.skip:t,t.runIf=n=>n?t:t.skip,t}function _p(e){return typeof e=="string"?e:e instanceof Function?e.name||"<anonymous>":String(e)}function Gi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ji={exports:{}};(function(e,t){(function(){(function(n){return typeof Gi=="function"&&!0?e.exports=n:chai.use(n)})(function(n,i){var r=n.Assertion,s=r.prototype;r.addMethod("containSubset",function(a){var c=i.flag(this,"object"),u=n.config.showDiff;s.assert.call(this,o(a,c),"expected #{act} to contain subset #{exp}","expected #{act} to not contain subset #{exp}",a,c,u)}),n.assert.containSubset=function(a,c,u){new n.Assertion(a,u).to.be.containSubset(c)};function o(a,c){if(a===c)return!0;if(typeof c!=typeof a)return!1;if(typeof a!="object"||a===null)return a===c;if(!!a&&!c)return!1;if(Array.isArray(a)){if(typeof c.length!="number")return!1;var u=Array.prototype.slice.call(c);return a.every(function(l){return u.some(function(f){return o(l,f)})})}return a instanceof Date?c instanceof Date?a.getTime()===c.getTime():!1:Object.keys(a).every(function(l){var f=a[l],y=c[l];return typeof f=="object"&&f!==null&&y!==null?o(f,y):typeof f=="function"?f(y):y===f})}})}).call(Kt)})(Ji);var Dp=Ji.exports,Fp=df(Dp);const cs=Symbol.for("matchers-object"),Rp=Symbol.for("$$jest-matchers-object"),Bp=Symbol.for("expect-global");if(!Object.prototype.hasOwnProperty.call(globalThis,cs)){const e=new WeakMap,t=Object.create(null);Object.defineProperty(globalThis,cs,{get:()=>e}),Object.defineProperty(globalThis,Rp,{configurable:!0,get:()=>({state:e.get(globalThis[Bp]),matchers:t})})}function Lp(e,t){return e&&t instanceof Promise&&(t=t.finally(()=>{const n=e.promises.indexOf(t);n!==-1&&e.promises.splice(n,1)}),e.promises||(e.promises=[]),e.promises.push(t)),t}class qp extends dp{equalityCheck(t,n){return ue(t,n,[Me,Cn])}}let Qn;function _t(){return Qn||(Qn=new qp),Qn}function us(e){return e instanceof Error?e.message:e}function ls(e,t){if(typeof e!="function"){if(!t)throw new Error(`expected must be a function, received ${typeof e}`);return us(e)}try{e()}catch(n){return us(n)}throw new Error("snapshot function didn't throw")}const zp=(e,t)=>{const n=i=>{var r;return i?{filepath:(r=i.file)==null?void 0:r.filepath,name:si(i).slice(1).join(" > ")}:{}};for(const i of["matchSnapshot","toMatchSnapshot"])t.addMethod(e.Assertion.prototype,i,function(r,s){const o=t.flag(this,"object"),a=t.flag(this,"vitest-test");typeof r=="string"&&typeof s=="undefined"&&(s=r,r=void 0);const c=t.flag(this,"message");_t().assert({received:o,message:s,isInline:!1,properties:r,errorMessage:c,...n(a)})});t.addMethod(e.Assertion.prototype,"toMatchFileSnapshot",function(i,r){const s=t.flag(this,"object"),o=t.flag(this,"vitest-test"),a=t.flag(this,"message"),c=_t().assertRaw({received:s,message:r,isInline:!1,rawSnapshot:{file:i},errorMessage:a,...n(o)});return Lp(o,c)}),t.addMethod(e.Assertion.prototype,"toMatchInlineSnapshot",function(r,s,o){var a;const c=t.flag(this,"vitest-test");if(c&&(c.each||((a=c.suite)==null?void 0:a.each)))throw new Error("InlineSnapshot cannot be used inside of test.each or describe.each");const l=t.flag(this,"object"),f=t.flag(this,"error");typeof r=="string"&&(o=s,s=r,r=void 0),s&&(s=hp(s));const y=t.flag(this,"message");_t().assert({received:l,message:o,isInline:!0,properties:r,inlineSnapshot:s,error:f,errorMessage:y,...n(c)})}),t.addMethod(e.Assertion.prototype,"toThrowErrorMatchingSnapshot",function(i){const r=t.flag(this,"object"),s=t.flag(this,"vitest-test"),o=t.flag(this,"promise"),a=t.flag(this,"message");_t().assert({received:ls(r,o),message:i,errorMessage:a,...n(s)})}),t.addMethod(e.Assertion.prototype,"toThrowErrorMatchingInlineSnapshot",function(r,s){var o;const a=t.flag(this,"vitest-test");if(a&&(a.each||((o=a.suite)==null?void 0:o.each)))throw new Error("InlineSnapshot cannot be used inside of test.each or describe.each");const u=t.flag(this,"object"),l=t.flag(this,"error"),f=t.flag(this,"promise"),y=t.flag(this,"message");_t().assert({received:ls(u,f),message:s,inlineSnapshot:r,isInline:!0,error:l,errorMessage:y,...n(a)})}),t.addMethod(e.expect,"addSnapshotSerializer",eh)};Yt(Df);Yt(jf);Yt(Fp);Yt(zp);Yt(kf);function Wp(e){var t;const n=(o,a)=>{const{assertionCalls:c}=vt(n);Xn({assertionCalls:c+1,soft:!1},n);const u=Hn(o,a),l=e||Ru();return l?u.withTest(l):u};Object.assign(n,Hn),n.getState=()=>vt(n),n.setState=o=>Xn(o,n);const i=vt(globalThis[Ht])||{};Xn({...i,assertionCalls:0,isExpectingAssertions:!1,isExpectingAssertionsError:null,expectedAssertionsNumber:null,expectedAssertionsNumberErrorGen:null,environment:Bu(),testPath:e?(t=e.suite.file)==null?void 0:t.filepath:i.testPath,currentTestName:e?mp(e):i.currentTestName},n),n.extend=o=>Hn.extend(n,o),n.soft=(...o)=>{const a=n(...o);return n.setState({soft:!0}),a},n.unreachable=o=>{pf.fail(`expected${o?` "${o}" `:" "}not to be reached`)};function r(o){const a=()=>new Error(`expected number of assertions to be ${o}, but got ${n.getState().assertionCalls}`);Error.captureStackTrace&&Error.captureStackTrace(a(),r),n.setState({expectedAssertionsNumber:o,expectedAssertionsNumberErrorGen:a})}function s(){const o=new Error("expected any number of assertion, but got none");Error.captureStackTrace&&Error.captureStackTrace(o,s),n.setState({isExpectingAssertions:!0,isExpectingAssertionsError:o})}return dn.addMethod(n,"assertions",r),dn.addMethod(n,"hasAssertions",s),n}const ln=Wp();Object.defineProperty(globalThis,Ht,{value:ln,writable:!0,configurable:!0});var hr={exports:{}},fn;typeof Kt!="undefined"?fn=Kt:typeof window!="undefined"?fn=window:fn=self;var Vp=fn;let pr;try{({}).__proto__,pr=!1}catch{pr=!0}var Up=pr,Kp=Function.call,Gp=Up,Yi=["size","caller","callee","arguments"];Gp&&Yi.push("__proto__");var Mt=function(t){return Object.getOwnPropertyNames(t).reduce(function(n,i){return Yi.includes(i)||typeof t[i]!="function"||(n[i]=Kp.bind(t[i])),n},Object.create(null))},Jp=Mt,_n=Jp(Array.prototype),Yp=_n.every;function Hp(e,t){return e[t.id]===void 0&&(e[t.id]=0),e[t.id]<t.callCount}function Xp(e,t,n,i){var r=!0;return n!==i.length-1&&(r=t.calledBefore(i[n+1])),Hp(e,t)&&r?(e[t.id]+=1,!0):!1}function Qp(e){var t={},n=arguments.length>1?arguments:e;return Yp(n,Xp.bind(null,t))}var Zp=Qp,Hi=function(t){if(!t)return"";try{return t.displayName||t.name||(String(t).match(/function ([^\s(]+)/)||[])[1]}catch{return""}},ed=Hi;function td(e){return e.constructor&&e.constructor.name||typeof e.constructor=="function"&&ed(e.constructor)||null}var nd=td,Xi={};(function(e){e.wrap=function(t,n){var i=function(){return e.printWarning(n),t.apply(this,arguments)};return t.prototype&&(i.prototype=t.prototype),i},e.defaultMsg=function(t,n){return`${t}.${n} is deprecated and will be removed from the public API in a future version of ${t}.`},e.printWarning=function(t){typeof process=="object"&&process.emitWarning?process.emitWarning(t):console.info?console.info(t):console.log(t)}})(Xi);var rd=function(t,n){var i=!0;try{t.forEach(function(){if(!n.apply(this,arguments))throw new Error})}catch{i=!1}return i},od=_n.sort,sd=_n.slice;function id(e,t){var n=e.getCall(0),i=t.getCall(0),r=n&&n.callId||-1,s=i&&i.callId||-1;return r<s?-1:1}function ad(e){return od(sd(e),id)}var cd=ad,ud=Mt,ld=ud(Function.prototype),fd=Mt,hd=fd(Map.prototype),pd=Mt,dd=pd(Object.prototype),md=Mt,yd=md(Set.prototype),gd=Mt,bd=gd(String.prototype),wd={array:_n,function:ld,map:hd,object:dd,set:yd,string:bd},Qi={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Kt,function(){var n=typeof Promise=="function",i=typeof self=="object"?self:Kt,r=typeof Symbol!="undefined",s=typeof Map!="undefined",o=typeof Set!="undefined",a=typeof WeakMap!="undefined",c=typeof WeakSet!="undefined",u=typeof DataView!="undefined",l=r&&typeof Symbol.iterator!="undefined",f=r&&typeof Symbol.toStringTag!="undefined",y=o&&typeof Set.prototype.entries=="function",S=s&&typeof Map.prototype.entries=="function",x=y&&Object.getPrototypeOf(new Set().entries()),$=S&&Object.getPrototypeOf(new Map().entries()),j=l&&typeof Array.prototype[Symbol.iterator]=="function",z=j&&Object.getPrototypeOf([][Symbol.iterator]()),k=l&&typeof String.prototype[Symbol.iterator]=="function",q=k&&Object.getPrototypeOf(""[Symbol.iterator]()),N=8,W=-1;function J(D){var U=typeof D;if(U!=="object")return U;if(D===null)return"null";if(D===i)return"global";if(Array.isArray(D)&&(f===!1||!(Symbol.toStringTag in D)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&D===window.location)return"Location";if(typeof window.document=="object"&&D===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&D===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&D===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&D instanceof window.HTMLElement){if(D.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(D.tagName==="TD")return"HTMLTableDataCellElement";if(D.tagName==="TH")return"HTMLTableHeaderCellElement"}}var te=f&&D[Symbol.toStringTag];if(typeof te=="string")return te;var G=Object.getPrototypeOf(D);return G===RegExp.prototype?"RegExp":G===Date.prototype?"Date":n&&G===Promise.prototype?"Promise":o&&G===Set.prototype?"Set":s&&G===Map.prototype?"Map":c&&G===WeakSet.prototype?"WeakSet":a&&G===WeakMap.prototype?"WeakMap":u&&G===DataView.prototype?"DataView":s&&G===$?"Map Iterator":o&&G===x?"Set Iterator":j&&G===z?"Array Iterator":k&&G===q?"String Iterator":G===null?"Object":Object.prototype.toString.call(D).slice(N,W)}return J})})(Qi);var vd=Qi.exports,Sd=vd,Ed=function(t){return Sd(t).toLowerCase()};function xd(e){return e&&e.toString?e.toString():String(e)}var Td=xd,Od={global:Vp,calledInOrder:Zp,className:nd,deprecated:Xi,every:rd,functionName:Hi,orderByFirstCall:cd,prototypes:wd,typeOf:Ed,valueToString:Td};(function(e,t){const n=Od.global;let i;if(typeof Gi=="function")try{i=require("timers")}catch{}function r(o){const a=o.navigator&&o.navigator.userAgent,c=a&&a.indexOf("MSIE ")>-1,u=Math.pow(2,31)-1,l=1e12,f=function(){},y=function(){return[]},S=o.setTimeout(f,0),x=typeof S=="object",$=o.process&&typeof o.process.hrtime=="function",j=$&&typeof o.process.hrtime.bigint=="function",z=o.process&&typeof o.process.nextTick=="function",k=o.process&&Ap.promisify,q=o.performance&&typeof o.performance.now=="function",N=o.Performance&&(typeof o.Performance).match(/^(function|object)$/),W=o.performance&&o.performance.constructor&&o.performance.constructor.prototype,J=o.hasOwnProperty("queueMicrotask"),D=o.requestAnimationFrame&&typeof o.requestAnimationFrame=="function",U=o.cancelAnimationFrame&&typeof o.cancelAnimationFrame=="function",te=o.requestIdleCallback&&typeof o.requestIdleCallback=="function",G=o.cancelIdleCallback&&typeof o.cancelIdleCallback=="function",ve=o.setImmediate&&typeof o.setImmediate=="function";c&&(o.setTimeout=o.setTimeout,o.clearTimeout=o.clearTimeout,o.setInterval=o.setInterval,o.clearInterval=o.clearInterval,o.Date=o.Date),ve&&(o.setImmediate=o.setImmediate,o.clearImmediate=o.clearImmediate),o.clearTimeout(S);const ce=o.Date;let ge=l;function Pe(g){return Number.isFinite?Number.isFinite(g):isFinite(g)}let Ne=!1;function Se(g,b){g.loopLimit&&b===g.loopLimit-1&&(Ne=!0)}function Oe(){Ne=!1}function Be(g){if(!g)return 0;const b=g.split(":"),M=b.length;let I=M,m=0,Z;if(M>3||!/^(\d\d:){0,2}\d\d?$/.test(g))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;I--;){if(Z=parseInt(b[I],10),Z>=60)throw new Error(`Invalid time ${g}`);m+=Z*Math.pow(60,M-I-1)}return m*1e3}function p(g){const M=g*1e6%1e6,I=M<0?M+1e6:M;return Math.floor(I)}function w(g){if(!g)return 0;if(typeof g.getTime=="function")return g.getTime();if(typeof g=="number")return g;throw new TypeError("now should be milliseconds since UNIX epoch")}function T(g,b,M){return M&&M.callAt>=g&&M.callAt<=b}function O(g,b){const M=new Error(`Aborting after running ${g.loopLimit} timers, assuming an infinite loop!`);if(!b.error)return M;const I=/target\.*[<|(|[].*?[>|\]|)]\s*/;let m=new RegExp(String(Object.keys(g).join("|")));x&&(m=new RegExp(`\\s+at (Object\\.)?(?:${Object.keys(g).join("|")})\\s+`));let Z=-1;b.error.stack.split(`
`).some(function(de,Ae){return de.match(I)?(Z=Ae,!0):de.match(m)?(Z=Ae,!1):Z>=0});const we=`${M}
${b.type||"Microtask"} - ${b.func.name||"anonymous"}
${b.error.stack.split(`
`).slice(Z+1).join(`
`)}`;try{Object.defineProperty(M,"stack",{value:we})}catch{}return M}function P(g,b){let M;for(M in b)b.hasOwnProperty(M)&&(g[M]=b[M]);return b.now?g.now=function(){return g.clock.now}:delete g.now,b.toSource?g.toSource=function(){return b.toSource()}:delete g.toSource,g.toString=function(){return b.toString()},g.prototype=b.prototype,g.parse=b.parse,g.UTC=b.UTC,g.prototype.toUTCString=b.prototype.toUTCString,g.isFake=!0,g}function C(){function g(b,M,I,m,Z,we,de){if(!(this instanceof g))return new ce(g.clock.now).toString();switch(arguments.length){case 0:return new ce(g.clock.now);case 1:return new ce(b);case 2:return new ce(b,M);case 3:return new ce(b,M,I);case 4:return new ce(b,M,I,m);case 5:return new ce(b,M,I,m,Z);case 6:return new ce(b,M,I,m,Z,we);default:return new ce(b,M,I,m,Z,we,de)}}return P(g,ce)}function A(g,b){g.jobs||(g.jobs=[]),g.jobs.push(b)}function v(g){if(!!g.jobs){for(let b=0;b<g.jobs.length;b++){const M=g.jobs[b];if(M.func.apply(null,M.args),Se(g,b),g.loopLimit&&b>g.loopLimit)throw O(g,M)}Oe(),g.jobs=[]}}function F(g,b){if(b.func===void 0)throw new Error("Callback must be provided to timer calls");if(x&&typeof b.func!="function")throw new TypeError(`[ERR_INVALID_CALLBACK]: Callback must be a function. Received ${b.func} of type ${typeof b.func}`);if(Ne&&(b.error=new Error),b.type=b.immediate?"Immediate":"Timeout",b.hasOwnProperty("delay")&&(typeof b.delay!="number"&&(b.delay=parseInt(b.delay,10)),Pe(b.delay)||(b.delay=0),b.delay=b.delay>u?1:b.delay,b.delay=Math.max(0,b.delay)),b.hasOwnProperty("interval")&&(b.type="Interval",b.interval=b.interval>u?1:b.interval),b.hasOwnProperty("animation")&&(b.type="AnimationFrame",b.animation=!0),b.hasOwnProperty("idleCallback")&&(b.type="IdleCallback",b.idleCallback=!0),g.timers||(g.timers={}),b.id=ge++,b.createdAt=g.now,b.callAt=g.now+(parseInt(b.delay)||(g.duringTick?1:0)),g.timers[b.id]=b,x){const M={refed:!0,ref:function(){return this.refed=!0,M},unref:function(){return this.refed=!1,M},hasRef:function(){return this.refed},refresh:function(){return b.callAt=g.now+(parseInt(b.delay)||(g.duringTick?1:0)),g.timers[b.id]=b,M},[Symbol.toPrimitive]:function(){return b.id}};return M}return b.id}function L(g,b){if(g.callAt<b.callAt)return-1;if(g.callAt>b.callAt)return 1;if(g.immediate&&!b.immediate)return-1;if(!g.immediate&&b.immediate)return 1;if(g.createdAt<b.createdAt)return-1;if(g.createdAt>b.createdAt)return 1;if(g.id<b.id)return-1;if(g.id>b.id)return 1}function X(g,b,M){const I=g.timers;let m=null,Z,we;for(Z in I)I.hasOwnProperty(Z)&&(we=T(b,M,I[Z]),we&&(!m||L(m,I[Z])===1)&&(m=I[Z]));return m}function ne(g){const b=g.timers;let M=null,I;for(I in b)b.hasOwnProperty(I)&&(!M||L(M,b[I])===1)&&(M=b[I]);return M}function Q(g){const b=g.timers;let M=null,I;for(I in b)b.hasOwnProperty(I)&&(!M||L(M,b[I])===-1)&&(M=b[I]);return M}function K(g,b){if(typeof b.interval=="number"?g.timers[b.id].callAt+=b.interval:delete g.timers[b.id],typeof b.func=="function")b.func.apply(null,b.args);else{const M=eval;(function(){M(b.func)})()}}function oe(g){return g==="IdleCallback"||g==="AnimationFrame"?`cancel${g}`:`clear${g}`}function he(g){return g==="IdleCallback"||g==="AnimationFrame"?`request${g}`:`set${g}`}function ye(){let g=0;return function(b){!g++&&console.warn(b)}}const be=ye();function $e(g,b,M){if(!b)return;g.timers||(g.timers={});const I=Number(b);if(Number.isNaN(I)||I<l){const m=oe(M);if(g.shouldClearNativeTimers===!0){const Z=g[`_${m}`];return typeof Z=="function"?Z(b):void 0}be(`FakeTimers: ${m} was invoked to clear a native timer instead of one created by this library.
To automatically clean-up native timers, use \`shouldClearNativeTimers\`.`)}if(g.timers.hasOwnProperty(I)){const m=g.timers[I];if(m.type===M||m.type==="Timeout"&&M==="Interval"||m.type==="Interval"&&M==="Timeout")delete g.timers[I];else{const Z=oe(M),we=he(m.type);throw new Error(`Cannot clear timer: timer created with ${we}() but cleared with ${Z}()`)}}}function Dn(g,b){let M,I,m;const Z="_hrtime",we="_nextTick";for(I=0,m=g.methods.length;I<m;I++){if(M=g.methods[I],M==="hrtime"&&o.process)o.process.hrtime=g[Z];else if(M==="nextTick"&&o.process)o.process.nextTick=g[we];else if(M==="performance"){const de=Object.getOwnPropertyDescriptor(g,`_${M}`);de&&de.get&&!de.set?Object.defineProperty(o,M,de):de.configurable&&(o[M]=g[`_${M}`])}else if(o[M]&&o[M].hadOwnProperty)o[M]=g[`_${M}`];else try{delete o[M]}catch{}if(g.timersModuleMethods!==void 0)for(let de=0;de<g.timersModuleMethods.length;de++){const Ae=g.timersModuleMethods[de];i[Ae.methodName]=Ae.original}}return b.shouldAdvanceTime===!0&&o.clearInterval(g.attachedInterval),g.methods=[],g.timers?Object.keys(g.timers).map(function(Ae){return g.timers[Ae]}):[]}function Pt(g,b,M){if(M[b].hadOwnProperty=Object.prototype.hasOwnProperty.call(g,b),M[`_${b}`]=g[b],b==="Date"){const I=P(M[b],g[b]);g[b]=I}else if(b==="performance"){const I=Object.getOwnPropertyDescriptor(g,b);if(I&&I.get&&!I.set){Object.defineProperty(M,`_${b}`,I);const m=Object.getOwnPropertyDescriptor(M,b);Object.defineProperty(g,b,m)}else g[b]=M[b]}else g[b]=function(){return M[b].apply(M,arguments)},Object.defineProperties(g[b],Object.getOwnPropertyDescriptors(M[b]));g[b].clock=M}function Fn(g,b){g.tick(b)}const Ee={setTimeout:o.setTimeout,clearTimeout:o.clearTimeout,setInterval:o.setInterval,clearInterval:o.clearInterval,Date:o.Date};ve&&(Ee.setImmediate=o.setImmediate,Ee.clearImmediate=o.clearImmediate),$&&(Ee.hrtime=o.process.hrtime),z&&(Ee.nextTick=o.process.nextTick),q&&(Ee.performance=o.performance),D&&(Ee.requestAnimationFrame=o.requestAnimationFrame),J&&(Ee.queueMicrotask=!0),U&&(Ee.cancelAnimationFrame=o.cancelAnimationFrame),te&&(Ee.requestIdleCallback=o.requestIdleCallback),G&&(Ee.cancelIdleCallback=o.cancelIdleCallback);const Le=o.setImmediate||o.setTimeout;function Xt(g,b){g=Math.floor(w(g)),b=b||1e3;let M=0;const I=[0,0];if(ce===void 0)throw new Error("The global scope doesn't have a `Date` object (see https://github.com/sinonjs/sinon/issues/1852#issuecomment-419622780)");const m={now:g,Date:C(),loopLimit:b};m.Date.clock=m;function Z(){return 16-(m.now-g)%16}function we(Y){const R=m.now-I[0]-g,H=Math.floor(R/1e3),h=(R-H*1e3)*1e6+M-I[1];if(Array.isArray(Y)){if(Y[1]>1e9)throw new TypeError("Number of nanoseconds can't exceed a billion");const d=Y[0];let E=h-Y[1],_=H-d;return E<0&&(E+=1e9,_-=1),[_,E]}return[H,h]}function de(){const Y=we();return Y[0]*1e3+Y[1]/1e6}j&&(we.bigint=function(){const Y=we();return BigInt(Y[0])*BigInt(1e9)+BigInt(Y[1])}),m.requestIdleCallback=function(R,H){let h=0;m.countTimers()>0&&(h=50);const d=F(m,{func:R,args:Array.prototype.slice.call(arguments,2),delay:typeof H=="undefined"?h:Math.min(H,h),idleCallback:!0});return Number(d)},m.cancelIdleCallback=function(R){return $e(m,R,"IdleCallback")},m.setTimeout=function(R,H){return F(m,{func:R,args:Array.prototype.slice.call(arguments,2),delay:H})},typeof o.Promise!="undefined"&&k&&(m.setTimeout[k.custom]=function(R,H){return new o.Promise(function(d){F(m,{func:d,args:[H],delay:R})})}),m.clearTimeout=function(R){return $e(m,R,"Timeout")},m.nextTick=function(R){return A(m,{func:R,args:Array.prototype.slice.call(arguments,1),error:Ne?new Error:null})},m.queueMicrotask=function(R){return m.nextTick(R)},m.setInterval=function(R,H){return H=parseInt(H,10),F(m,{func:R,args:Array.prototype.slice.call(arguments,2),delay:H,interval:H})},m.clearInterval=function(R){return $e(m,R,"Interval")},ve&&(m.setImmediate=function(R){return F(m,{func:R,args:Array.prototype.slice.call(arguments,1),immediate:!0})},typeof o.Promise!="undefined"&&k&&(m.setImmediate[k.custom]=function(R){return new o.Promise(function(h){F(m,{func:h,args:[R],immediate:!0})})}),m.clearImmediate=function(R){return $e(m,R,"Immediate")}),m.countTimers=function(){return Object.keys(m.timers||{}).length+(m.jobs||[]).length},m.requestAnimationFrame=function(R){const H=F(m,{func:R,delay:Z(),get args(){return[de()]},animation:!0});return Number(H)},m.cancelAnimationFrame=function(R){return $e(m,R,"AnimationFrame")},m.runMicrotasks=function(){v(m)};function Ae(Y,R,H,h){const d=typeof Y=="number"?Y:Be(Y),E=Math.floor(d),_=p(d);let B=M+_,V=m.now+E;if(d<0)throw new TypeError("Negative ticks are not supported");B>=1e6&&(V+=1,B-=1e6),M=B;let ee=m.now,se=m.now,fe,pe,le,Fe,ot,qe;m.duringTick=!0,le=m.now,v(m),le!==m.now&&(ee+=m.now-le,V+=m.now-le);function ze(){for(fe=X(m,ee,V);fe&&ee<=V;){if(m.timers[fe.id]){ee=fe.callAt,m.now=fe.callAt,le=m.now;try{v(m),K(m,fe)}catch(je){pe=pe||je}if(R){Le(Fe);return}ot()}qe()}if(le=m.now,v(m),le!==m.now&&(ee+=m.now-le,V+=m.now-le),m.duringTick=!1,fe=X(m,ee,V),fe)try{m.tick(V-m.now)}catch(je){pe=pe||je}else m.now=V,M=B;if(pe)throw pe;if(R)H(m.now);else return m.now}return Fe=R&&function(){try{ot(),qe(),ze()}catch(je){h(je)}},ot=function(){le!==m.now&&(ee+=m.now-le,V+=m.now-le,se+=m.now-le)},qe=function(){fe=X(m,se,V),se=ee},ze()}return m.tick=function(R){return Ae(R,!1)},typeof o.Promise!="undefined"&&(m.tickAsync=function(R){return new o.Promise(function(H,h){Le(function(){try{Ae(R,!0,H,h)}catch(d){h(d)}})})}),m.next=function(){v(m);const R=ne(m);if(!R)return m.now;m.duringTick=!0;try{return m.now=R.callAt,K(m,R),v(m),m.now}finally{m.duringTick=!1}},typeof o.Promise!="undefined"&&(m.nextAsync=function(){return new o.Promise(function(R,H){Le(function(){try{const h=ne(m);if(!h){R(m.now);return}let d;m.duringTick=!0,m.now=h.callAt;try{K(m,h)}catch(E){d=E}m.duringTick=!1,Le(function(){d?H(d):R(m.now)})}catch(h){H(h)}})})}),m.runAll=function(){let R,H;for(v(m),H=0;H<m.loopLimit;H++){if(!m.timers||(R=Object.keys(m.timers).length,R===0))return Oe(),m.now;m.next(),Se(m,H)}const h=ne(m);throw O(m,h)},m.runToFrame=function(){return m.tick(Z())},typeof o.Promise!="undefined"&&(m.runAllAsync=function(){return new o.Promise(function(R,H){let h=0;function d(){Le(function(){try{let E;if(h<m.loopLimit){if(!m.timers){Oe(),R(m.now);return}if(E=Object.keys(m.timers).length,E===0){Oe(),R(m.now);return}m.next(),h++,d(),Se(m,h);return}const _=ne(m);H(O(m,_))}catch(E){H(E)}})}d()})}),m.runToLast=function(){const R=Q(m);return R?m.tick(R.callAt-m.now):(v(m),m.now)},typeof o.Promise!="undefined"&&(m.runToLastAsync=function(){return new o.Promise(function(R,H){Le(function(){try{const h=Q(m);h||R(m.now),R(m.tickAsync(h.callAt-m.now))}catch(h){H(h)}})})}),m.reset=function(){M=0,m.timers={},m.jobs=[],m.now=g},m.setSystemTime=function(R){const H=w(R),h=H-m.now;let d,E;I[0]=I[0]+h,I[1]=I[1]+M,m.now=H,M=0;for(d in m.timers)m.timers.hasOwnProperty(d)&&(E=m.timers[d],E.createdAt+=h,E.callAt+=h)},m.jump=function(R){const H=typeof R=="number"?R:Be(R),h=Math.floor(H);for(const d of Object.values(m.timers))m.now+h>d.callAt&&(d.callAt=m.now+h);m.tick(h)},q&&(m.performance=Object.create(null),m.performance.now=de),$&&(m.hrtime=we),m}function ft(g){if(arguments.length>1||g instanceof Date||Array.isArray(g)||typeof g=="number")throw new TypeError(`FakeTimers.install called with ${String(g)} install requires an object parameter`);if(o.Date.isFake===!0)throw new TypeError("Can't install fake timers twice on the same global object.");if(g=typeof g!="undefined"?g:{},g.shouldAdvanceTime=g.shouldAdvanceTime||!1,g.advanceTimeDelta=g.advanceTimeDelta||20,g.shouldClearNativeTimers=g.shouldClearNativeTimers||!1,g.target)throw new TypeError("config.target is no longer supported. Use `withGlobal(target)` instead.");let b,M;const I=Xt(g.now,g.loopLimit);if(I.shouldClearNativeTimers=g.shouldClearNativeTimers,I.uninstall=function(){return Dn(I,g)},I.methods=g.toFake||[],I.methods.length===0&&(I.methods=Object.keys(Ee).filter(function(m){return m!=="nextTick"&&m!=="queueMicrotask"})),g.shouldAdvanceTime===!0){const m=Fn.bind(null,I,g.advanceTimeDelta),Z=o.setInterval(m,g.advanceTimeDelta);I.attachedInterval=Z}if(I.methods.includes("performance")){const m=(()=>{if(N)return o.Performance.prototype;if(W)return o.performance.constructor.prototype})();if(m)Object.getOwnPropertyNames(m).forEach(function(Z){Z!=="now"&&(I.performance[Z]=Z.indexOf("getEntries")===0?y:f)});else if((g.toFake||[]).includes("performance"))throw new ReferenceError("non-existent performance object cannot be faked")}for(o===n&&i&&(I.timersModuleMethods=[]),b=0,M=I.methods.length;b<M;b++){const m=I.methods[b];if(m==="hrtime"?o.process&&typeof o.process.hrtime=="function"&&Pt(o.process,m,I):m==="nextTick"?o.process&&typeof o.process.nextTick=="function"&&Pt(o.process,m,I):Pt(o,m,I),I.timersModuleMethods!==void 0&&i[m]){const Z=i[m];I.timersModuleMethods.push({methodName:m,original:Z}),i[m]=o[m]}}return I}return{timers:Ee,createClock:Xt,install:ft,withGlobal:r}}const s=r(n);t.timers=s.timers,t.createClock=s.createClock,t.install=s.install,t.withGlobal=r})(hr,hr.exports);var $d=hr.exports;class Ad{constructor({global:t,config:n}){re(this,"_clock");re(this,"_fakingTime");re(this,"_fakingDate");re(this,"_fakeTimers");re(this,"_userConfig");re(this,"_now",Ce.now);this._userConfig=n,this._fakingDate=!1,this._fakingTime=!1,this._fakeTimers=$d.withGlobal(t)}clearAllTimers(){this._fakingTime&&this._clock.reset()}dispose(){this.useRealTimers()}runAllTimers(){this._checkFakeTimers()&&this._clock.runAll()}async runAllTimersAsync(){this._checkFakeTimers()&&await this._clock.runAllAsync()}runOnlyPendingTimers(){this._checkFakeTimers()&&this._clock.runToLast()}async runOnlyPendingTimersAsync(){this._checkFakeTimers()&&await this._clock.runToLastAsync()}advanceTimersToNextTimer(t=1){if(this._checkFakeTimers())for(let n=t;n>0&&(this._clock.next(),this._clock.tick(0),this._clock.countTimers()!==0);n--);}async advanceTimersToNextTimerAsync(t=1){if(this._checkFakeTimers())for(let n=t;n>0&&(await this._clock.nextAsync(),this._clock.tick(0),this._clock.countTimers()!==0);n--);}advanceTimersByTime(t){this._checkFakeTimers()&&this._clock.tick(t)}async advanceTimersByTimeAsync(t){this._checkFakeTimers()&&await this._clock.tickAsync(t)}runAllTicks(){this._checkFakeTimers()&&this._clock.runMicrotasks()}useRealTimers(){this._fakingDate&&(Pp(),this._fakingDate=!1),this._fakingTime&&(this._clock.uninstall(),this._fakingTime=!1)}useFakeTimers(){if(this._fakingDate)throw new Error('"setSystemTime" was called already and date was mocked. Reset timers using `vi.useRealTimers()` if you want to use fake timers again.');if(!this._fakingTime){const t=Object.keys(this._fakeTimers.timers);this._clock=this._fakeTimers.install({now:Date.now(),toFake:t,...this._userConfig}),this._fakingTime=!0}}reset(){if(this._checkFakeTimers()){const{now:t}=this._clock;this._clock.reset(),this._clock.setSystemTime(t)}}setSystemTime(t){this._fakingTime?this._clock.setSystemTime(t):(Mp(t!=null?t:this.getRealSystemTime()),this._fakingDate=!0)}getRealSystemTime(){return this._now()}getTimerCount(){return this._checkFakeTimers()?this._clock.countTimers():0}configure(t){this._userConfig=t}_checkFakeTimers(){if(!this._fakingTime)throw new Error('Timers are not mocked. Try calling "vi.useFakeTimers()" first.');return this._fakingTime}}function Md(){const e=typeof __vitest_mocker__!="undefined"?__vitest_mocker__:new Proxy({},{get(c,u){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(u)}() is forbidden.`)}});let t=null,n=null;const i=Ge();if(!i){const c=`Vitest failed to access its internal state.

One of the following is possible:
- "vitest" is imported directly without running "vitest" command
- "vitest" is imported inside "globalSetup" (to fix this, use "setupFiles" instead, because "globalSetup" runs in a different context)
- Otherwise, it might be a Vitest bug. Please report it to https://github.com/vitest-dev/vitest/issues
`;throw new Error(c)}const r=new Ad({global:globalThis,config:i.config.fakeTimers}),s=new Map,o=new Map,a=()=>{const u=zc({stackTraceLimit:4}).split(`
`)[4],l=Op(u);return(l==null?void 0:l.file)||""};return{useFakeTimers(c){if(c)r.configure(c);else{const u=Ge();r.configure(u.config.fakeTimers)}return r.useFakeTimers(),this},useRealTimers(){return r.useRealTimers(),t=null,this},runOnlyPendingTimers(){return r.runOnlyPendingTimers(),this},async runOnlyPendingTimersAsync(){return await r.runOnlyPendingTimersAsync(),this},runAllTimers(){return r.runAllTimers(),this},async runAllTimersAsync(){return await r.runAllTimersAsync(),this},runAllTicks(){return r.runAllTicks(),this},advanceTimersByTime(c){return r.advanceTimersByTime(c),this},async advanceTimersByTimeAsync(c){return await r.advanceTimersByTimeAsync(c),this},advanceTimersToNextTimer(){return r.advanceTimersToNextTimer(),this},async advanceTimersToNextTimerAsync(){return await r.advanceTimersToNextTimerAsync(),this},getTimerCount(){return r.getTimerCount()},setSystemTime(c){const u=c instanceof Date?c:new Date(c);return t=u,r.setSystemTime(u),this},getMockedSystemTime(){return t},getRealSystemTime(){return r.getRealSystemTime()},clearAllTimers(){return r.clearAllTimers(),this},spyOn:vf,fn:Ef,hoisted(c){return We(c,'"vi.hoisted" factory',["function"]),c()},mock(c,u){const l=a();e.queueMock(c,l,u?()=>u(()=>e.importActual(c,l)):void 0)},unmock(c){e.queueUnmock(c,a())},doMock(c,u){e.queueMock(c,a(),u)},doUnmock(c){e.queueUnmock(c,a())},async importActual(c){return e.importActual(c,a())},async importMock(c){return e.importMock(c,a())},mocked(c,u={}){return c},isMockFunction(c){return Oi(c)},clearAllMocks(){return cn.forEach(c=>c.mockClear()),this},resetAllMocks(){return cn.forEach(c=>c.mockReset()),this},restoreAllMocks(){return cn.forEach(c=>c.mockRestore()),this},stubGlobal(c,u){return s.has(c)||s.set(c,Object.getOwnPropertyDescriptor(globalThis,c)),Object.defineProperty(globalThis,c,{value:u,writable:!0,configurable:!0,enumerable:!0}),this},stubEnv(c,u){return o.has(c)||o.set(c,process.env[c]),process.env[c]=u,this},unstubAllGlobals(){return s.forEach((c,u)=>{c?Object.defineProperty(globalThis,u,c):Reflect.deleteProperty(globalThis,u)}),s.clear(),this},unstubAllEnvs(){return o.forEach((c,u)=>{c===void 0?delete process.env[u]:process.env[u]=c}),o.clear(),this},resetModules(){const c=Ge();return Np(c.moduleCache),this},async dynamicImportSettled(){return Ki()},setConfig(c){const u=Ge();n||(n={...u.config}),Object.assign(u.config,c)},resetConfig(){if(n){const c=Ge();Object.assign(c.config,n)}}}}Md();class bt{constructor(t,n){this.hp=t,this.max=n}}class Zi{}class Pd{constructor(t){re(this,"ecs");this.ecs=t}deal_damage(t,n){const[i]=this.ecs.get(t,[bt]);i.hp-=n,i.hp<=0&&this.ecs.swapComponent(t,[bt],[Zi],[{}])}}ku("Entity interactions",()=>{const e=new ia,t=new Pd(e),n=e.createEntity();yt.each([{hp:10,damage:3,after:7},{hp:20,damage:19,after:1}])("Given an entity with $hp hp 	 when it takes $damage damage 	 then it has $after hp",({hp:i,damage:r,after:s})=>{e.put(n,[bt],[new bt(i,i)]),t.deal_damage(n,r);{const[o]=e.get(n,[bt]);ln(o.hp).toBe(s)}}),yt("Entities should die after suffering fatal wounds",()=>{t.deal_damage(n,999);const i=e.has(n,bt),r=e.has(n,Zi);ln(i).toBeFalsy(),ln(r).toBeTruthy()})});
