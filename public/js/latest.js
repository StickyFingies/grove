/*!
 * 
 * Made with <3 by the Grove team | Wed Mar 31 2021 00:03:14 GMT+0000 (Coordinated Universal Time)
 *
 */
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkthe_grove"] = self["webpackChunkthe_grove"] || []).push([["latest"],{

/***/ "./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js!./src/css/play.sass":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js!./src/css/play.sass ***!
  \*******************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body,html{overflow:hidden;margin:0;width:100%;height:100%}.hotbar{border:1px solid #eee;margin-left:4px;margin-right:4px;text-align:center;line-height:50px;font-size:14px;color:#fff;padding:0}.hotbar.active{background:tomato}#blocker{font:100% Megrim,sans-serif;color:#fff;background-color:#000;z-index:5}#blocker,#underlay{position:absolute;width:100%;height:100%}#underlay{background-color:rgba(0,0,0,.8);z-index:1}#load{width:50%;height:50%;text-align:center}#load *{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#hud{position:fixed;left:5%;bottom:0;width:90%}#quest-alert{position:fixed;right:0;top:20%;width:280px;height:90px;padding-left:30px;padding-top:20px;background-image:url(/img/QuestBar.png);color:#fff}#quest-alert p{margin-bottom:-4px}#pause{width:60%;left:20%;font-family:Megrim,sans-serif}#gui,#pause{position:fixed;top:15%}#gui{z-index:4;width:70%;height:70%;left:15%;background-image:url(/img/gui.png);background-size:cover;padding-left:5%;padding-top:3%}#gui #gui-content{height:100%}#gui #gui-exit{position:fixed;bottom:22%;right:20%}#chat{position:fixed;bottom:0;left:0}#chat,#chat #chat-input{color:#fff}#crosshair{position:fixed;left:50%;top:50%}#offscreen-canvas{z-index:-30000}\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack://the-grove/./src/css/play.sass?./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js!./src/css/skill.sass":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js!./src/css/skill.sass ***!
  \********************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"*{margin:0;padding:0}.clear{clear:both}body{background:#444;background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACcklEQVR4nO3bSVJcQQwE0L4MBsLYpid6ZLBphvtfCHYO6i1+Rq+0QAstMvSrSyiUGqqK2fvb8eNuff1f5rcXA16vrge8ufs54Od/m8nv314PA364Xwx4v/s9qff3kv70vJ3UPz4sBzz7Cr6jtAOqDaiWmRw1B6h/fdkP+Hi4HbAc3W1/nbVeDv99Wg/4/jif3M8cZQ4w53QEVBtQLe0AOSTnD/s/A14uLge8Wl4NWI6/nHYDdj/rshw2J6WcoT2L+Y8B27d0BFQbUC3tAOusnJVzcky9dVbOyfHEefXu5/fONuYwc1RHQLUB1dIOsFeWY2meNifI2e3mZsBy1hzk9+YQ67rrU87Q3o6AagOqpR2QeunE6dTbi+0z3M+6nfoC677Yv8/f6wioNqBa2gFyTpx698Q5zxes49Zp676cfXpcTf6+Z4aeSdrXdARUG1At7QDrejofkIP2AXI29QWuT/O7nNYec0jqKzoCqg2olnZAuu+Xs9b9lEPkoHVfTnvv4P7WffsOsX+POacjoNqAamkHyFE5J8ety+e+6Uk5JK237pszXO95g/t3BFQbUC3tgHRmpj698UlnfPYJcjzd52uf+6l3lul3gkZAtQHV0g5I9/dyyvt/9alup9nBXt/90jtAOa6+zwOMgGoDqqUdICc8V7fX9vt0V+h6OW2f4PnAue8VEu63wkZAtQHV0g6wrlqXnZ/tvZ0VEudcb6+eZhFzguudJZxdzEkdAdUGVEs7QI7IUbGcTrOBfYWzh5yWw+l/ftLbZPXmjI6AagOqpR1gL+78bo5wXk93femNz7nzvvaI7WPMKeKOgGoDquXbO+ATIF9D9wrQ0EMAAAAASUVORK5CYII=\\\")}.wrap{width:320px;margin:auto}.skillpoints_content{background-color:#444;color:#fff;margin:10px;padding:10px}#skillpoints{color:#fff}.mainSkillTreeContener{display:block;margin:auto}.skill_group{float:left;width:350px}.skill{position:relative;text-align:center;user-select:none;cursor:default;margin:6px;display:inline-block;width:80px;height:80px;border-radius:5px;box-shadow:0 3px 6px 3px;background-image:url(\\\"/img/icons.jpg\\\");background-size:1000% auto}.skill.sm .abbr{font-size:28px}.skill.sm2 .abbr{font-size:20px}.skill.sm3 .abbr{font-size:14px}.skill .abbr{display:none;width:100%;height:100%;text-shadow:0 1px hsla(0,0%,100%,.8),0 -1px #000;overflow:hidden;font:700 48px Arial,Helvetica,sans-serif;text-align:center;line-height:80px;background:#888;color:#444}.skill.nosprite .abbr{display:block}.skill .status{font:700 8px Arial,Helvetica,sans-serif;display:block;position:absolute;color:#fff;bottom:3px;right:3px;background:rgba(0,0,0,.5);padding:.75px 1.5px;border-radius:3px;z-index:2;user-select:none}.skill div{display:none}.skill:after{background:rgba(0,0,0,.5);display:block;content:\\\"\\\";top:-3px;bottom:-3px;left:-3px;right:-3px;position:absolute;border-radius:5px;border:3px solid #888;box-shadow:inset 0 0 0 1px #fff,0 0 0 1px #fff,inset 0 0 12px rgba(0,0,0,.5),inset 0 0 3px,0 0 3px}.skill.available{cursor:pointer}.skill.available:after{border-color:#cc5;box-shadow:inset 0 0 0 1px #fff,0 0 0 1px #fff,inset 0 0 9px 0 #000,0 0 15px -3px #ff5,inset 0 0 3px 1.5px hsla(0,0%,100%,.5),inset 0 0 12px rgba(0,0,0,.5),inset 0 0 3px,0 0 3px}.skill.active:after{background:none}.skillHint{font:normal 12px Arial,Helvetica,sans-serif;pointer-events:none;position:absolute;z-index:30;border-radius:3px;padding:6px 12px 24px;background:rgba(0,0,0,.9);max-width:400px;color:#ccc;text-shadow:0 1px 1px #000;box-shadow:0 0 0 1px #000,0 0 0 2px hsla(0,0%,100%,.2)}.skillHint,.skillHint .alias{display:none}.skillHint h1,.skillHint h3,.skillHint h4{color:#fc0;margin-bottom:3px}.skillHint p,.skillHint ul{margin-bottom:9px}.skillHint p+h1,.skillHint p+h2,.skillHint p+h3,.skillHint p+h4,.skillHint ul+h1,.skillHint ul+h2,.skillHint ul+h3,.skillHint ul+h4{margin-top:9px}.skillHint i{color:#0a0}.skillHint b{color:#88f;font-weight:400}.skillHint li{list-style-type:none}.skillHint .commamenu li{float:left;list-style-type:none}.skillHint .commamenu li:before{content:\\\"\\\"}.skillHint .commamenu li+li:before{content:\\\", \\\"}.skillHint .commamenu:after{clear:both;display:block;content:\\\"\\\"}.skillHint .reqs{color:#a00}.skillHint .met{color:#0a0}\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack://the-grove/./src/css/skill.sass?./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js");

/***/ }),

/***/ "./src/css/play.sass":
/*!***************************!*\
  !*** ./src/css/play.sass ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !!../../node_modules/css-loader/index.js?minimize=true!../../node_modules/sass-loader/dist/cjs.js!./play.sass */ \"./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js!./src/css/play.sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! !../../node_modules/style-loader/addStyles.js */ \"./node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://the-grove/./src/css/play.sass?");

/***/ }),

/***/ "./src/css/skill.sass":
/*!****************************!*\
  !*** ./src/css/skill.sass ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !!../../node_modules/css-loader/index.js?minimize=true!../../node_modules/sass-loader/dist/cjs.js!./skill.sass */ \"./node_modules/css-loader/index.js?minimize=true!./node_modules/sass-loader/dist/cjs.js!./src/css/skill.sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! !../../node_modules/style-loader/addStyles.js */ \"./node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://the-grove/./src/css/skill.sass?");

/***/ }),

/***/ "./src/js/entities.js":
/*!****************************!*\
  !*** ./src/js/entities.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"entityList\": () => (/* binding */ entityList),\n/* harmony export */   \"addEntity\": () => (/* binding */ addEntity),\n/* harmony export */   \"getEntity\": () => (/* binding */ getEntity)\n/* harmony export */ });\n\n\nlet entityList = [];\n\nconst addEntity = (body, shape, mesh, norotate=false) => {\n    return entityList.push({ body, shape, mesh, norotate }) - 1;\n}\n\nconst getEntity = (id) => entityList[id];\n\n//# sourceURL=webpack://the-grove/./src/js/entities.js?");

/***/ }),

/***/ "./src/js/globals.js":
/*!***************************!*\
  !*** ./src/js/globals.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n\n\n\n\nlet G = {\n    world: new cannon_es__WEBPACK_IMPORTED_MODULE_0__.World(),\n    socket: io(),\n    LABELS: [],\n    TWEENS: [],\n    remove: {\n        bodies: [],\n        meshes: [],\n        tweens: []\n    },\n    delta: Date.now(),\n    groundMaterial: new cannon_es__WEBPACK_IMPORTED_MODULE_0__.Material(\"groundMaterial\")\n};\n\n// Adjust constraint equation parameters for ground/ground contact\nlet ground_ground_cm = new cannon_es__WEBPACK_IMPORTED_MODULE_0__.ContactMaterial(G.groundMaterial, G.groundMaterial, {\n    friction: 50,\n    restitution: 0.3,\n});\n\n// Add contact material to the world\nG.world.addContactMaterial(ground_ground_cm);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (G);\n\n//# sourceURL=webpack://the-grove/./src/js/globals.js?");

/***/ }),

/***/ "./src/js/graphics.js":
/*!****************************!*\
  !*** ./src/js/graphics.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getScene\": () => (/* binding */ getScene),\n/* harmony export */   \"getCamera\": () => (/* binding */ getCamera),\n/* harmony export */   \"addObjectToScene\": () => (/* binding */ addObjectToScene),\n/* harmony export */   \"removeObjectFromScene\": () => (/* binding */ removeObjectFromScene)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\n\n\n\n/**\n * There are a few ways of offloading graphics work:\n * \n * - send window events to worker, handle camera ops from there\n * - synchronize camera pos/quaternions between threads (preferred)\n */\n\nlet scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n\nlet camera = new three__WEBPACK_IMPORTED_MODULE_0__.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 20000);\n\nconst getScene = () => scene;\n\nconst getCamera = () => camera;\n\nconst addObjectToScene = (object) => {\n    scene.add(object);\n}\n\nconst removeObjectFromScene = (object) => {\n    scene.remove(object);\n}\n\n//# sourceURL=webpack://the-grove/./src/js/graphics.js?");

/***/ }),

/***/ "./src/js/init/manager.js":
/*!********************************!*\
  !*** ./src/js/init/manager.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./world */ \"./src/js/init/world.js\");\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./player */ \"./src/js/init/player.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((globals, player) => {\n    (0,_world__WEBPACK_IMPORTED_MODULE_0__.default)(globals.world);\n    (0,_player__WEBPACK_IMPORTED_MODULE_1__.default)(globals, player);\n});\n\n\n//# sourceURL=webpack://the-grove/./src/js/init/manager.js?");

/***/ }),

/***/ "./src/js/init/player.js":
/*!*******************************!*\
  !*** ./src/js/init/player.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graphics */ \"./src/js/graphics.js\");\n/* harmony import */ var _threex_pointer_lock_controls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../threex/pointer-lock-controls */ \"./src/js/threex/pointer-lock-controls.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../entities */ \"./src/js/entities.js\");\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((globals, player) => {\n    const mass = 100;\n    const radius = 1.7;\n\n    let sphereShape = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Sphere(radius);\n    let sphereBody = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Body({\n        mass,\n        material: globals.groundMaterial\n    });\n    sphereBody.addShape(sphereShape);\n    sphereBody.position.set(0, 30, 0);\n    // sphereBody.linearDamping = 0.9;\n    sphereBody.angularDamping = 0.9;\n\n    globals.world.addBody(sphereBody);\n\n    sphereBody.addEventListener('collide', (event) => {\n        const contact = event.contact;\n        const upAxis = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3(0, 1, 0);\n\n        let contactNormal = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3();\n\n        if (contact.bi.id == sphereBody.id)\n            contact.ni.negate(contactNormal);\n        else\n            contactNormal.copy(contact.ni);\n\n        if (contactNormal.dot(upAxis) > 0.5 && sphereBody.velocity.y <= -60)\n            player.hp.val -= Math.floor(Math.abs(sphereBody.velocity.y) / 10);\n    });\n\n    let mesh = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(\n        new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(1, 2, 1),\n        new three__WEBPACK_IMPORTED_MODULE_0__.MeshLambertMaterial()\n    );\n    mesh.castShadow = true;\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_2__.addObjectToScene)(mesh);\n    (0,_entities__WEBPACK_IMPORTED_MODULE_3__.addEntity)(sphereBody, sphereShape, mesh, true);\n\n    globals.controls = new _threex_pointer_lock_controls__WEBPACK_IMPORTED_MODULE_4__.PointerLockControls((0,_graphics__WEBPACK_IMPORTED_MODULE_2__.getCamera)(), document.body, sphereBody);\n});\n\n\n//# sourceURL=webpack://the-grove/./src/js/init/player.js?");

/***/ }),

/***/ "./src/js/init/world.js":
/*!******************************!*\
  !*** ./src/js/init/world.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((world) => {\n    world.allowSleep = true;\n    world.defaultContactMaterial.contactEquationStiffness = 1e9;\n    world.defaultContactMaterial.contactEquationRelaxation = 4;\n    world.defaultContactMaterial.friction = 2;\n\n    let solver = new cannon_es__WEBPACK_IMPORTED_MODULE_0__.GSSolver();\n    solver.iterations = 7;\n    solver.tolerance = 0.1;\n\n    const split = false;\n    world.solver = split ? new cannon_es__WEBPACK_IMPORTED_MODULE_0__.SplitSolver(solver) : solver;\n\n    world.gravity.set(0, -25, 0);\n    world.broadphase = new cannon_es__WEBPACK_IMPORTED_MODULE_0__.NaiveBroadphase();\n});\n\n//# sourceURL=webpack://the-grove/./src/js/init/world.js?");

/***/ }),

/***/ "./src/js/items.js":
/*!*************************!*\
  !*** ./src/js/items.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var rpg_tools_lib_ProtoTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rpg-tools/lib/ProtoTree */ \"./node_modules/rpg-tools/lib/ProtoTree.js\");\n/* harmony import */ var _json_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./json/base */ \"./src/js/json/base.json\");\n/* harmony import */ var _json_weapons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./json/weapons */ \"./src/js/json/weapons.json\");\n/* harmony import */ var _json_mats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./json/mats */ \"./src/js/json/mats.json\");\n\n\n\n\n\n\n\n\nObject.assign(_json_base__WEBPACK_IMPORTED_MODULE_1__, _json_weapons__WEBPACK_IMPORTED_MODULE_2__, _json_mats__WEBPACK_IMPORTED_MODULE_3__);\nlet pt = new rpg_tools_lib_ProtoTree__WEBPACK_IMPORTED_MODULE_0__(_json_base__WEBPACK_IMPORTED_MODULE_1__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (callback => {\n    pt = new rpg_tools_lib_ProtoTree__WEBPACK_IMPORTED_MODULE_0__(_json_base__WEBPACK_IMPORTED_MODULE_1__);\n    callback(pt, setUpSword);\n});\n\nfunction setUpComponent(comp, mat) {\n    let c = pt.get(comp),\n        m = pt.get(mat);\n    c.mat = m;\n    c.dmg = m.dmg;\n    c.spd = m.spd;\n    c.dur = m.dur;\n    c.name = 'test';\n    let clone = JSON.parse(JSON.stringify(c));\n    return clone;\n}\n\n\n// makes a sword and returns it; should be in JSON\n\nfunction setUpSword(type, mat1, mat2) {\n    let sword = pt.get(type ? 'longsword' : 'shortsword'),\n        blade = setUpComponent('@blade', mat1),\n        handle = setUpComponent('@handle', mat2);\n    sword.blade = blade;\n    sword.handle = handle;\n    sword.name = `${sword.blade.mat.name} ${sword.name}`;\n    sword.dmg = (blade.dmg + handle.dmg) / 2;\n    sword.spd = (blade.spd + handle.spd) / 2;\n    sword.slot = 'weapon';\n    sword.icon = 'two-handed-sword.svg';\n    sword.id = Math.random(); // for debugging purposes\n    let clone = JSON.parse(JSON.stringify(sword)); // EXTREME workaround but hey it works... :D\n    sword = null;\n    clone.id = Math.random();\n    return clone;\n}\n\n\n//# sourceURL=webpack://the-grove/./src/js/items.js?");

/***/ }),

/***/ "./src/js/json/base.json":
/*!*******************************!*\
  !*** ./src/js/json/base.json ***!
  \*******************************/
/***/ ((module) => {

"use strict";
eval("module.exports = JSON.parse('{\"@item\":{\"name\":\"-- Item --\",\"desc\":\"If you see this, please contact developers\",\"weight\":0,\"ench\":{}},\"@weapon\":{\"proto\":\"@item\",\"name\":\"-- Weapon --\",\"dmg\":0,\"spd\":0,\"knbk\":0,\"slot\":0,\"cost\":{}},\"@sword\":{\"proto\":\"@weapon\",\"name\":\"-- Sword --\",\"blade\":{},\"handle\":{}},\"@blade\":{\"proto\":\"@weapon\",\"name\":\"-- Blade --\",\"mat\":{}},\"@handle\":{\"proto\":\"@weapon\",\"name\":\"-- Handle --\",\"mat\":{}},\"@bow\":{\"proto\":\"@weapon\",\"name\":\"-- Bow --\",\"body\":{},\"string\":{}},\"@body\":{\"proto\":\"@weapon\",\"name\":\"-- Bow Body --\",\"mat\":{}},\"@string\":{\"proto\":\"@weapon\",\"name\":\"-- Bowstring --\",\"mat\":{}},\"@spell\":{\"proto\":\"@weapon\",\"name\":\"-- Spell --\",\"weight\":0},\"@material\":{\"proto\":\"@item\",\"dur\":0,\"spd\":0,\"dmg\":0}}');\n\n//# sourceURL=webpack://the-grove/./src/js/json/base.json?");

/***/ }),

/***/ "./src/js/json/mats.json":
/*!*******************************!*\
  !*** ./src/js/json/mats.json ***!
  \*******************************/
/***/ ((module) => {

"use strict";
eval("module.exports = JSON.parse('{\"wood\":{\"proto\":\"@material\",\"name\":\"Wood\",\"desc\":\"A block of wood.  Interesting.\",\"weight\":2,\"dmg\":3,\"dur\":1,\"spd\":4},\"iron\":{\"proto\":\"@material\",\"name\":\"Iron\",\"desc\":\"A bar of iron for all of your irony needs\",\"weight\":5,\"dmg\":7,\"dur\":3,\"spd\":3},\"steel\":{\"proto\":\"@material\",\"name\":\"Steel\",\"desc\":\"A rod of steel, a steel rod\",\"weight\":6,\"dmg\":12,\"dur\":5,\"spd\":3},\"ebony\":{\"proto\":\"@material\",\"name\":\"Ebony\",\"desc\":\"Like ebay, but ebony\",\"weight\":10,\"dmg\":16,\"dur\":8,\"spd\":2},\"ivory\":{\"proto\":\"@material\",\"name\":\"Ivory\",\"desc\":\"A fine, delicate material\",\"weight\":0.5,\"dmg\":2,\"dur\":1,\"spd\":15},\"dragonivory\":{\"proto\":\"ivory\",\"name\":\"Dragon Ivory\",\"desc\":\"Carved from the scales of the finest dragons in The Grove\",\"dmg\":4,\"dur\":2}}');\n\n//# sourceURL=webpack://the-grove/./src/js/json/mats.json?");

/***/ }),

/***/ "./src/js/json/weapons.json":
/*!**********************************!*\
  !*** ./src/js/json/weapons.json ***!
  \**********************************/
/***/ ((module) => {

"use strict";
eval("module.exports = JSON.parse('{\"shortsword\":{\"proto\":\"@sword\",\"name\":\"Shortsword\",\"desc\":\"A shortened sword\",\"slot\":1},\"longsword\":{\"proto\":\"@sword\",\"name\":\"Longsword\",\"desc\":\"Slonglord!  Wait a sec...\",\"slot\":2}}');\n\n//# sourceURL=webpack://the-grove/./src/js/json/weapons.json?");

/***/ }),

/***/ "./src/js/load.js":
/*!************************!*\
  !*** ./src/js/load.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadModel\": () => (/* binding */ loadModel),\n/* harmony export */   \"load\": () => (/* binding */ load),\n/* harmony export */   \"box\": () => (/* binding */ box),\n/* harmony export */   \"ball\": () => (/* binding */ ball),\n/* harmony export */   \"label\": () => (/* binding */ label)\n/* harmony export */ });\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.js\");\n\n\n\n\n\n\n\n\n///\n\nlet models = {};\nlet accessCount = {};\nlet callbacks = {};\n\nconst loadModel = (uri, callback) => {\n    accessCount[uri] = accessCount[uri] || 0;\n    ++accessCount[uri];\n\n    callbacks[uri] = callbacks[uri] || [];\n    callbacks[uri].push(callback);\n\n    // if this is the first time this resource was requested, load it\n    if (accessCount[uri] === 1)\n    {\n        let loader = new three__WEBPACK_IMPORTED_MODULE_0__.ObjectLoader();\n        loader.load(uri, object => {\n            models[uri] = object;\n\n            // model may have been requested again since it started loading,\n            // serve asset to all cached requests\n            for (let cb of callbacks[uri]) {\n                cb(models[uri].clone());\n            }\n        });\n    }\n\n    // the model is cached\n    if (models[uri]) {\n        callback(models[uri].clone());\n    }\n};\n\nconst load = (mesh, opts = {}, globals) => {\n    mesh.castShadow = true;\n    mesh.recieveShadow = true;\n\n    let verts = [];\n    let faces = [];\n\n    for (var i = 0; i < mesh.geometry.vertices.length; i++) {\n        var v = mesh.geometry.vertices[i];\n        verts.push(v.x);\n        verts.push(v.y);\n        verts.push(v.z);\n    }\n    for (var i = 0; i < mesh.geometry.faces.length; i++) {\n        var f = mesh.geometry.faces[i];\n        faces.push(f.a);\n        faces.push(f.b);\n        faces.push(f.c);\n    }\n\n    var cvph = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Trimesh(verts, faces);\n    var Cbody = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Body({\n        mass: opts.mass ?? 0,\n        material: opts.material\n    });\n    Cbody.addShape(cvph);\n    Cbody.position.copy(mesh.position);\n    Cbody.quaternion.copy(mesh.quaternion);\n    globals.world.addBody(Cbody);\n    \n    const index = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.addEntity)(Cbody, cvph, mesh);\n    return (0,_entities__WEBPACK_IMPORTED_MODULE_2__.getEntity)(index);\n}\n\nconst box = (opts = {}, globals) => {\n    let halfExtents = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3(opts.l ?? 1, opts.h ?? 1, opts.w ?? 1);\n    let boxShape = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Box(halfExtents);\n    let boxGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(halfExtents.x * 2, halfExtents.y * 2, halfExtents.z * 2);\n    let boxBody = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Body({\n        mass: opts.mass ?? 0\n    });\n    boxBody.addShape(boxShape);\n    let boxMesh = opts.mesh ?? new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(boxGeometry, opts.mat || new three__WEBPACK_IMPORTED_MODULE_0__.MeshPhongMaterial({\n        color: 0xFF0000\n    }));\n    const index = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.addEntity)(boxBody, boxShape, boxMesh)\n\n    let body = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.getEntity)(index);\n\n    globals.world.addBody(body.body);\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_3__.addObjectToScene)(body.mesh);\n    body.mesh.castShadow = true;\n    body.mesh.receiveShadow = true;\n    opts.pos ? body.mesh.position.set(opts.pos.x, opts.pos.y, opts.pos.z) : null;\n    body.norotate = opts.norotate ?? false;\n\n    return body;\n\n}\n\nconst ball = (opts = {}, globals) => {\n    let ballShape = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Sphere(opts.radius ?? 0.2);\n    let ballGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.SphereGeometry(ballShape.radius, 32, 32);\n    let ballBody = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Body({\n        mass: opts.mass ?? 10\n    });\n\n    ballBody.addShape(ballShape);\n    let ballMesh = opts.mesh || new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(ballGeometry, opts.mat || new three__WEBPACK_IMPORTED_MODULE_0__.MeshPhongMaterial({\n        color: opts.c ?? 0x00CCFF\n    }));\n\n    const index = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.addEntity)(ballBody, ballShape, ballMesh, opts?.norotate);\n    let body = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.getEntity)(index);\n\n    globals.world.addBody(ballBody);\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_3__.addObjectToScene)(ballMesh);\n    ballMesh.castShadow = true;\n    ballMesh.receiveShadow = true;\n    \n    opts.cb?.(body);\n\n    if (opts.pos) body.body.position.set(opts.pos.x, opts.pos.y, opts.pos.z);\n\n    return body;\n}\n\nconst label = (mesh, txt = '', icon = 'run') => {\n    const fontface = \"Arial\";\n    const fontsize = 18;\n    const borderThickness = 4;\n    const borderColor = {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 1.0\n    };\n    const backgroundColor = {\n        r: 255,\n        g: 255,\n        b: 255,\n        a: 1.0\n    };\n\n    let canvas = document.createElement('canvas');\n    let context = canvas.getContext('2d');\n    context.font = \"Bold \" + fontsize + \"px \" + fontface;\n\n    // get size data (height depends only on font size)\n    let metrics = context.measureText(txt);\n    let textWidth = metrics.width;\n\n    // background color\n    context.fillStyle = \"rgba(\" + backgroundColor.r + \",\" + backgroundColor.g + \",\" +\n        backgroundColor.b + \",\" + backgroundColor.a + \")\";\n    // border color\n    context.strokeStyle = \"rgba(\" + borderColor.r + \",\" + borderColor.g + \",\" +\n        borderColor.b + \",\" + borderColor.a + \")\";\n\n    context.lineWidth = borderThickness;\n    roundRect(context, borderThickness / 2, borderThickness / 2, textWidth + borderThickness, fontsize * 1.4 + borderThickness, 6);\n    // 1.4 is extra height factor for text below baseline: g,j,p,q.\n\n    // text color\n    context.fillStyle = \"rgba(0, 0, 0, 1.0)\";\n\n    context.fillText(txt, borderThickness, fontsize + borderThickness);\n\n    // canvas contents will be used for a texture\n    let texture = new three__WEBPACK_IMPORTED_MODULE_0__.Texture(canvas);\n    texture.needsUpdate = true;\n\n    let spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.SpriteMaterial({\n        map: texture,\n        useScreenCoordinates: false\n    });\n    let sprite = new three__WEBPACK_IMPORTED_MODULE_0__.Sprite(spriteMaterial);\n    sprite.scale.set(5, 2.5, 1.0);\n    mesh.add(sprite);\n}\n\nconst roundRect = (ctx, x, y, w, h, r) => {\n    ctx.beginPath();\n    ctx.moveTo(x + r, y);\n    ctx.lineTo(x + w - r, y);\n    ctx.quadraticCurveTo(x + w, y, x + w, y + r);\n    ctx.lineTo(x + w, y + h - r);\n    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\n    ctx.lineTo(x + r, y + h);\n    ctx.quadraticCurveTo(x, y + h, x, y + h - r);\n    ctx.lineTo(x, y + r);\n    ctx.quadraticCurveTo(x, y, x + r, y);\n    ctx.closePath();\n    ctx.fill();\n    ctx.stroke();\n}\n\n//# sourceURL=webpack://the-grove/./src/js/load.js?");

/***/ }),

/***/ "./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _css_play__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../css/play */ \"./src/css/play.sass\");\n/* harmony import */ var _css_skill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../css/skill */ \"./src/css/skill.sass\");\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./globals */ \"./src/js/globals.js\");\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./player */ \"./src/js/player.js\");\n/* harmony import */ var _pointerlock__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pointerlock */ \"./src/js/pointerlock.js\");\n/* harmony import */ var _shooting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shooting */ \"./src/js/shooting.js\");\n/* harmony import */ var _init_manager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./init/manager */ \"./src/js/init/manager.js\");\n/* harmony import */ var _load__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./load */ \"./src/js/load.js\");\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.js\");\n\n\n\n\n\n/**\n * Tasks\n * - thread renderer\n *  - bodies.js\n *  - player.js\n *  - load.js\n *  - main.js\n *  - threex/PointerLockControls.js\n * - typescript (?)\n * - organize, organize, organize\n */\n\nconst debug = false;\n\n\n\n\n\n\n\n\n// import AI from \"./AI\";\n// import {init as guiInit, quests} from \"./gui\";\n\n\n\n\n\n\n// let physicsDebugger = debug ? cannonDebugger(getScene(), globals.world.bodies, {}) : null;\n\nconst dt = 1 / 60;\n\n// guiInit(globals, player);\n(0,_shooting__WEBPACK_IMPORTED_MODULE_4__.default)(_globals__WEBPACK_IMPORTED_MODULE_5__.default, _player__WEBPACK_IMPORTED_MODULE_6__.default);\n(0,_init_manager__WEBPACK_IMPORTED_MODULE_7__.default)(_globals__WEBPACK_IMPORTED_MODULE_5__.default, _player__WEBPACK_IMPORTED_MODULE_6__.default);\n(0,_load__WEBPACK_IMPORTED_MODULE_8__.loadModel)(`/models/skjar-isles/skjar-isles.json`, object => {\n    // addObjectToScene(object);\n    object.castShadow = true;\n    object.recieveShadow = true;\n    object.updateMatrixWorld(false, true);\n    object.traverse(child => {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_2__.Mesh) {\n            child.castShadow = true;\n            child.recieveShadow = true;\n            \n            let canvas = document.createElement(\"canvas\");\n            canvas.width = child.material.map.image.width;\n            canvas.height = child.material.map.image.height;\n\n            // Copy the image contents to the canvas\n            let ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(child.material.map.image, 0, 0);\n\n            let imageData = ctx.getImageData(0, 0, child.material.map.image.width, child.material.map.image.height);\n\n            (0,_load__WEBPACK_IMPORTED_MODULE_8__.load)(child, {\n                mass: 0,\n                material: _globals__WEBPACK_IMPORTED_MODULE_5__.default.groundMaterial\n            }, _globals__WEBPACK_IMPORTED_MODULE_5__.default);\n\n            const bufferGeometry = new three__WEBPACK_IMPORTED_MODULE_2__.BufferGeometry().fromGeometry(child.geometry);\n            const arrayBuffers = [];\n            for (let attributeName of Object.keys(bufferGeometry.attributes)) {\n                arrayBuffers.push(bufferGeometry.attributes[attributeName].array.buffer)\n            }\n\n            child.updateMatrixWorld();\n            let p = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n            let q = new three__WEBPACK_IMPORTED_MODULE_2__.Quaternion();\n            let s = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n            child.matrixWorld.decompose(p, q, s);\n\n            worker.postMessage({\n                type: \"addObject\",\n                name: child.name,\n                geometry: bufferGeometry,\n                imageData: imageData.data,\n                imageSrc: child.material.map.image.src,\n                imageWidth: child.material.map.image.width,\n                imageHeight: child.material.map.image.height,\n                p,\n                q,\n                s\n            }, arrayBuffers);\n        }\n    });\n});\n// initGraphics();\n// AI(globals);\n(0,_pointerlock__WEBPACK_IMPORTED_MODULE_9__.default)(_globals__WEBPACK_IMPORTED_MODULE_5__.default);\n\nconst worker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"src_js_graphics-worker_js\"), __webpack_require__.b));\nconst offscreenCanvas = document.getElementById(\"main-canvas\");\nconst offscreen = offscreenCanvas.transferControlToOffscreen();\n\nworker.postMessage({\n    type: \"init\",\n    canvas: offscreen,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    pixelRatio: window.devicePixelRatio\n}, [offscreen]);\n\nthree__WEBPACK_IMPORTED_MODULE_2__.DefaultLoadingManager.onProgress = (item, loaded, total) => {\n    console.log(`loading ${item} (${loaded}/${total})`);\n    if (loaded == total) {\n        $('#spinner').hide();\n        $('#load-play-btn, .play-btn').show();\n        lodash__WEBPACK_IMPORTED_MODULE_3__.once(animate)();\n        // quests();\n    }\n};\n\nfunction animate(delta) {\n    if (_globals__WEBPACK_IMPORTED_MODULE_5__.default.controls && _globals__WEBPACK_IMPORTED_MODULE_5__.default.controls.enabled) {\n        if (_globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.bodies.length && _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.meshes.length) {\n            for (let key in _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.bodies) {\n                _globals__WEBPACK_IMPORTED_MODULE_5__.default.world.removeBody(_globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.bodies[key]);\n                delete _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.bodies[key];\n            }\n            for (let key in _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.meshes) {\n                (0,_graphics__WEBPACK_IMPORTED_MODULE_10__.removeObjectFromScene)(_globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.meshes[key]);\n                delete _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.meshes[key];\n            }\n        }\n        else if (_globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.tweens.length) {\n            for (let key in _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.tweens) {\n                _globals__WEBPACK_IMPORTED_MODULE_5__.default.TWEENS[_globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.bodies[key]].stop();\n                delete _globals__WEBPACK_IMPORTED_MODULE_5__.default.remove.tweens[key];\n            }\n        }\n\n        _globals__WEBPACK_IMPORTED_MODULE_5__.default.world.step(dt);\n        // if (debug) physicsDebugger.update();\n\n        // Update bullets, etc.\n\n        for (let e of _entities__WEBPACK_IMPORTED_MODULE_11__.entityList) {\n            e.mesh.position.copy(e.body.position);\n            if (!e.norotate) e.mesh.quaternion.copy(e.body.quaternion);\n        }\n\n        for (let key in _globals__WEBPACK_IMPORTED_MODULE_5__.default.TWEENS) {\n            _globals__WEBPACK_IMPORTED_MODULE_5__.default.TWEENS[key].update(delta);\n        }\n\n        // if (globals.BODIES['player'].body.position.y < -400) player.hp.val--;\n\n        $('#health-bar').val(_player__WEBPACK_IMPORTED_MODULE_6__.default.hp.val / _player__WEBPACK_IMPORTED_MODULE_6__.default.hp.max * 100 > 0 ? _player__WEBPACK_IMPORTED_MODULE_6__.default.hp.val / _player__WEBPACK_IMPORTED_MODULE_6__.default.hp.max * 100 : 0);\n        $('#health').text(`${_player__WEBPACK_IMPORTED_MODULE_6__.default.hp.val > 0 ? _player__WEBPACK_IMPORTED_MODULE_6__.default.hp.val : 0} HP`);\n\n        if (_player__WEBPACK_IMPORTED_MODULE_6__.default.hp.val <= 0) {\n            _globals__WEBPACK_IMPORTED_MODULE_5__.default.socket.disconnect();\n            $('#blocker').fadeIn(5000);\n            $('#load').show().html('<h1>You Have Perished. Game Over...</h1>');\n            return;\n        }\n\n        _globals__WEBPACK_IMPORTED_MODULE_5__.default.controls.update(Date.now() - _globals__WEBPACK_IMPORTED_MODULE_5__.default.delta);\n\n        let p = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n        let q = new three__WEBPACK_IMPORTED_MODULE_2__.Quaternion();\n        let s = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n        (0,_graphics__WEBPACK_IMPORTED_MODULE_10__.getCamera)().updateMatrix();\n        (0,_graphics__WEBPACK_IMPORTED_MODULE_10__.getCamera)().updateWorldMatrix();\n        (0,_graphics__WEBPACK_IMPORTED_MODULE_10__.getCamera)().matrixWorld.decompose(p, q, s);\n        worker.postMessage({ type: \"updateCamera\", p, q, s });\n\n        // updateGraphics();\n        _globals__WEBPACK_IMPORTED_MODULE_5__.default.delta = Date.now();\n    }\n\n    requestAnimationFrame(animate);\n}\n\nwindow.addEventListener('resize', onWindowResize, false);\n\nfunction onWindowResize() {\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_10__.getCamera)().aspect = window.innerWidth / window.innerHeight;\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_10__.getCamera)().updateProjectionMatrix();\n}\n\n//# sourceURL=webpack://the-grove/./src/js/main.js?");

/***/ }),

/***/ "./src/js/player.js":
/*!**************************!*\
  !*** ./src/js/player.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _items__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./items */ \"./src/js/items.js\");\n\n\n\n\nclass Player {\n    constructor() {\n        this.hp = {\n            val: 10, // current hp\n            max: 10 // max hp.  No min, cuz if it reaches 0, ur dead.  fun thoughts\n        };\n        this.mp = {\n            val: 5, // see hp\n            max: 5\n        };\n        this.xp = {\n            level: 0, // level\n            xp: 3, // current xp\n            max: 10 // xp needed till lvl up\n        };\n        this.equipped = {\n            weapon: null\n        };\n        this.inventory = [];\n        this.hotbar = {\n            list: [],\n            selected: 1,\n            active: null\n        };\n\n        (0,_items__WEBPACK_IMPORTED_MODULE_0__.default)((pt, sword) => {\n            this.inventory.push(sword(0, 'iron', 'wood'));\n            this.inventory.push(sword(0, 'ebony', 'iron'));\n        });\n\n    }\n}\n\nlet player = new Player();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (player);\n\n\n//# sourceURL=webpack://the-grove/./src/js/player.js?");

/***/ }),

/***/ "./src/js/pointerlock.js":
/*!*******************************!*\
  !*** ./src/js/pointerlock.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((globals) => {\n    let blocker = document.getElementById('blocker');\n    let hud = document.getElementById('hud');\n\n    const havePointerLock = 'pointerLockElement' in document || 'mozPointerLockElement' in document || 'webkitPointerLockElement' in document;\n\n    if (havePointerLock) {\n\n        let element = document.body;\n\n        let pointerlockchange = () => {\n            if (document.pointerLockElement === element || document.mozPointerLockElement === element || document.webkitPointerLockElement === element) {\n                globals.controls.enabled = true;\n                blocker.style.display = 'none';\n                $('#pause').hide();\n                hud.style.display = '';\n            }\n            else {\n                globals.controls.enabled = false;\n                hud.style.display = 'none';\n                $('#pause').show();\n\n                // blocker.style.display = '-webkit-box';\n                // blocker.style.display = '-moz-box';\n                // blocker.style.display = 'box';\n\n                // instructions.style.display = '';\n            }\n        }\n\n        const pointerlockerror = () => { }\n\n        // Hook pointer lock state change events\n        document.addEventListener('pointerlockchange', pointerlockchange, false);\n        document.addEventListener('mozpointerlockchange', pointerlockchange, false);\n        document.addEventListener('webkitpointerlockchange', pointerlockchange, false);\n\n        document.addEventListener('pointerlockerror', pointerlockerror, false);\n        document.addEventListener('mozpointerlockerror', pointerlockerror, false);\n        document.addEventListener('webkitpointerlockerror', pointerlockerror, false);\n\n        function click() {\n            toggleFullScreen();\n\n            // Ask the browser to lock the pointer\n            element.requestPointerLock = element.requestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;\n\n            element.requestPointerLock();\n        }\n\n        document.getElementsByClassName(\"play-btn\")[0].onclick = click;\n    }\n    else {\n        alert('Your browser doesn\\'t support the HTML5 PointerLock API!');\n    }\n\n    function toggleFullScreen() {\n        let i = document.body;\n        // go full-screen\n        if (i.requestFullscreen) {\n            i.requestFullscreen();\n        }\n        else if (i.webkitRequestFullscreen) {\n            i.webkitRequestFullscreen();\n        }\n        else if (i.mozRequestFullScreen) {\n            i.mozRequestFullScreen();\n        }\n        else if (i.msRequestFullscreen) {\n            i.msRequestFullscreen();\n        }\n    }\n});\n\n//# sourceURL=webpack://the-grove/./src/js/pointerlock.js?");

/***/ }),

/***/ "./src/js/shooting.js":
/*!****************************!*\
  !*** ./src/js/shooting.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _load__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./load */ \"./src/js/load.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.js\");\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.js\");\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((globals, player) => {\n    // let sword;\n    // let weapon;\n\n    // loadModel(\"/models/sword/sword.json\", object => {\n    //     sword = object;\n    //     sword.scale.set(0.1, 0.1, 0.1);\n    //     sword.castShadow = true;\n    //     sword.position.x++;\n    //     sword.position.y -= 1.2;\n    //     sword.position.z -= 1.25;\n    // });\n\n    // const addWeapon = () => {\n    //     if (player.hotbar.list[player.hotbar.selected - 1]) player.equipped.weapon = player.hotbar.list[player.hotbar.selected - 1];\n    //     if (player.equipped.weapon && /sword/gi.test(player.equipped.weapon.name) && !weapon) {\n    //         weapon = sword.clone();\n    //         getCamera().add(weapon);\n    //         window.addEventListener('mousedown', () => {\n    //             if (weapon) {\n    //                 let tween = new TWEEN.Tween(weapon.rotation)\n    //                     .to({\n    //                         x: [-Math.PI / 2, 0]\n    //                     }, 1 / (player.equipped.weapon.spd * 3000))\n    //                     .onStart(() => {\n    //                         let a = new Audio('/audio/sword.mp3');\n    //                         a.play();\n    //                     })\n    //                     .start();\n\n    //                 globals.TWEENS.push(tween);\n    //             }\n    //         });\n    //     }\n    //     else if (!player.equipped.weapon) {\n    //         getCamera().remove(weapon);\n    //         weapon = null;\n    //     }\n    // }\n\n    const getShootDir = (targetVec) => {\n        let playerent = (0,_entities__WEBPACK_IMPORTED_MODULE_1__.getEntity)(0);\n        let vector = targetVec;\n        targetVec.set(0, 0, 1);\n        vector.unproject((0,_graphics__WEBPACK_IMPORTED_MODULE_2__.getCamera)());\n        let ray = new three__WEBPACK_IMPORTED_MODULE_0__.Ray(playerent.body.position, vector.sub(playerent.body.position).normalize());\n        targetVec.copy(ray.direction);\n    }\n\n    const shoot = () => {\n        if (globals.controls.enabled == true && player.equipped) {\n\n            let shootDirection = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n            const shootVelo = 20;\n\n            let playerent = (0,_entities__WEBPACK_IMPORTED_MODULE_1__.getEntity)(0)\n            let x = playerent.body.position.x;\n            let y = playerent.body.position.y;\n            let z = playerent.body.position.z;\n\n            let b = (0,_load__WEBPACK_IMPORTED_MODULE_3__.ball)({\n                c: player.equipped == 'rock' ? 0xCCCCCC : 0xFF4500\n            }, globals);\n\n            getShootDir(shootDirection);\n            b.body.velocity.set(\n                shootDirection.x * shootVelo,\n                shootDirection.y * shootVelo,\n                shootDirection.z * shootVelo);\n\n            // Move the ball outside the player sphere\n            x += shootDirection.x * (playerent.shape.radius * 1.02 + b.shape.radius);\n            y += shootDirection.y * (playerent.shape.radius * 1.02 + b.shape.radius);\n            z += shootDirection.z * (playerent.shape.radius * 1.02 + b.shape.radius);\n            b.body.position.set(x, y, z);\n            b.mesh.position.set(x, y, z);\n            b.id = Math.random();\n\n            b.body.addEventListener(\"collide\", () => {\n                setTimeout(() => {\n                    globals.remove.bodies.push(b.body);\n                    globals.remove.meshes.push(b.mesh);\n                }, 1500);\n            });\n\n            globals.socket.emit('bullet', {\n                pos: {x, y, z},\n                vel: {\n                    x: b.body.velocity.x,\n                    y: b.body.velocity.y,\n                    z: b.body.velocity.z\n                },\n            });\n        }\n    }\n\n    // setInterval(addWeapon, 500);\n\n    $(document).on('mousedown', shoot);\n\n    // $(window).on('keydown', event => {\n    //     try {\n    //         let n = Number(String.fromCharCode(event.keyCode));\n    //         if (typeof n == 'number' && !isNaN(n) && n >= 1 && n <= 8) {\n    //             player.hotbar.selected = n;\n    //             if (player.hotbar.list[n - 1]) player.equipped.weapon = player.hotbar.list[n - 1];\n    //             else player.equipped.weapon = null;\n    //         }\n    //     }\n    //     catch (err) {}\n    // });\n});\n\n\n//# sourceURL=webpack://the-grove/./src/js/shooting.js?");

/***/ }),

/***/ "./src/js/threex/pointer-lock-controls.js":
/*!************************************************!*\
  !*** ./src/js/threex/pointer-lock-controls.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PointerLockControls\": () => (/* binding */ PointerLockControls)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n\n\n\nvar PointerLockControls = function (camera, domElement, body) {\n    this.domElement = domElement;\n    this.isLocked = false;\n\n    // Set to constrain the pitch of the camera\n    // Range is 0 to Math.PI radians\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    //\n    // internals\n    //\n\n    var scope = this;\n\n    var changeEvent = { type: 'change' };\n    var lockEvent = { type: 'lock' };\n    var unlockEvent = { type: 'unlock' };\n\n    var euler = new three__WEBPACK_IMPORTED_MODULE_0__.Euler(0, 0, 0, 'YXZ');\n\n    var PI_2 = Math.PI / 2;\n\n    var vec = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n\n    const velocityFactor = 0.3;\n    const jumpVelocity = 10;\n\n    let moveForward = false;\n    let moveBackward = false;\n    let moveLeft = false;\n    let moveRight = false;\n    let canJump = false;\n\n    function onMouseMove(event) {\n        if (scope.isLocked === false) return;\n\n        var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n        var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n        euler.setFromQuaternion(camera.quaternion);\n\n        euler.y -= movementX * 0.002;\n        euler.x -= movementY * 0.002;\n\n        euler.x = Math.max(PI_2 - scope.maxPolarAngle, Math.min(PI_2 - scope.minPolarAngle, euler.x));\n\n        camera.quaternion.setFromEuler(euler);\n\n        scope.dispatchEvent(changeEvent);\n    }\n\n    function onPointerlockChange() {\n        if (scope.domElement.ownerDocument.pointerLockElement === scope.domElement) {\n            scope.dispatchEvent(lockEvent);\n            scope.isLocked = true;\n        } else {\n            scope.dispatchEvent(unlockEvent);\n            scope.isLocked = false;\n        }\n    }\n\n    function onPointerlockError() {\n        console.error('THREE.PointerLockControls: Unable to use Pointer Lock API');\n    }\n\n    let onKeyDown = function (event) {\n        switch (event.keyCode) {\n            case 38: // up\n            case 87: // w\n                moveForward = true;\n                break;\n            case 37: // left\n            case 65: // a\n                moveLeft = true;\n                break;\n            case 40: // down\n            case 83: // s\n                moveBackward = true;\n                break;\n            case 39: // right\n            case 68: // d\n                moveRight = true;\n                break;\n            case 32: // space\n                if (canJump === true) {\n                    body.velocity.y = jumpVelocity;\n                }\n                canJump = false;\n                break;\n        }\n    };\n\n    let onKeyUp = function (event) {\n        switch (event.keyCode) {\n            case 38: // up\n            case 87: // w\n                moveForward = false;\n                break;\n            case 37: // left\n            case 65: // a\n                moveLeft = false;\n                break;\n            case 40: // down\n            case 83: // a\n                moveBackward = false;\n                break;\n            case 39: // right\n            case 68: // d\n                moveRight = false;\n                break;\n        }\n    };\n\n    this.connect = function () {\n        scope.domElement.ownerDocument.addEventListener('mousemove', onMouseMove);\n        scope.domElement.ownerDocument.addEventListener('keydown', onKeyDown);\n        scope.domElement.ownerDocument.addEventListener('keyup', onKeyUp);\n        scope.domElement.ownerDocument.addEventListener('pointerlockchange', onPointerlockChange);\n        scope.domElement.ownerDocument.addEventListener('pointerlockerror', onPointerlockError);\n    };\n\n    this.disconnect = function () {\n        scope.domElement.ownerDocument.removeEventListener('mousemove', onMouseMove);\n        scope.domElement.ownerDocument.removeEventListener('keydown', onKeyDown);\n        scope.domElement.ownerDocument.removeEventListener('keyup', onKeyUp);\n        scope.domElement.ownerDocument.removeEventListener('pointerlockchange', onPointerlockChange);\n        scope.domElement.ownerDocument.removeEventListener('pointerlockerror', onPointerlockError);\n    };\n\n    this.dispose = function () {\n        this.disconnect();\n    };\n\n    body.addEventListener(\"collide\", (e) => {\n        let contact = e.contact;\n        let contactNormal = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3();\n\n        // contact.bi and contact.bj are the colliding bodies, and contact.ni is the collision normal.\n        // We do not yet know which one is which! Let's check.\n        if (contact.bi.id == body.id)\n            contact.ni.negate(contactNormal);\n        else\n            contactNormal.copy(contact.ni);\n\n        // any value between 0 and 1 -> normal is facing up\n        if (contactNormal.dot(new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3(0, 1, 0)) > 0.5) {\n            canJump = true;\n        }\n    });\n\n    this.update = function (delta) {\n        delta *= 0.1;\n\n        let inputVelocity = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 0);\n\n        if (moveForward) {\n            inputVelocity.z = -velocityFactor * delta;\n        }\n        if (moveBackward) {\n            inputVelocity.z = velocityFactor * delta;\n        }\n        if (moveLeft) {\n            inputVelocity.x = -velocityFactor * delta;\n        }\n        if (moveRight) {\n            inputVelocity.x = velocityFactor * delta;\n        }\n\n        if (canJump) {\n            inputVelocity.x *= 0.8;\n            inputVelocity.y *= 0.8;\n            inputVelocity.z *= 0.8;\n        }\n\n        inputVelocity.applyQuaternion(camera.quaternion);\n\n        body.velocity.x += inputVelocity.x;\n        body.velocity.z += inputVelocity.z;\n        camera.position.copy(body.position);\n    };\n\n    this.getDirection = function () {\n        var direction = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, - 1);\n\n        return function (v) {\n            return v.copy(direction).applyQuaternion(camera.quaternion);\n        };\n    }();\n\n    this.lock = function () {\n        this.domElement.requestPointerLock();\n    };\n\n    this.unlock = function () {\n        scope.domElement.ownerDocument.exitPointerLock();\n    };\n\n    this.connect();\n};\n\nPointerLockControls.prototype = Object.create(three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher.prototype);\nPointerLockControls.prototype.constructor = PointerLockControls;\n\n\n\n//# sourceURL=webpack://the-grove/./src/js/threex/pointer-lock-controls.js?");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ "use strict";
/******/ 
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendor"], () => (__webpack_exec__("./src/js/main.js")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);