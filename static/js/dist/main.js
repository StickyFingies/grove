/*!
 * 
 * Made with <3 by the Grove team | Mon Apr 05 2021 14:14:09 GMT-0500 (Central Daylight Time)
 *
 */
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkthe_grove"] = self["webpackChunkthe_grove"] || []).push([["main"],{

/***/ "./node_modules/css-loader/index.js?minimize=true!./src/css/play.css":
/*!***************************************************************************!*\
  !*** ./node_modules/css-loader/index.js?minimize=true!./src/css/play.css ***!
  \***************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":root{--font-stack:Megrim,sans-serif}body,html{overflow:hidden;margin:0;width:100%;height:100%}.hotbar{border:1px solid #eee;margin-left:4px;margin-right:4px;text-align:center;line-height:50px;font-size:14px;color:#fff;padding:0}.hotbar.active{background:tomato}#blocker{font:100% var(--font-stack);color:#fff;background-color:#000;z-index:5}#blocker,#underlay{position:absolute;width:100%;height:100%}#underlay{background-color:rgba(0,0,0,.8);z-index:1}#load{width:50%;height:50%;text-align:center}#load>*{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#hud{position:fixed;left:5%;bottom:0;width:90%}#quest-alert{position:fixed;right:0;top:20%;width:280px;height:90px;padding-left:30px;padding-top:20px;background-image:url(/img/QuestBar.png);color:#fff}#quest-alert>p{margin-bottom:-4px}#pause{width:60%;left:20%;font-family:var(--font-stack)}#gui,#pause{position:fixed;top:15%}#gui{z-index:4;width:70%;height:70%;left:15%;background-image:url(/img/gui.png);background-size:cover;padding-left:5%;padding-top:3%}#gui-content{height:100%}#gui-exit{position:fixed;bottom:22%;right:20%}#crosshair{position:fixed;left:50%;top:50%}\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack://the-grove/./src/css/play.css?./node_modules/css-loader/index.js?minimize=true");

/***/ }),

/***/ "./src/css/play.css":
/*!**************************!*\
  !*** ./src/css/play.css ***!
  \**************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !!../../node_modules/css-loader/index.js?minimize=true!./play.css */ \"./node_modules/css-loader/index.js?minimize=true!./src/css/play.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! !../../node_modules/style-loader/addStyles.js */ \"./node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://the-grove/./src/css/play.css?");

/***/ }),

/***/ "./src/js/entities.ts":
/*!****************************!*\
  !*** ./src/js/entities.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"entityList\": () => (/* binding */ entityList),\n/* harmony export */   \"addEntity\": () => (/* binding */ addEntity),\n/* harmony export */   \"getEntity\": () => (/* binding */ getEntity)\n/* harmony export */ });\nconst entityList = [];\r\n// eslint-disable-next-line max-len\r\nconst addEntity = (body, shape, mesh, norotate = false) => entityList.push({\r\n    body, shape, mesh, norotate,\r\n}) - 1;\r\nconst getEntity = (id) => entityList[id];\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/entities.ts?");

/***/ }),

/***/ "./src/js/globals.ts":
/*!***************************!*\
  !*** ./src/js/globals.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst G = {\r\n    remove: {\r\n        bodies: [],\r\n        meshes: [],\r\n    },\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (G);\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/globals.ts?");

/***/ }),

/***/ "./src/js/graphics.ts":
/*!****************************!*\
  !*** ./src/js/graphics.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"camera\": () => (/* binding */ camera),\n/* harmony export */   \"updateGraphics\": () => (/* binding */ updateGraphics),\n/* harmony export */   \"initGraphics\": () => (/* binding */ initGraphics),\n/* harmony export */   \"uploadTexture\": () => (/* binding */ uploadTexture),\n/* harmony export */   \"addToScene\": () => (/* binding */ addToScene),\n/* harmony export */   \"removeFromScene\": () => (/* binding */ removeFromScene),\n/* harmony export */   \"resizeGraphicsTarget\": () => (/* binding */ resizeGraphicsTarget)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/**\r\n * ===========================\r\n * Adding and Removing Objects\r\n * ===========================\r\n *\r\n * The situation is a little complicated, but it effectively works like this:\r\n *\r\n * Every time we create an object, we associate it with a unique ID that we can use to set/retrieve\r\n * its transform info from the shared array buffer.  When we delete an object, we recycle its ID, so\r\n * that future entities can reuse that slot in the shared buffer.  We do this by adding the removed\r\n * entity's ID to a list, `availableEntityIds`.  Whenever a new entity is added to the scene, we\r\n * first check that list to see if we can recycle any old, unused entity IDs.  If we cannot do that,\r\n * we increment a global counter and use that as the entity's ID - effectively, putting it at the\r\n * end of the shared array buffer.\r\n *\r\n * Assumptions: Camera has ID #0\r\n */\r\n\r\nconst worker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"src_js_graphicsworker_ts\"), __webpack_require__.b));\r\nconst bytesPerElement = Float32Array.BYTES_PER_ELEMENT;\r\nconst elementsPerTransform = 16;\r\nconst maxEntityCount = 1024;\r\nconst buffer = new SharedArrayBuffer(bytesPerElement * elementsPerTransform * maxEntityCount);\r\nconst array = new Float32Array(buffer);\r\n// this camera acts as a proxy for the actual rendering camera in the backend\r\nconst camera = new three__WEBPACK_IMPORTED_MODULE_0__.PerspectiveCamera();\r\nconst idToEntity = new Map();\r\nconst entityToId = new WeakMap();\r\nconst availableEntityIds = [];\r\nlet entityId = 0;\r\nconst writeTransformToArray = (object) => {\r\n    const offset = entityToId.get(object) * elementsPerTransform;\r\n    // copy world matrix into transform buffer\r\n    object.updateMatrixWorld();\r\n    for (let i = 0; i < elementsPerTransform; i++) {\r\n        array[offset + i] = object.matrixWorld.elements[i];\r\n    }\r\n};\r\nconst updateGraphics = () => {\r\n    idToEntity.forEach((object) => {\r\n        writeTransformToArray(object);\r\n    });\r\n};\r\nconst initGraphics = () => {\r\n    const offscreenCanvas = document.getElementById('main-canvas');\r\n    const offscreen = offscreenCanvas.transferControlToOffscreen();\r\n    idToEntity.set(entityId, camera);\r\n    entityToId.set(camera, entityId);\r\n    entityId += 1;\r\n    updateGraphics();\r\n    worker.postMessage({\r\n        type: 'init',\r\n        buffer,\r\n        canvas: offscreen,\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n        pixelRatio: window.devicePixelRatio,\r\n    }, [offscreen]);\r\n};\r\nconst uploadTexture = (map) => {\r\n    // draw the image to a canvas\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = map.image.width;\r\n    canvas.height = map.image.height;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.drawImage(map.image, 0, 0);\r\n    // grab raw pixel data from the canvas\r\n    const imageData = ctx.getImageData(0, 0, map.image.width, map.image.height);\r\n    // send pixel data to backend\r\n    worker.postMessage({\r\n        type: 'uploadTexture',\r\n        imageName: map.name,\r\n        imageData: imageData.data,\r\n        imageWidth: map.image.width,\r\n        imageHeight: map.image.height,\r\n    });\r\n};\r\nconst addToScene = (object) => {\r\n    let id = entityId;\r\n    if (availableEntityIds.length > 0) {\r\n        id = availableEntityIds.shift();\r\n    }\r\n    else {\r\n        entityId += 1;\r\n    }\r\n    // register object with an ID\r\n    idToEntity.set(id, object);\r\n    entityToId.set(object, id);\r\n    // extract raw geometry data\r\n    // @ts-ignore\r\n    const bufferGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry().fromGeometry(object.geometry);\r\n    const arrayBuffers = [];\r\n    Object.keys(bufferGeometry.attributes).forEach((attributeName) => {\r\n        arrayBuffers.push(bufferGeometry.attributes[attributeName].array.buffer);\r\n    });\r\n    // send object's texture data to backend\r\n    const { map } = object.material;\r\n    if (map)\r\n        uploadTexture(map);\r\n    // send that bitch to the backend\r\n    worker.postMessage({\r\n        type: 'addObject',\r\n        name: object.name,\r\n        geometry: bufferGeometry,\r\n        imageName: map === null || map === void 0 ? void 0 : map.name,\r\n        id,\r\n    }, arrayBuffers);\r\n};\r\nconst removeFromScene = (object) => {\r\n    const id = entityToId.get(object);\r\n    worker.postMessage({\r\n        type: 'removeObject',\r\n        id,\r\n    });\r\n    idToEntity.delete(id);\r\n    entityToId.delete(object);\r\n    availableEntityIds.push(id);\r\n};\r\nconst resizeGraphicsTarget = ({ width, height }) => {\r\n    worker.postMessage({\r\n        type: 'resize',\r\n        width,\r\n        height,\r\n    });\r\n};\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/graphics.ts?");

/***/ }),

/***/ "./src/js/load.ts":
/*!************************!*\
  !*** ./src/js/load.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadModel\": () => (/* binding */ loadModel),\n/* harmony export */   \"loadPhysicsModel\": () => (/* binding */ loadPhysicsModel),\n/* harmony export */   \"ball\": () => (/* binding */ ball),\n/* harmony export */   \"box\": () => (/* binding */ box)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.ts\");\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.ts\");\n/* harmony import */ var _physics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./physics */ \"./src/js/physics.ts\");\n\r\n\r\n\r\n\r\n\r\n///\r\nconst models = {};\r\nconst accessCount = {};\r\nconst callbacks = {};\r\nconst loadModel = (uri, callback) => {\r\n    var _a, _b;\r\n    accessCount[uri] = (_a = accessCount[uri]) !== null && _a !== void 0 ? _a : 0;\r\n    accessCount[uri] += 1;\r\n    callbacks[uri] = (_b = callbacks[uri]) !== null && _b !== void 0 ? _b : [];\r\n    callbacks[uri].push(callback);\r\n    // if this is the first time this resource was requested, load it\r\n    if (accessCount[uri] === 1) {\r\n        const loader = new three__WEBPACK_IMPORTED_MODULE_0__.ObjectLoader();\r\n        loader.load(uri, (object) => {\r\n            models[uri] = object;\r\n            models[uri].updateMatrixWorld();\r\n            // for each child in object\r\n            //   upload child\r\n            //   for each texture in child\r\n            //      upload texture\r\n            // model may have been requested again since it started loading,\r\n            // serve asset to all cached requests\r\n            models[uri].traverse((child) => {\r\n                if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__.Mesh) {\r\n                    callbacks[uri].forEach((cb) => {\r\n                        const inst = child.clone();\r\n                        child.updateMatrixWorld();\r\n                        const p = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\r\n                        const q = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion();\r\n                        const s = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\r\n                        child.matrixWorld.decompose(p, q, s);\r\n                        inst.position.copy(p);\r\n                        inst.quaternion.copy(q);\r\n                        inst.scale.copy(s);\r\n                        (0,_graphics__WEBPACK_IMPORTED_MODULE_1__.addToScene)(inst);\r\n                        cb(inst);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n    // the model is cached\r\n    if (models[uri]) {\r\n        models[uri].traverse((child) => {\r\n            const inst = child.clone();\r\n            child.updateMatrixWorld();\r\n            const p = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\r\n            const q = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion();\r\n            const s = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\r\n            child.matrixWorld.decompose(p, q, s);\r\n            inst.position.copy(p);\r\n            inst.quaternion.copy(q);\r\n            inst.scale.copy(s);\r\n            (0,_graphics__WEBPACK_IMPORTED_MODULE_1__.addToScene)(inst);\r\n            callback(inst);\r\n        });\r\n    }\r\n};\r\nconst loadPhysicsModel = (mesh, mass) => {\r\n    const verts = [];\r\n    const faces = [];\r\n    const { geometry } = mesh;\r\n    // @ts-ignore\r\n    for (let i = 0; i < geometry.vertices.length; i++) {\r\n        // @ts-ignore\r\n        const { x, y, z } = geometry.vertices[i];\r\n        verts.push(x);\r\n        verts.push(y);\r\n        verts.push(z);\r\n    }\r\n    // @ts-ignore\r\n    for (let i = 0; i < geometry.faces.length; i++) {\r\n        // @ts-ignore\r\n        const { a, b, c } = geometry.faces[i];\r\n        faces.push(a);\r\n        faces.push(b);\r\n        faces.push(c);\r\n    }\r\n    const shape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Trimesh(verts, faces);\r\n    const material = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Material('trimeshMaterial');\r\n    const body = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({\r\n        mass,\r\n        material,\r\n    });\r\n    body.addShape(shape);\r\n    const { x: px, y: py, z: pz } = mesh.position;\r\n    const { x: qx, y: qy, z: qz, w: qw, } = mesh.quaternion;\r\n    body.position.copy(new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Vec3(px, py, pz));\r\n    body.quaternion.copy(new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Quaternion(qx, qy, qz, qw));\r\n    _physics__WEBPACK_IMPORTED_MODULE_3__.world.addBody(body);\r\n    const index = (0,_entities__WEBPACK_IMPORTED_MODULE_4__.addEntity)(body, shape, mesh);\r\n    return (0,_entities__WEBPACK_IMPORTED_MODULE_4__.getEntity)(index);\r\n};\r\nconst ball = (opts = {}) => {\r\n    var _a, _b, _c, _d;\r\n    const shape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Sphere((_a = opts.radius) !== null && _a !== void 0 ? _a : 0.2);\r\n    const body = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({\r\n        mass: (_b = opts.mass) !== null && _b !== void 0 ? _b : 10,\r\n    });\r\n    body.addShape(shape);\r\n    _physics__WEBPACK_IMPORTED_MODULE_3__.world.addBody(body);\r\n    const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.SphereGeometry(shape.radius, 32, 32);\r\n    const ballMesh = opts.mesh || new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, opts.mat || new three__WEBPACK_IMPORTED_MODULE_0__.MeshPhongMaterial({\r\n        color: (_c = opts.c) !== null && _c !== void 0 ? _c : 0x00CCFF,\r\n    }));\r\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_1__.addToScene)(ballMesh);\r\n    const index = (0,_entities__WEBPACK_IMPORTED_MODULE_4__.addEntity)(body, shape, ballMesh, opts === null || opts === void 0 ? void 0 : opts.norotate);\r\n    const entity = (0,_entities__WEBPACK_IMPORTED_MODULE_4__.getEntity)(index);\r\n    (_d = opts.cb) === null || _d === void 0 ? void 0 : _d.call(opts, entity);\r\n    return entity;\r\n};\r\nconst box = (opts = {}) => {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    const halfExtents = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Vec3((_a = opts.l) !== null && _a !== void 0 ? _a : 1, (_b = opts.h) !== null && _b !== void 0 ? _b : 1, (_c = opts.w) !== null && _c !== void 0 ? _c : 1);\r\n    const boxShape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Box(halfExtents);\r\n    const boxGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(halfExtents.x * 2, halfExtents.y * 2, halfExtents.z * 2);\r\n    const boxBody = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({\r\n        mass: (_d = opts.mass) !== null && _d !== void 0 ? _d : 0,\r\n    });\r\n    boxBody.addShape(boxShape);\r\n    const boxMesh = (_e = opts.mesh) !== null && _e !== void 0 ? _e : new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(boxGeometry, opts.mat || new three__WEBPACK_IMPORTED_MODULE_0__.MeshPhongMaterial({\r\n        color: 0xFF0000,\r\n    }));\r\n    const index = (0,_entities__WEBPACK_IMPORTED_MODULE_4__.addEntity)(boxBody, boxShape, boxMesh);\r\n    const body = (0,_entities__WEBPACK_IMPORTED_MODULE_4__.getEntity)(index);\r\n    _physics__WEBPACK_IMPORTED_MODULE_3__.world.addBody(body.body);\r\n    body.mesh.castShadow = true;\r\n    body.mesh.receiveShadow = true;\r\n    if (opts.pos)\r\n        body.mesh.position.set(opts.pos.x, opts.pos.y, opts.pos.z);\r\n    body.norotate = (_f = opts.norotate) !== null && _f !== void 0 ? _f : false;\r\n    return body;\r\n};\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/load.ts?");

/***/ }),

/***/ "./src/js/main.ts":
/*!************************!*\
  !*** ./src/js/main.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bootstrap_dist_css_bootstrap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap/dist/css/bootstrap */ \"./node_modules/bootstrap/dist/css/bootstrap.css\");\n/* harmony import */ var bootstrap_dist_css_bootstrap__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_css_bootstrap__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_play__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../css/play */ \"./src/css/play.css\");\n/* harmony import */ var _css_play__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_play__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var stats_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! stats-js */ \"./node_modules/stats-js/build/stats.min.js\");\n/* harmony import */ var stats_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(stats_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./globals */ \"./src/js/globals.ts\");\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./player */ \"./src/js/player.ts\");\n/* harmony import */ var _pointerlock__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pointerlock */ \"./src/js/pointerlock.ts\");\n/* harmony import */ var _shooting__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./shooting */ \"./src/js/shooting.ts\");\n/* harmony import */ var _load__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./load */ \"./src/js/load.ts\");\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.ts\");\n/* harmony import */ var _physics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./physics */ \"./src/js/physics.ts\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.ts\");\n/* harmony import */ var _threex_pointerlockControls__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./threex/pointerlockControls */ \"./src/js/threex/pointerlockControls.ts\");\n\r\n\r\n\r\n\r\n// @ts-ignore\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet gameStarted = false;\r\n// initiate the game\r\n// guiInit(globals, player);\r\n(0,_graphics__WEBPACK_IMPORTED_MODULE_5__.initGraphics)();\r\n(0,_physics__WEBPACK_IMPORTED_MODULE_6__.initPhysics)();\r\nconst player = new _player__WEBPACK_IMPORTED_MODULE_7__.default();\r\nconst playerEnt = (0,_entities__WEBPACK_IMPORTED_MODULE_8__.getEntity)(0);\r\nconst controls = new _threex_pointerlockControls__WEBPACK_IMPORTED_MODULE_9__.default(_graphics__WEBPACK_IMPORTED_MODULE_5__.camera, document.body, playerEnt.body);\r\n(0,_shooting__WEBPACK_IMPORTED_MODULE_10__.default)(_globals__WEBPACK_IMPORTED_MODULE_11__.default, controls);\r\n(0,_load__WEBPACK_IMPORTED_MODULE_12__.loadModel)('/models/skjar-isles/skjar-isles.json', (child) => (0,_load__WEBPACK_IMPORTED_MODULE_12__.loadPhysicsModel)(child, 0));\r\n// AI(globals);\r\n(0,_pointerlock__WEBPACK_IMPORTED_MODULE_13__.default)();\r\n// asset loading handler\r\nconsole.groupCollapsed('[LoadingManager]');\r\nthree__WEBPACK_IMPORTED_MODULE_2__.DefaultLoadingManager.onProgress = (url, loaded, total) => {\r\n    console.log(`${url} (${loaded}/${total})`);\r\n    if (loaded === total) {\r\n        console.groupEnd();\r\n        jquery__WEBPACK_IMPORTED_MODULE_3___default()('#spinner').hide();\r\n        jquery__WEBPACK_IMPORTED_MODULE_3___default()('#load-play-btn, .play-btn').show();\r\n        gameStarted = true;\r\n        // quests();\r\n    }\r\n};\r\n// main game loop\r\nlet then = 0;\r\nconst stats = new (stats_js__WEBPACK_IMPORTED_MODULE_4___default())();\r\nstats.showPanel(1);\r\ndocument.body.appendChild(stats.dom);\r\nconst animate = (now) => {\r\n    const delta = now - then;\r\n    stats.begin();\r\n    if (gameStarted && controls.isLocked) {\r\n        // remove entities that need to be removed\r\n        _globals__WEBPACK_IMPORTED_MODULE_11__.default.remove.bodies.forEach((body) => {\r\n            _physics__WEBPACK_IMPORTED_MODULE_6__.world.removeBody(body);\r\n        });\r\n        _globals__WEBPACK_IMPORTED_MODULE_11__.default.remove.bodies = [];\r\n        _globals__WEBPACK_IMPORTED_MODULE_11__.default.remove.meshes.forEach((mesh) => {\r\n            (0,_graphics__WEBPACK_IMPORTED_MODULE_5__.removeFromScene)(mesh);\r\n        });\r\n        _globals__WEBPACK_IMPORTED_MODULE_11__.default.remove.meshes = [];\r\n        // update physics\r\n        _physics__WEBPACK_IMPORTED_MODULE_6__.world.step(1 / 60, Math.min(delta, 1 / 30));\r\n        // copy physical body transforms to their corresponding mesh\r\n        _entities__WEBPACK_IMPORTED_MODULE_8__.entityList.forEach((e) => {\r\n            e.mesh.position.copy(e.body.position);\r\n            if (!e.norotate)\r\n                e.mesh.quaternion.copy(e.body.quaternion);\r\n        });\r\n        // update controls & graphics\r\n        controls.update(delta);\r\n        (0,_graphics__WEBPACK_IMPORTED_MODULE_5__.updateGraphics)();\r\n        // death\r\n        if (player.hp.val <= 0) {\r\n            jquery__WEBPACK_IMPORTED_MODULE_3___default()('#blocker').fadeIn(5000);\r\n            jquery__WEBPACK_IMPORTED_MODULE_3___default()('#load').show().html('<h1>You Have Perished. Game Over...</h1>');\r\n            return;\r\n        }\r\n    }\r\n    stats.end();\r\n    requestAnimationFrame(animate);\r\n    then = now;\r\n};\r\nrequestAnimationFrame(animate);\r\nwindow.addEventListener('resize', () => {\r\n    (0,_graphics__WEBPACK_IMPORTED_MODULE_5__.resizeGraphicsTarget)({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/main.ts?");

/***/ }),

/***/ "./src/js/physics.ts":
/*!***************************!*\
  !*** ./src/js/physics.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"world\": () => (/* binding */ world),\n/* harmony export */   \"initPhysics\": () => (/* binding */ initPhysics)\n/* harmony export */ });\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n\r\nconst world = new cannon_es__WEBPACK_IMPORTED_MODULE_0__.World();\r\nconst initPhysics = () => {\r\n    world.allowSleep = true;\r\n    world.defaultContactMaterial.contactEquationStiffness = 1e9;\r\n    world.defaultContactMaterial.contactEquationRelaxation = 4;\r\n    world.defaultContactMaterial.friction = 2;\r\n    const solver = new cannon_es__WEBPACK_IMPORTED_MODULE_0__.GSSolver();\r\n    solver.iterations = 7;\r\n    solver.tolerance = 0.1;\r\n    const split = true;\r\n    world.solver = split ? new cannon_es__WEBPACK_IMPORTED_MODULE_0__.SplitSolver(solver) : solver;\r\n    world.gravity.set(0, -9.8, 0);\r\n    world.broadphase = new cannon_es__WEBPACK_IMPORTED_MODULE_0__.NaiveBroadphase();\r\n};\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/physics.ts?");

/***/ }),

/***/ "./src/js/player.ts":
/*!**************************!*\
  !*** ./src/js/player.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.ts\");\n/* harmony import */ var _physics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./physics */ \"./src/js/physics.ts\");\n\r\n\r\n\r\n\r\nclass Player {\r\n    constructor() {\r\n        this.hp = {\r\n            val: 10,\r\n            max: 10, // max hp.  No min, cuz if it reaches 0, ur dead.  fun thoughts\r\n        };\r\n        this.mp = {\r\n            val: 5,\r\n            max: 5,\r\n        };\r\n        this.xp = {\r\n            level: 0,\r\n            xp: 3,\r\n            max: 10, // xp needed till lvl up\r\n        };\r\n        this.equipped = {\r\n            weapon: null,\r\n        };\r\n        this.inventory = [];\r\n        this.hotbar = {\r\n            list: [],\r\n            selected: 1,\r\n            active: null,\r\n        };\r\n        const mass = 1;\r\n        const radius = 1.7;\r\n        const shape = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Sphere(radius);\r\n        const material = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Material('playerMaterial');\r\n        const body = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Body({\r\n            mass,\r\n            material,\r\n        });\r\n        body.addShape(shape);\r\n        body.position.set(0, 30, 0);\r\n        body.fixedRotation = true;\r\n        // body.linearDamping = 0.9;\r\n        _physics__WEBPACK_IMPORTED_MODULE_2__.world.addBody(body);\r\n        body.addEventListener('collide', ({ contact }) => {\r\n            const upAxis = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3(0, 1, 0);\r\n            const contactNormal = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3();\r\n            if (contact.bi.id === body.id) {\r\n                contact.ni.negate(contactNormal);\r\n            }\r\n            else {\r\n                contactNormal.copy(contact.ni);\r\n            }\r\n            if (contactNormal.dot(upAxis) > 0.5 && body.velocity.y <= -10) {\r\n                this.hp.val -= Math.floor(Math.abs(body.velocity.y) / 5);\r\n                console.log(this.hp.val);\r\n            }\r\n        });\r\n        (0,_entities__WEBPACK_IMPORTED_MODULE_3__.addEntity)(body, shape, new three__WEBPACK_IMPORTED_MODULE_0__.Object3D(), true);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Player);\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/player.ts?");

/***/ }),

/***/ "./src/js/pointerlock.ts":
/*!*******************************!*\
  !*** ./src/js/pointerlock.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\r\nconst toggleFullScreen = () => {\r\n    document.body.requestFullscreen();\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (() => {\r\n    const blocker = document.getElementById('blocker');\r\n    const hud = document.getElementById('hud');\r\n    const havePointerLock = 'pointerLockElement' in document;\r\n    if (havePointerLock) {\r\n        const element = document.body;\r\n        const pointerlockchange = () => {\r\n            if (document.pointerLockElement === element) {\r\n                blocker.style.display = 'none';\r\n                jquery__WEBPACK_IMPORTED_MODULE_0___default()('#pause').hide();\r\n                hud.style.display = '';\r\n            }\r\n            else {\r\n                hud.style.display = 'none';\r\n                jquery__WEBPACK_IMPORTED_MODULE_0___default()('#pause').show();\r\n            }\r\n        };\r\n        const pointerlockerror = () => { };\r\n        document.addEventListener('pointerlockchange', pointerlockchange);\r\n        document.addEventListener('mozpointerlockchange', pointerlockchange);\r\n        document.addEventListener('webkitpointerlockchange', pointerlockchange);\r\n        document.addEventListener('pointerlockerror', pointerlockerror);\r\n        document.addEventListener('mozpointerlockerror', pointerlockerror);\r\n        document.addEventListener('webkitpointerlockerror', pointerlockerror);\r\n        const click = () => {\r\n            toggleFullScreen();\r\n            element.requestPointerLock();\r\n        };\r\n        const playButton = document.getElementsByClassName('play-btn')[0];\r\n        playButton.onclick = click;\r\n    }\r\n    else {\r\n        console.error('HTML5 PointerLock API is not supported');\r\n    }\r\n});\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/pointerlock.ts?");

/***/ }),

/***/ "./src/js/shooting.ts":
/*!****************************!*\
  !*** ./src/js/shooting.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _load__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./load */ \"./src/js/load.ts\");\n/* harmony import */ var _entities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entities */ \"./src/js/entities.ts\");\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.ts\");\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((globals, controls) => {\r\n    const getShootDir = (targetVec) => {\r\n        const playerent = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.getEntity)(0);\r\n        const vector = targetVec;\r\n        targetVec.set(0, 0, 1);\r\n        vector.unproject(_graphics__WEBPACK_IMPORTED_MODULE_3__.camera);\r\n        const ray = new three__WEBPACK_IMPORTED_MODULE_0__.Ray(playerent.body.position, vector.sub(playerent.body.position).normalize());\r\n        targetVec.copy(ray.direction);\r\n    };\r\n    const shoot = () => {\r\n        if (!controls.isLocked)\r\n            return;\r\n        const b = (0,_load__WEBPACK_IMPORTED_MODULE_4__.ball)({\r\n            c: 0xFF4500,\r\n        });\r\n        const shootDirection = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\r\n        getShootDir(shootDirection);\r\n        const { x: sdx, y: sdy, z: sdz } = shootDirection;\r\n        const shootVelo = 20;\r\n        b.body.velocity.set(sdx * shootVelo, sdy * shootVelo, sdz * shootVelo);\r\n        const playerent = (0,_entities__WEBPACK_IMPORTED_MODULE_2__.getEntity)(0);\r\n        let { x, y, z } = playerent.body.position;\r\n        x += sdx * b.shape.radius;\r\n        y += sdy * b.shape.radius;\r\n        z += sdz * b.shape.radius;\r\n        b.body.position.set(x, y, z);\r\n        const collideCb = () => {\r\n            b.body.removeEventListener('collide', collideCb);\r\n            setTimeout(() => {\r\n                globals.remove.bodies.push(b.body);\r\n                globals.remove.meshes.push(b.mesh);\r\n            }, 1500);\r\n        };\r\n        b.body.addEventListener('collide', collideCb);\r\n    };\r\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).on('mousedown', shoot);\r\n});\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/shooting.ts?");

/***/ }),

/***/ "./src/js/threex/pointerlockControls.ts":
/*!**********************************************!*\
  !*** ./src/js/threex/pointerlockControls.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\nvar __classPrivateFieldSet = (undefined && undefined.__classPrivateFieldSet) || function (receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n};\r\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n};\r\nvar _minPolarAngle, _maxPolarAngle, _velocityFactor, _jumpVelocity, _moveForward, _moveBackward, _moveLeft, _moveRight, _canJump;\r\n\r\n\r\nclass PointerLockControls {\r\n    constructor(camera, domElement, body) {\r\n        this.isLocked = false;\r\n        _minPolarAngle.set(this, 0);\r\n        _maxPolarAngle.set(this, Math.PI);\r\n        _velocityFactor.set(this, 4);\r\n        _jumpVelocity.set(this, 4);\r\n        _moveForward.set(this, false);\r\n        _moveBackward.set(this, false);\r\n        _moveLeft.set(this, false);\r\n        _moveRight.set(this, false);\r\n        _canJump.set(this, false);\r\n        this.camera = camera;\r\n        this.domElement = domElement;\r\n        this.body = body;\r\n        this.body.allowSleep = false;\r\n        body.addEventListener('collide', ({ contact }) => {\r\n            const contactNormal = new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3();\r\n            if (contact.bi.id === body.id) {\r\n                contact.ni.negate(contactNormal);\r\n            }\r\n            else {\r\n                contactNormal.copy(contact.ni);\r\n            }\r\n            // how \"flat\" does a surface have to be in order to jump on it\r\n            // 0: can climb sheer cliffs - 1: can only jump on flat plane\r\n            const normalThreshold = 0.64;\r\n            if (contactNormal.dot(new cannon_es__WEBPACK_IMPORTED_MODULE_1__.Vec3(0, 1, 0)) > normalThreshold) {\r\n                __classPrivateFieldSet(this, _canJump, true);\r\n            }\r\n        });\r\n        this.connect();\r\n    }\r\n    onPointerlockChange() {\r\n        this.isLocked = (document.pointerLockElement === this.domElement);\r\n    }\r\n    onMouseMove({ movementX, movementY }) {\r\n        if (!this.isLocked)\r\n            return;\r\n        const euler = new three__WEBPACK_IMPORTED_MODULE_0__.Euler(0, 0, 0, 'YXZ');\r\n        euler.setFromQuaternion(this.camera.quaternion);\r\n        euler.y -= movementX * 0.002;\r\n        euler.x -= movementY * 0.002;\r\n        const PI_2 = Math.PI / 2;\r\n        euler.x = Math.max(PI_2 - __classPrivateFieldGet(this, _maxPolarAngle), Math.min(PI_2 - __classPrivateFieldGet(this, _minPolarAngle), euler.x));\r\n        this.camera.quaternion.setFromEuler(euler);\r\n    }\r\n    onKeyDown({ key }) {\r\n        switch (key) {\r\n            case 'ArrowUp':\r\n            case 'w':\r\n                __classPrivateFieldSet(this, _moveForward, true);\r\n                break;\r\n            case 'ArrowLeft':\r\n            case 'a':\r\n                __classPrivateFieldSet(this, _moveLeft, true);\r\n                break;\r\n            case 'ArrowDown':\r\n            case 's':\r\n                __classPrivateFieldSet(this, _moveBackward, true);\r\n                break;\r\n            case 'ArrowRight':\r\n            case 'd':\r\n                __classPrivateFieldSet(this, _moveRight, true);\r\n                break;\r\n            case ' ':\r\n                if (__classPrivateFieldGet(this, _canJump)) {\r\n                    this.body.velocity.y += __classPrivateFieldGet(this, _jumpVelocity);\r\n                }\r\n                __classPrivateFieldSet(this, _canJump, false);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n    onKeyUp({ key }) {\r\n        switch (key) {\r\n            case 'ArrowUp':\r\n            case 'w':\r\n                __classPrivateFieldSet(this, _moveForward, false);\r\n                break;\r\n            case 'ArrowLeft':\r\n            case 'a':\r\n                __classPrivateFieldSet(this, _moveLeft, false);\r\n                break;\r\n            case 'ArrowDown':\r\n            case 's':\r\n                __classPrivateFieldSet(this, _moveBackward, false);\r\n                break;\r\n            case 'ArrowRight':\r\n            case 'd':\r\n                __classPrivateFieldSet(this, _moveRight, false);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n    connect() {\r\n        document.addEventListener('mousemove', (e) => this.onMouseMove(e));\r\n        document.addEventListener('keydown', (e) => this.onKeyDown(e));\r\n        document.addEventListener('keyup', (e) => this.onKeyUp(e));\r\n        document.addEventListener('pointerlockchange', () => this.onPointerlockChange());\r\n    }\r\n    disconnect() {\r\n        document.removeEventListener('mousemove', this.onMouseMove);\r\n        document.removeEventListener('keydown', this.onKeyDown);\r\n        document.removeEventListener('keyup', this.onKeyUp);\r\n        document.removeEventListener('pointerlockchange', this.onPointerlockChange);\r\n    }\r\n    dispose() {\r\n        this.disconnect();\r\n    }\r\n    update(d) {\r\n        const delta = d * 0.1;\r\n        const inputVelocity = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 0);\r\n        if (__classPrivateFieldGet(this, _moveForward)) {\r\n            inputVelocity.z = -__classPrivateFieldGet(this, _velocityFactor) * delta;\r\n        }\r\n        if (__classPrivateFieldGet(this, _moveBackward)) {\r\n            inputVelocity.z = __classPrivateFieldGet(this, _velocityFactor) * delta;\r\n        }\r\n        if (__classPrivateFieldGet(this, _moveLeft)) {\r\n            inputVelocity.x = -__classPrivateFieldGet(this, _velocityFactor) * delta;\r\n        }\r\n        if (__classPrivateFieldGet(this, _moveRight)) {\r\n            inputVelocity.x = __classPrivateFieldGet(this, _velocityFactor) * delta;\r\n        }\r\n        inputVelocity.applyQuaternion(this.camera.quaternion);\r\n        // eslint-disable-next-line max-len\r\n        const clamp = (num, a, b) => Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\r\n        this.body.velocity.x += inputVelocity.x;\r\n        this.body.velocity.z += inputVelocity.z;\r\n        this.body.velocity.x = clamp(this.body.velocity.x, -inputVelocity.x, inputVelocity.x);\r\n        this.body.velocity.z = clamp(this.body.velocity.z, -inputVelocity.z, inputVelocity.z);\r\n        const { x: px, y: py, z: pz } = this.body.position;\r\n        this.camera.position.copy(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(px, py, pz));\r\n    }\r\n    getDirection() {\r\n        const direction = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, -1);\r\n        return (v) => v.copy(direction).applyQuaternion(this.camera.quaternion);\r\n    }\r\n    lock() {\r\n        this.domElement.requestPointerLock();\r\n    }\r\n    // eslint-disable-next-line class-methods-use-this\r\n    unlock() {\r\n        document.exitPointerLock();\r\n    }\r\n}\r\n_minPolarAngle = new WeakMap(), _maxPolarAngle = new WeakMap(), _velocityFactor = new WeakMap(), _jumpVelocity = new WeakMap(), _moveForward = new WeakMap(), _moveBackward = new WeakMap(), _moveLeft = new WeakMap(), _moveRight = new WeakMap(), _canJump = new WeakMap();\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PointerLockControls);\r\n\n\n//# sourceURL=webpack://the-grove/./src/js/threex/pointerlockControls.ts?");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ "use strict";
/******/ 
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendor"], () => (__webpack_exec__("./src/js/main.ts")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);